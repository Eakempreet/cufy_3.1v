/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/user/payment-proof/route";
exports.ids = ["app/api/user/payment-proof/route"];
exports.modules = {

/***/ "(ssr)/./node_modules/@supabase/realtime-js/dist/main sync recursive":
/*!************************************************************!*\
  !*** ./node_modules/@supabase/realtime-js/dist/main/ sync ***!
  \************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(ssr)/./node_modules/@supabase/realtime-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Fpayment-proof%2Froute&page=%2Fapi%2Fuser%2Fpayment-proof%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fpayment-proof%2Froute.ts&appDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Fpayment-proof%2Froute&page=%2Fapi%2Fuser%2Fpayment-proof%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fpayment-proof%2Froute.ts&appDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _home_aman_Desktop_cufy_3_1v_1_app_api_user_payment_proof_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/user/payment-proof/route.ts */ \"(rsc)/./app/api/user/payment-proof/route.ts\");\n\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n// @ts-expect-error - replaced by webpack/turbopack loader\n\nconst AppRouteRouteModule = next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule;\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/user/payment-proof/route\",\n        pathname: \"/api/user/payment-proof\",\n        filename: \"route\",\n        bundlePath: \"app/api/user/payment-proof/route\"\n    },\n    resolvedPagePath: \"/home/aman/Desktop/cufy_3.1v-1/app/api/user/payment-proof/route.ts\",\n    nextConfigOutput,\n    userland: _home_aman_Desktop_cufy_3_1v_1_app_api_user_payment_proof_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/user/payment-proof/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1c2VyJTJGcGF5bWVudC1wcm9vZiUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdXNlciUyRnBheW1lbnQtcHJvb2YlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ1c2VyJTJGcGF5bWVudC1wcm9vZiUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGYW1hbiUyRkRlc2t0b3AlMkZjdWZ5XzMuMXYtMSUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRmFtYW4lMkZEZXNrdG9wJTJGY3VmeV8zLjF2LTEmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDaEQ7QUFDMEY7QUFDM0I7QUFDL0Q7QUFDK0Y7QUFDL0YsNEJBQTRCLGdIQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvPzNiY2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwibmV4dC9kaXN0L3NlcnZlci9ub2RlLXBvbHlmaWxsLWhlYWRlcnNcIjtcbi8vIEB0cy1pZ25vcmUgdGhpcyBuZWVkIHRvIGJlIGltcG9ydGVkIGZyb20gbmV4dC9kaXN0IHRvIGJlIGV4dGVybmFsXG5pbXBvcnQgKiBhcyBtb2R1bGUgZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3IgLSByZXBsYWNlZCBieSB3ZWJwYWNrL3R1cmJvcGFjayBsb2FkZXJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvaG9tZS9hbWFuL0Rlc2t0b3AvY3VmeV8zLjF2LTEvYXBwL2FwaS91c2VyL3BheW1lbnQtcHJvb2Yvcm91dGUudHNcIjtcbmNvbnN0IEFwcFJvdXRlUm91dGVNb2R1bGUgPSBtb2R1bGUuQXBwUm91dGVSb3V0ZU1vZHVsZTtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXIvcGF5bWVudC1wcm9vZi9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VzZXIvcGF5bWVudC1wcm9vZlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdXNlci9wYXltZW50LXByb29mL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvYW1hbi9EZXNrdG9wL2N1ZnlfMy4xdi0xL2FwcC9hcGkvdXNlci9wYXltZW50LXByb29mL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3VzZXIvcGF5bWVudC1wcm9vZi9yb3V0ZVwiO1xuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Fpayment-proof%2Froute&page=%2Fapi%2Fuser%2Fpayment-proof%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fpayment-proof%2Froute.ts&appDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/user/payment-proof/route.ts":
/*!*********************************************!*\
  !*** ./app/api/user/payment-proof/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n\n\nasync function POST(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)();\n        if (!session?.user?.email) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Get user data first using admin client for RLS bypass\n        const { data: userData, error: userError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabaseAdmin.from(\"users\").select(\"id, subscription_type, payment_proof_url\").eq(\"email\", session.user.email).single();\n        if (userError || !userData) {\n            console.error(\"User fetch error:\", userError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"User not found\"\n            }, {\n                status: 404\n            });\n        }\n        if (!userData.subscription_type) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"No subscription selected\"\n            }, {\n                status: 400\n            });\n        }\n        // Check if request is JSON (payment proof URL) or FormData (file upload)\n        const contentType = request.headers.get(\"content-type\");\n        let paymentProofUrl;\n        if (contentType?.includes(\"application/json\")) {\n            // Handle JSON request with payment proof URL from ImageUpload component\n            const { payment_proof_url } = await request.json();\n            if (!payment_proof_url) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"No payment proof URL provided\"\n                }, {\n                    status: 400\n                });\n            }\n            paymentProofUrl = payment_proof_url;\n            // If user has existing payment proof, delete the old one from storage\n            if (userData.payment_proof_url && userData.payment_proof_url !== paymentProofUrl) {\n                try {\n                    console.log(\"Deleting old payment proof:\", userData.payment_proof_url);\n                    // Try to delete old file - use both admin and regular client for better compatibility\n                    const deleteOperations = [\n                        _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabaseAdmin.storage.from(\"payment-proofs\").remove([\n                            userData.payment_proof_url\n                        ]),\n                        _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.storage.from(\"payment-proofs\").remove([\n                            userData.payment_proof_url\n                        ])\n                    ];\n                    await Promise.allSettled(deleteOperations);\n                    console.log(\"Old payment proof deletion attempted\");\n                } catch (deleteError) {\n                    console.log(\"Error deleting old payment proof:\", deleteError);\n                // Don't fail the upload if delete fails\n                }\n            }\n        } else {\n            // Handle FormData file upload (legacy support)\n            const formData = await request.formData();\n            const file = formData.get(\"file\");\n            if (!file) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"No file provided\"\n                }, {\n                    status: 400\n                });\n            }\n            // Validate file type\n            if (!file.type.startsWith(\"image/\")) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Please select an image file.\"\n                }, {\n                    status: 400\n                });\n            }\n            // Validate file size (10MB limit)\n            if (file.size > 10 * 1024 * 1024) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Image must be less than 10MB.\"\n                }, {\n                    status: 400\n                });\n            }\n            // Upload payment proof to Supabase Storage\n            const fileExt = file.name.split(\".\").pop();\n            const fileName = `payment_proof_${userData.id}_${Date.now()}.${fileExt}`;\n            // Delete old file first if it exists\n            if (userData.payment_proof_url) {\n                try {\n                    console.log(\"Deleting old payment proof file:\", userData.payment_proof_url);\n                    // Try to delete with both clients\n                    const deleteOperations = [\n                        _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabaseAdmin.storage.from(\"payment-proofs\").remove([\n                            userData.payment_proof_url\n                        ]),\n                        _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.storage.from(\"payment-proofs\").remove([\n                            userData.payment_proof_url\n                        ])\n                    ];\n                    await Promise.allSettled(deleteOperations);\n                } catch (deleteError) {\n                    console.log(\"Could not delete old payment proof:\", deleteError);\n                }\n            }\n            // Upload new file using admin client for better compatibility\n            const { error: uploadError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabaseAdmin.storage.from(\"payment-proofs\").upload(fileName, file, {\n                cacheControl: \"3600\",\n                upsert: true // Allow overwriting\n            });\n            if (uploadError) {\n                console.error(\"Upload error:\", uploadError);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: `Failed to upload payment proof: ${uploadError.message}`\n                }, {\n                    status: 500\n                });\n            }\n            paymentProofUrl = fileName;\n        }\n        // Create or update payment record using admin client\n        const { data: existingPayment } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabaseAdmin.from(\"payments\").select(\"id\").eq(\"user_id\", userData.id).single();\n        let payment;\n        const paymentData = {\n            user_id: userData.id,\n            amount: userData.subscription_type === \"premium\" ? 249 : 99,\n            payment_method: \"upi\",\n            status: \"pending\",\n            subscription_type: userData.subscription_type,\n            payment_proof_url: paymentProofUrl,\n            updated_at: new Date().toISOString()\n        };\n        if (existingPayment) {\n            // Update existing payment record\n            const { data: updatedPayment, error: updateError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabaseAdmin.from(\"payments\").update(paymentData).eq(\"id\", existingPayment.id).select().single();\n            if (updateError) {\n                console.error(\"Payment update error:\", updateError);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: `Failed to update payment record: ${updateError.message}`\n                }, {\n                    status: 500\n                });\n            }\n            payment = updatedPayment;\n        } else {\n            // Create new payment record\n            const { data: newPayment, error: paymentError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabaseAdmin.from(\"payments\").insert(paymentData).select().single();\n            if (paymentError) {\n                console.error(\"Payment record error:\", paymentError);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: `Failed to create payment record: ${paymentError.message}`\n                }, {\n                    status: 500\n                });\n            }\n            payment = newPayment;\n        }\n        // Update user profile with payment proof URL using admin client\n        const { error: updateUserError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabaseAdmin.from(\"users\").update({\n            payment_proof_url: paymentProofUrl,\n            payment_confirmed: false,\n            subscription_status: \"pending\"\n        }).eq(\"id\", userData.id);\n        if (updateUserError) {\n            console.error(\"User update error:\", updateUserError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: `Failed to update user profile: ${updateUserError.message}`\n            }, {\n                status: 500\n            });\n        }\n        console.log(`Payment proof updated successfully for user ${userData.id}: ${paymentProofUrl}`);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Payment proof uploaded successfully\",\n            payment,\n            payment_proof_url: paymentProofUrl,\n            success: true\n        });\n    } catch (error) {\n        console.error(\"Payment proof upload error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3VzZXIvcGF5bWVudC1wcm9vZi9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF1RDtBQUNYO0FBQ1k7QUFFakQsZUFBZUksS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU1DLFVBQVUsTUFBTUwsMkRBQWdCQTtRQUV0QyxJQUFJLENBQUNLLFNBQVNDLE1BQU1DLE9BQU87WUFDekIsT0FBT1Isa0ZBQVlBLENBQUNTLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBZSxHQUN4QjtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsd0RBQXdEO1FBQ3hELE1BQU0sRUFBRUMsTUFBTUMsUUFBUSxFQUFFSCxPQUFPSSxTQUFTLEVBQUUsR0FBRyxNQUFNWCx3REFBYUEsQ0FDN0RZLElBQUksQ0FBQyxTQUNMQyxNQUFNLENBQUMsNENBQ1BDLEVBQUUsQ0FBQyxTQUFTWCxRQUFRQyxJQUFJLENBQUNDLEtBQUssRUFDOUJVLE1BQU07UUFFVCxJQUFJSixhQUFhLENBQUNELFVBQVU7WUFDMUJNLFFBQVFULEtBQUssQ0FBQyxxQkFBcUJJO1lBQ25DLE9BQU9kLGtGQUFZQSxDQUFDUyxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQWlCLEdBQzFCO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxJQUFJLENBQUNFLFNBQVNPLGlCQUFpQixFQUFFO1lBQy9CLE9BQU9wQixrRkFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUEyQixHQUNwQztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEseUVBQXlFO1FBQ3pFLE1BQU1VLGNBQWNoQixRQUFRaUIsT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFDeEMsSUFBSUM7UUFFSixJQUFJSCxhQUFhSSxTQUFTLHFCQUFxQjtZQUM3Qyx3RUFBd0U7WUFDeEUsTUFBTSxFQUFFQyxpQkFBaUIsRUFBRSxHQUFHLE1BQU1yQixRQUFRSSxJQUFJO1lBRWhELElBQUksQ0FBQ2lCLG1CQUFt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UztZQUNURTtZQUNBM0IsbUJBQW1CRjtZQUNuQjZDLFNBQVM7UUFDWDtJQUNGLEVBQUUsT0FBTzNELE9BQU87UUFDZFMsUUFBUVQsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0MsT0FBT1Ysa0ZBQVlBLENBQUNTLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUF3QixHQUNqQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2FwcC9hcGkvdXNlci9wYXltZW50LXByb29mL3JvdXRlLnRzPzM5NGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aCdcbmltcG9ydCB7IHN1cGFiYXNlLCBzdXBhYmFzZUFkbWluIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oKVxuICAgIFxuICAgIGlmICghc2Vzc2lvbj8udXNlcj8uZW1haWwpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gR2V0IHVzZXIgZGF0YSBmaXJzdCB1c2luZyBhZG1pbiBjbGllbnQgZm9yIFJMUyBieXBhc3NcbiAgICBjb25zdCB7IGRhdGE6IHVzZXJEYXRhLCBlcnJvcjogdXNlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgLnNlbGVjdCgnaWQsIHN1YnNjcmlwdGlvbl90eXBlLCBwYXltZW50X3Byb29mX3VybCcpXG4gICAgICAuZXEoJ2VtYWlsJywgc2Vzc2lvbi51c2VyLmVtYWlsKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAodXNlckVycm9yIHx8ICF1c2VyRGF0YSkge1xuICAgICAgY29uc29sZS5lcnJvcignVXNlciBmZXRjaCBlcnJvcjonLCB1c2VyRXJyb3IpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKCF1c2VyRGF0YS5zdWJzY3JpcHRpb25fdHlwZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTm8gc3Vic2NyaXB0aW9uIHNlbGVjdGVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiByZXF1ZXN0IGlzIEpTT04gKHBheW1lbnQgcHJvb2YgVVJMKSBvciBGb3JtRGF0YSAoZmlsZSB1cGxvYWQpXG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKVxuICAgIGxldCBwYXltZW50UHJvb2ZVcmw6IHN0cmluZ1xuXG4gICAgaWYgKGNvbnRlbnRUeXBlPy5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAvLyBIYW5kbGUgSlNPTiByZXF1ZXN0IHdpdGggcGF5bWVudCBwcm9vZiBVUkwgZnJvbSBJbWFnZVVwbG9hZCBjb21wb25lbnRcbiAgICAgIGNvbnN0IHsgcGF5bWVudF9wcm9vZl91cmwgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgICBcbiAgICAgIGlmICghcGF5bWVudF9wcm9vZl91cmwpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgZXJyb3I6ICdObyBwYXltZW50IHByb29mIFVSTCBwcm92aWRlZCcgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgXG4gICAgICBwYXltZW50UHJvb2ZVcmwgPSBwYXltZW50X3Byb29mX3VybFxuICAgICAgXG4gICAgICAvLyBJZiB1c2VyIGhhcyBleGlzdGluZyBwYXltZW50IHByb29mLCBkZWxldGUgdGhlIG9sZCBvbmUgZnJvbSBzdG9yYWdlXG4gICAgICBpZiAodXNlckRhdGEucGF5bWVudF9wcm9vZl91cmwgJiYgdXNlckRhdGEucGF5bWVudF9wcm9vZl91cmwgIT09IHBheW1lbnRQcm9vZlVybCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdEZWxldGluZyBvbGQgcGF5bWVudCBwcm9vZjonLCB1c2VyRGF0YS5wYXltZW50X3Byb29mX3VybClcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBUcnkgdG8gZGVsZXRlIG9sZCBmaWxlIC0gdXNlIGJvdGggYWRtaW4gYW5kIHJlZ3VsYXIgY2xpZW50IGZvciBiZXR0ZXIgY29tcGF0aWJpbGl0eVxuICAgICAgICAgIGNvbnN0IGRlbGV0ZU9wZXJhdGlvbnMgPSBbXG4gICAgICAgICAgICBzdXBhYmFzZUFkbWluLnN0b3JhZ2UuZnJvbSgncGF5bWVudC1wcm9vZnMnKS5yZW1vdmUoW3VzZXJEYXRhLnBheW1lbnRfcHJvb2ZfdXJsXSksXG4gICAgICAgICAgICBzdXBhYmFzZS5zdG9yYWdlLmZyb20oJ3BheW1lbnQtcHJvb2ZzJykucmVtb3ZlKFt1c2VyRGF0YS5wYXltZW50X3Byb29mX3VybF0pXG4gICAgICAgICAgXVxuICAgICAgICAgIFxuICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChkZWxldGVPcGVyYXRpb25zKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdPbGQgcGF5bWVudCBwcm9vZiBkZWxldGlvbiBhdHRlbXB0ZWQnKVxuICAgICAgICB9IGNhdGNoIChkZWxldGVFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBkZWxldGluZyBvbGQgcGF5bWVudCBwcm9vZjonLCBkZWxldGVFcnJvcilcbiAgICAgICAgICAvLyBEb24ndCBmYWlsIHRoZSB1cGxvYWQgaWYgZGVsZXRlIGZhaWxzXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSGFuZGxlIEZvcm1EYXRhIGZpbGUgdXBsb2FkIChsZWdhY3kgc3VwcG9ydClcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpXG4gICAgICBjb25zdCBmaWxlID0gZm9ybURhdGEuZ2V0KCdmaWxlJykgYXMgRmlsZVxuICAgICAgXG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgZXJyb3I6ICdObyBmaWxlIHByb3ZpZGVkJyB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkYXRlIGZpbGUgdHlwZVxuICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgZXJyb3I6ICdQbGVhc2Ugc2VsZWN0IGFuIGltYWdlIGZpbGUuJyB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkYXRlIGZpbGUgc2l6ZSAoMTBNQiBsaW1pdClcbiAgICAgIGlmIChmaWxlLnNpemUgPiAxMCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IGVycm9yOiAnSW1hZ2UgbXVzdCBiZSBsZXNzIHRoYW4gMTBNQi4nIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgLy8gVXBsb2FkIHBheW1lbnQgcHJvb2YgdG8gU3VwYWJhc2UgU3RvcmFnZVxuICAgICAgY29uc3QgZmlsZUV4dCA9IGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpXG4gICAgICBjb25zdCBmaWxlTmFtZSA9IGBwYXltZW50X3Byb29mXyR7dXNlckRhdGEuaWR9XyR7RGF0ZS5ub3coKX0uJHtmaWxlRXh0fWBcbiAgICAgIFxuICAgICAgLy8gRGVsZXRlIG9sZCBmaWxlIGZpcnN0IGlmIGl0IGV4aXN0c1xuICAgICAgaWYgKHVzZXJEYXRhLnBheW1lbnRfcHJvb2ZfdXJsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0RlbGV0aW5nIG9sZCBwYXltZW50IHByb29mIGZpbGU6JywgdXNlckRhdGEucGF5bWVudF9wcm9vZl91cmwpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVHJ5IHRvIGRlbGV0ZSB3aXRoIGJvdGggY2xpZW50c1xuICAgICAgICAgIGNvbnN0IGRlbGV0ZU9wZXJhdGlvbnMgPSBbXG4gICAgICAgICAgICBzdXBhYmFzZUFkbWluLnN0b3JhZ2UuZnJvbSgncGF5bWVudC1wcm9vZnMnKS5yZW1vdmUoW3VzZXJEYXRhLnBheW1lbnRfcHJvb2ZfdXJsXSksXG4gICAgICAgICAgICBzdXBhYmFzZS5zdG9yYWdlLmZyb20oJ3BheW1lbnQtcHJvb2ZzJykucmVtb3ZlKFt1c2VyRGF0YS5wYXltZW50X3Byb29mX3VybF0pXG4gICAgICAgICAgXVxuICAgICAgICAgIFxuICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChkZWxldGVPcGVyYXRpb25zKVxuICAgICAgICB9IGNhdGNoIChkZWxldGVFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgZGVsZXRlIG9sZCBwYXltZW50IHByb29mOicsIGRlbGV0ZUVycm9yKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVwbG9hZCBuZXcgZmlsZSB1c2luZyBhZG1pbiBjbGllbnQgZm9yIGJldHRlciBjb21wYXRpYmlsaXR5XG4gICAgICBjb25zdCB7IGVycm9yOiB1cGxvYWRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pbi5zdG9yYWdlXG4gICAgICAgIC5mcm9tKCdwYXltZW50LXByb29mcycpXG4gICAgICAgIC51cGxvYWQoZmlsZU5hbWUsIGZpbGUsIHtcbiAgICAgICAgICBjYWNoZUNvbnRyb2w6ICczNjAwJyxcbiAgICAgICAgICB1cHNlcnQ6IHRydWUgLy8gQWxsb3cgb3ZlcndyaXRpbmdcbiAgICAgICAgfSlcblxuICAgICAgaWYgKHVwbG9hZEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VwbG9hZCBlcnJvcjonLCB1cGxvYWRFcnJvcilcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgZXJyb3I6IGBGYWlsZWQgdG8gdXBsb2FkIHBheW1lbnQgcHJvb2Y6ICR7dXBsb2FkRXJyb3IubWVzc2FnZX1gIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcGF5bWVudFByb29mVXJsID0gZmlsZU5hbWVcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgb3IgdXBkYXRlIHBheW1lbnQgcmVjb3JkIHVzaW5nIGFkbWluIGNsaWVudFxuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdQYXltZW50IH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgncGF5bWVudHMnKVxuICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlckRhdGEuaWQpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGxldCBwYXltZW50OiBhbnlcblxuICAgIGNvbnN0IHBheW1lbnREYXRhID0ge1xuICAgICAgdXNlcl9pZDogdXNlckRhdGEuaWQsXG4gICAgICBhbW91bnQ6IHVzZXJEYXRhLnN1YnNjcmlwdGlvbl90eXBlID09PSAncHJlbWl1bScgPyAyNDkgOiA5OSxcbiAgICAgIHBheW1lbnRfbWV0aG9kOiAndXBpJyxcbiAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgc3Vic2NyaXB0aW9uX3R5cGU6IHVzZXJEYXRhLnN1YnNjcmlwdGlvbl90eXBlLFxuICAgICAgcGF5bWVudF9wcm9vZl91cmw6IHBheW1lbnRQcm9vZlVybCxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH1cblxuICAgIGlmIChleGlzdGluZ1BheW1lbnQpIHtcbiAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBwYXltZW50IHJlY29yZFxuICAgICAgY29uc3QgeyBkYXRhOiB1cGRhdGVkUGF5bWVudCwgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAgIC5mcm9tKCdwYXltZW50cycpXG4gICAgICAgIC51cGRhdGUocGF5bWVudERhdGEpXG4gICAgICAgIC5lcSgnaWQnLCBleGlzdGluZ1BheW1lbnQuaWQpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKClcblxuICAgICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BheW1lbnQgdXBkYXRlIGVycm9yOicsIHVwZGF0ZUVycm9yKVxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBlcnJvcjogYEZhaWxlZCB0byB1cGRhdGUgcGF5bWVudCByZWNvcmQ6ICR7dXBkYXRlRXJyb3IubWVzc2FnZX1gIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcGF5bWVudCA9IHVwZGF0ZWRQYXltZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBuZXcgcGF5bWVudCByZWNvcmRcbiAgICAgIGNvbnN0IHsgZGF0YTogbmV3UGF5bWVudCwgZXJyb3I6IHBheW1lbnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgICAuZnJvbSgncGF5bWVudHMnKVxuICAgICAgICAuaW5zZXJ0KHBheW1lbnREYXRhKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpXG5cbiAgICAgIGlmIChwYXltZW50RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGF5bWVudCByZWNvcmQgZXJyb3I6JywgcGF5bWVudEVycm9yKVxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBlcnJvcjogYEZhaWxlZCB0byBjcmVhdGUgcGF5bWVudCByZWNvcmQ6ICR7cGF5bWVudEVycm9yLm1lc3NhZ2V9YCB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIHBheW1lbnQgPSBuZXdQYXltZW50XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHVzZXIgcHJvZmlsZSB3aXRoIHBheW1lbnQgcHJvb2YgVVJMIHVzaW5nIGFkbWluIGNsaWVudFxuICAgIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZVVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgIC51cGRhdGUoeyBcbiAgICAgICAgcGF5bWVudF9wcm9vZl91cmw6IHBheW1lbnRQcm9vZlVybCxcbiAgICAgICAgcGF5bWVudF9jb25maXJtZWQ6IGZhbHNlLCAvLyBSZXNldCBjb25maXJtYXRpb24gc3RhdHVzIGZvciBuZXcgcHJvb2ZcbiAgICAgICAgc3Vic2NyaXB0aW9uX3N0YXR1czogJ3BlbmRpbmcnXG4gICAgICB9KVxuICAgICAgLmVxKCdpZCcsIHVzZXJEYXRhLmlkKVxuXG4gICAgaWYgKHVwZGF0ZVVzZXJFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVXNlciB1cGRhdGUgZXJyb3I6JywgdXBkYXRlVXNlckVycm9yKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiBgRmFpbGVkIHRvIHVwZGF0ZSB1c2VyIHByb2ZpbGU6ICR7dXBkYXRlVXNlckVycm9yLm1lc3NhZ2V9YCB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgUGF5bWVudCBwcm9vZiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSBmb3IgdXNlciAke3VzZXJEYXRhLmlkfTogJHtwYXltZW50UHJvb2ZVcmx9YClcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgbWVzc2FnZTogJ1BheW1lbnQgcHJvb2YgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIHBheW1lbnQsXG4gICAgICBwYXltZW50X3Byb29mX3VybDogcGF5bWVudFByb29mVXJsLFxuICAgICAgc3VjY2VzczogdHJ1ZVxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUGF5bWVudCBwcm9vZiB1cGxvYWQgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFNlcnZlclNlc3Npb24iLCJzdXBhYmFzZSIsInN1cGFiYXNlQWRtaW4iLCJQT1NUIiwicmVxdWVzdCIsInNlc3Npb24iLCJ1c2VyIiwiZW1haWwiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwidXNlckRhdGEiLCJ1c2VyRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJjb25zb2xlIiwic3Vic2NyaXB0aW9uX3R5cGUiLCJjb250ZW50VHlwZSIsImhlYWRlcnMiLCJnZXQiLCJwYXltZW50UHJvb2ZVcmwiLCJpbmNsdWRlcyIsInBheW1lbnRfcHJvb2ZfdXJsIiwibG9nIiwiZGVsZXRlT3BlcmF0aW9ucyIsInN0b3JhZ2UiLCJyZW1vdmUiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsImRlbGV0ZUVycm9yIiwiZm9ybURhdGEiLCJmaWxlIiwidHlwZSIsInN0YXJ0c1dpdGgiLCJzaXplIiwiZmlsZUV4dCIsIm5hbWUiLCJzcGxpdCIsInBvcCIsImZpbGVOYW1lIiwiaWQiLCJEYXRlIiwibm93IiwidXBsb2FkRXJyb3IiLCJ1cGxvYWQiLCJjYWNoZUNvbnRyb2wiLCJ1cHNlcnQiLCJtZXNzYWdlIiwiZXhpc3RpbmdQYXltZW50IiwicGF5bWVudCIsInBheW1lbnREYXRhIiwidXNlcl9pZCIsImFtb3VudCIsInBheW1lbnRfbWV0aG9kIiwidXBkYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwidXBkYXRlZFBheW1lbnQiLCJ1cGRhdGVFcnJvciIsInVwZGF0ZSIsIm5ld1BheW1lbnQiLCJwYXltZW50RXJyb3IiLCJpbnNlcnQiLCJ1cGRhdGVVc2VyRXJyb3IiLCJwYXltZW50X2NvbmZpcm1lZCIsInN1YnNjcmlwdGlvbl9zdGF0dXMiLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/user/payment-proof/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/main/index.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://xdhtrwaghahigmbojotu.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhkaHRyd2FnaGFoaWdtYm9qb3R1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5Njk1OTYsImV4cCI6MjA3MTU0NTU5Nn0.ItDXVqjGSI-DaRCCbTCiWbopMnhXLGQiA3DMgBEzS4s\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nif (!supabaseUrl) {\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_URL environment variable\");\n}\nif (!supabaseAnonKey) {\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable\");\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Service role client for admin operations (use only on server-side)\nconst supabaseAdmin = (()=>{\n    if (!supabaseServiceKey) {\n        console.warn(\"SUPABASE_SERVICE_ROLE_KEY not found, some admin operations may not work\");\n        // Return regular client as fallback\n        return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n        auth: {\n            autoRefreshToken: false,\n            persistSession: false\n        }\n    });\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRDtBQUVwRCxNQUFNQyxjQUFjQywwQ0FBb0M7QUFDeEQsTUFBTUcsa0JBQWtCSCxrTkFBeUM7QUFDakUsTUFBTUsscUJBQXFCTCxRQUFRQyxHQUFHLENBQUNLLHlCQUF5QjtBQUVoRSxJQUFJLENBQUNQLGFBQWE7SUFDaEIsTUFBTSxJQUFJUSxNQUFNO0FBQ2xCO0FBRUEsSUFBSSxDQUFDSixpQkFBaUI7SUFDcEIsTUFBTSxJQUFJSSxNQUFNO0FBQ2xCO0FBRU8sTUFBTUMsV0FBV1YsbUVBQVlBLENBQUNDLGFBQWFJLGlCQUFnQjtBQUVsRSxxRUFBcUU7QUFDOUQsTUFBTU0sZ0JBQWdCLENBQUM7SUFDNUIsSUFBSSxDQUFDSixvQkFBb0I7UUFDdkJLLFFBQVFDLElBQUksQ0FBQztRQUNiLG9DQUFvQztRQUNwQyxPQUFPYixtRUFBWUEsQ0FBQ0MsYUFBYUk7SUFDbkM7SUFFQSxPQUFPTCxtRUFBWUEsQ0FBQ0MsYUFBYU0sb0JBQW9CO1FBQ25ETyxNQUFNO1lBQ0pDLGtCQUFrQjtZQUNsQkMsZ0JBQWdCO1FBQ2xCO0lBQ0Y7QUFDRixLQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbGliL3N1cGFiYXNlLnRzP2M5OWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCFcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIVxuY29uc3Qgc3VwYWJhc2VTZXJ2aWNlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWVxuXG5pZiAoIXN1cGFiYXNlVXJsKSB7XG4gIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgZW52aXJvbm1lbnQgdmFyaWFibGUnKVxufVxuXG5pZiAoIXN1cGFiYXNlQW5vbktleSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUnKVxufVxuXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSlcblxuLy8gU2VydmljZSByb2xlIGNsaWVudCBmb3IgYWRtaW4gb3BlcmF0aW9ucyAodXNlIG9ubHkgb24gc2VydmVyLXNpZGUpXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VBZG1pbiA9ICgoKSA9PiB7XG4gIGlmICghc3VwYWJhc2VTZXJ2aWNlS2V5KSB7XG4gICAgY29uc29sZS53YXJuKCdTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIG5vdCBmb3VuZCwgc29tZSBhZG1pbiBvcGVyYXRpb25zIG1heSBub3Qgd29yaycpXG4gICAgLy8gUmV0dXJuIHJlZ3VsYXIgY2xpZW50IGFzIGZhbGxiYWNrXG4gICAgcmV0dXJuIGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KVxuICB9XG4gIFxuICByZXR1cm4gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VLZXksIHtcbiAgICBhdXRoOiB7XG4gICAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZVxuICAgIH1cbiAgfSlcbn0pKClcblxuZXhwb3J0IHR5cGUgRGF0YWJhc2UgPSB7XG4gIHB1YmxpYzoge1xuICAgIFRhYmxlczoge1xuICAgICAgdXNlcnM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIGVtYWlsOiBzdHJpbmdcbiAgICAgICAgICBmdWxsX25hbWU6IHN0cmluZ1xuICAgICAgICAgIHBob25lX251bWJlcjogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGFnZTogbnVtYmVyXG4gICAgICAgICAgdW5pdmVyc2l0eTogc3RyaW5nXG4gICAgICAgICAgeWVhcl9vZl9zdHVkeTogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHByb2ZpbGVfcGhvdG86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBiaW86IHN0cmluZ1xuICAgICAgICAgIGVuZXJneV9zdHlsZTogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGdyb3VwX3NldHRpbmc6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBpZGVhbF93ZWVrZW5kOiBzdHJpbmdbXSB8IG51bGxcbiAgICAgICAgICBjb21tdW5pY2F0aW9uX3N0eWxlOiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgYmVzdF90cmFpdDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHJlbGF0aW9uc2hpcF92YWx1ZXM6IHN0cmluZ1tdIHwgbnVsbFxuICAgICAgICAgIGxvdmVfbGFuZ3VhZ2U6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjb25uZWN0aW9uX3N0YXRlbWVudDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGluc3RhZ3JhbTogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGdlbmRlcjogJ21hbGUnIHwgJ2ZlbWFsZSdcbiAgICAgICAgICBpc19hZG1pbjogYm9vbGVhblxuICAgICAgICAgIHN1YnNjcmlwdGlvbl90eXBlOiAnYmFzaWMnIHwgJ3ByZW1pdW0nIHwgbnVsbFxuICAgICAgICAgIHN1YnNjcmlwdGlvbl9zdGF0dXM6ICdwZW5kaW5nJyB8ICdhY3RpdmUnIHwgJ2V4cGlyZWQnIHwgJ2NhbmNlbGxlZCdcbiAgICAgICAgICBwYXltZW50X2NvbmZpcm1lZDogYm9vbGVhblxuICAgICAgICAgIHBheW1lbnRfcHJvb2ZfdXJsOiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcm91bmRzX3VzZWQ6IG51bWJlclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICB9XG4gICAgICAgIEluc2VydDoge1xuICAgICAgICAgIGlkPzogc3RyaW5nXG4gICAgICAgICAgZW1haWw6IHN0cmluZ1xuICAgICAgICAgIGZ1bGxfbmFtZTogc3RyaW5nXG4gICAgICAgICAgcGhvbmVfbnVtYmVyPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGFnZTogbnVtYmVyXG4gICAgICAgICAgdW5pdmVyc2l0eTogc3RyaW5nXG4gICAgICAgICAgeWVhcl9vZl9zdHVkeT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBwcm9maWxlX3Bob3RvPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGJpbzogc3RyaW5nXG4gICAgICAgICAgZW5lcmd5X3N0eWxlPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGdyb3VwX3NldHRpbmc/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgaWRlYWxfd2Vla2VuZD86IHN0cmluZ1tdIHwgbnVsbFxuICAgICAgICAgIGNvbW11bmljYXRpb25fc3R5bGU/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgYmVzdF90cmFpdD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICByZWxhdGlvbnNoaXBfdmFsdWVzPzogc3RyaW5nW10gfCBudWxsXG4gICAgICAgICAgbG92ZV9sYW5ndWFnZT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjb25uZWN0aW9uX3N0YXRlbWVudD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBpbnN0YWdyYW0/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgZ2VuZGVyOiAnbWFsZScgfCAnZmVtYWxlJ1xuICAgICAgICAgIGlzX2FkbWluPzogYm9vbGVhblxuICAgICAgICAgIHN1YnNjcmlwdGlvbl90eXBlPzogJ2Jhc2ljJyB8ICdwcmVtaXVtJyB8IG51bGxcbiAgICAgICAgICBzdWJzY3JpcHRpb25fc3RhdHVzPzogJ3BlbmRpbmcnIHwgJ2FjdGl2ZScgfCAnZXhwaXJlZCcgfCAnY2FuY2VsbGVkJ1xuICAgICAgICAgIHBheW1lbnRfY29uZmlybWVkPzogYm9vbGVhblxuICAgICAgICAgIHBheW1lbnRfcHJvb2ZfdXJsPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHJvdW5kc191c2VkPzogbnVtYmVyXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIGVtYWlsPzogc3RyaW5nXG4gICAgICAgICAgZnVsbF9uYW1lPzogc3RyaW5nXG4gICAgICAgICAgcGhvbmVfbnVtYmVyPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGFnZT86IG51bWJlclxuICAgICAgICAgIHVuaXZlcnNpdHk/OiBzdHJpbmdcbiAgICAgICAgICB5ZWFyX29mX3N0dWR5Pzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHByb2ZpbGVfcGhvdG8/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgYmlvPzogc3RyaW5nXG4gICAgICAgICAgZW5lcmd5X3N0eWxlPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGdyb3VwX3NldHRpbmc/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgaWRlYWxfd2Vla2VuZD86IHN0cmluZ1tdIHwgbnVsbFxuICAgICAgICAgIGNvbW11bmljYXRpb25fc3R5bGU/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgYmVzdF90cmFpdD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICByZWxhdGlvbnNoaXBfdmFsdWVzPzogc3RyaW5nW10gfCBudWxsXG4gICAgICAgICAgbG92ZV9sYW5ndWFnZT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjb25uZWN0aW9uX3N0YXRlbWVudD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBpbnN0YWdyYW0/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgZ2VuZGVyPzogJ21hbGUnIHwgJ2ZlbWFsZSdcbiAgICAgICAgICBpc19hZG1pbj86IGJvb2xlYW5cbiAgICAgICAgICBzdWJzY3JpcHRpb25fdHlwZT86ICdiYXNpYycgfCAncHJlbWl1bScgfCBudWxsXG4gICAgICAgICAgc3Vic2NyaXB0aW9uX3N0YXR1cz86ICdwZW5kaW5nJyB8ICdhY3RpdmUnIHwgJ2V4cGlyZWQnIHwgJ2NhbmNlbGxlZCdcbiAgICAgICAgICBwYXltZW50X2NvbmZpcm1lZD86IGJvb2xlYW5cbiAgICAgICAgICBwYXltZW50X3Byb29mX3VybD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICByb3VuZHNfdXNlZD86IG51bWJlclxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHByb2ZpbGVfYXNzaWdubWVudHM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIG1hbGVfdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgZmVtYWxlX3VzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHN0YXR1czogJ2Fzc2lnbmVkJyB8ICdyZXZlYWxlZCcgfCAnZGlzZW5nYWdlZCcgfCAnZXhwaXJlZCdcbiAgICAgICAgICBtYWxlX3JldmVhbGVkOiBib29sZWFuXG4gICAgICAgICAgZmVtYWxlX3JldmVhbGVkOiBib29sZWFuXG4gICAgICAgICAgYXNzaWduZWRfYXQ6IHN0cmluZ1xuICAgICAgICAgIHJldmVhbGVkX2F0OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgZGlzZW5nYWdlZF9hdDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICB9XG4gICAgICAgIEluc2VydDoge1xuICAgICAgICAgIGlkPzogc3RyaW5nXG4gICAgICAgICAgbWFsZV91c2VyX2lkOiBzdHJpbmdcbiAgICAgICAgICBmZW1hbGVfdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgc3RhdHVzPzogJ2Fzc2lnbmVkJyB8ICdyZXZlYWxlZCcgfCAnZGlzZW5nYWdlZCcgfCAnZXhwaXJlZCdcbiAgICAgICAgICBtYWxlX3JldmVhbGVkPzogYm9vbGVhblxuICAgICAgICAgIGZlbWFsZV9yZXZlYWxlZD86IGJvb2xlYW5cbiAgICAgICAgICBhc3NpZ25lZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHJldmVhbGVkX2F0Pzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGRpc2VuZ2FnZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIG1hbGVfdXNlcl9pZD86IHN0cmluZ1xuICAgICAgICAgIGZlbWFsZV91c2VyX2lkPzogc3RyaW5nXG4gICAgICAgICAgc3RhdHVzPzogJ2Fzc2lnbmVkJyB8ICdyZXZlYWxlZCcgfCAnZGlzZW5nYWdlZCcgfCAnZXhwaXJlZCdcbiAgICAgICAgICBtYWxlX3JldmVhbGVkPzogYm9vbGVhblxuICAgICAgICAgIGZlbWFsZV9yZXZlYWxlZD86IGJvb2xlYW5cbiAgICAgICAgICBhc3NpZ25lZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHJldmVhbGVkX2F0Pzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGRpc2VuZ2FnZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGVtcG9yYXJ5X21hdGNoZXM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIGFzc2lnbm1lbnRfaWQ6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBtYWxlX3VzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIGZlbWFsZV91c2VyX2lkOiBzdHJpbmdcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnIHwgJ2V4cGlyZWQnIHwgJ3Byb21vdGVkJyB8ICdkaXNlbmdhZ2VkJ1xuICAgICAgICAgIG1hbGVfZGVjaXNpb246ICdhY2NlcHQnIHwgJ3JlamVjdCcgfCBudWxsXG4gICAgICAgICAgZmVtYWxlX2RlY2lzaW9uOiAnYWNjZXB0JyB8ICdyZWplY3QnIHwgbnVsbFxuICAgICAgICAgIG1hbGVfZGVjaWRlZF9hdDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGZlbWFsZV9kZWNpZGVkX2F0OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nXG4gICAgICAgICAgZXhwaXJlc19hdDogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgICAgSW5zZXJ0OiB7XG4gICAgICAgICAgaWQ/OiBzdHJpbmdcbiAgICAgICAgICBhc3NpZ25tZW50X2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIG1hbGVfdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgZmVtYWxlX3VzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHN0YXR1cz86ICdhY3RpdmUnIHwgJ2V4cGlyZWQnIHwgJ3Byb21vdGVkJyB8ICdkaXNlbmdhZ2VkJ1xuICAgICAgICAgIG1hbGVfZGVjaXNpb24/OiAnYWNjZXB0JyB8ICdyZWplY3QnIHwgbnVsbFxuICAgICAgICAgIGZlbWFsZV9kZWNpc2lvbj86ICdhY2NlcHQnIHwgJ3JlamVjdCcgfCBudWxsXG4gICAgICAgICAgbWFsZV9kZWNpZGVkX2F0Pzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGZlbWFsZV9kZWNpZGVkX2F0Pzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgICBleHBpcmVzX2F0Pzogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgICAgVXBkYXRlOiB7XG4gICAgICAgICAgaWQ/OiBzdHJpbmdcbiAgICAgICAgICBhc3NpZ25tZW50X2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIG1hbGVfdXNlcl9pZD86IHN0cmluZ1xuICAgICAgICAgIGZlbWFsZV91c2VyX2lkPzogc3RyaW5nXG4gICAgICAgICAgc3RhdHVzPzogJ2FjdGl2ZScgfCAnZXhwaXJlZCcgfCAncHJvbW90ZWQnIHwgJ2Rpc2VuZ2FnZWQnXG4gICAgICAgICAgbWFsZV9kZWNpc2lvbj86ICdhY2NlcHQnIHwgJ3JlamVjdCcgfCBudWxsXG4gICAgICAgICAgZmVtYWxlX2RlY2lzaW9uPzogJ2FjY2VwdCcgfCAncmVqZWN0JyB8IG51bGxcbiAgICAgICAgICBtYWxlX2RlY2lkZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgZmVtYWxlX2RlY2lkZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIGV4cGlyZXNfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcGVybWFuZW50X21hdGNoZXM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIHRlbXBvcmFyeV9tYXRjaF9pZDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIG1hbGVfdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgZmVtYWxlX3VzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScgfCAnaW5hY3RpdmUnXG4gICAgICAgICAgaW5zdGFncmFtX3NoYXJlZDogYm9vbGVhblxuICAgICAgICAgIGNvbm5lY3Rpb25fbWFkZTogYm9vbGVhblxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICB9XG4gICAgICAgIEluc2VydDoge1xuICAgICAgICAgIGlkPzogc3RyaW5nXG4gICAgICAgICAgdGVtcG9yYXJ5X21hdGNoX2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIG1hbGVfdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgZmVtYWxlX3VzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHN0YXR1cz86ICdhY3RpdmUnIHwgJ2luYWN0aXZlJ1xuICAgICAgICAgIGluc3RhZ3JhbV9zaGFyZWQ/OiBib29sZWFuXG4gICAgICAgICAgY29ubmVjdGlvbl9tYWRlPzogYm9vbGVhblxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHRlbXBvcmFyeV9tYXRjaF9pZD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBtYWxlX3VzZXJfaWQ/OiBzdHJpbmdcbiAgICAgICAgICBmZW1hbGVfdXNlcl9pZD86IHN0cmluZ1xuICAgICAgICAgIHN0YXR1cz86ICdhY3RpdmUnIHwgJ2luYWN0aXZlJ1xuICAgICAgICAgIGluc3RhZ3JhbV9zaGFyZWQ/OiBib29sZWFuXG4gICAgICAgICAgY29ubmVjdGlvbl9tYWRlPzogYm9vbGVhblxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3Vic2NyaXB0aW9uczoge1xuICAgICAgICBSb3c6IHtcbiAgICAgICAgICBpZDogc3RyaW5nXG4gICAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgICAgICAgdHlwZTogJ2Jhc2ljJyB8ICdwcmVtaXVtJ1xuICAgICAgICAgIHByaWNlOiBudW1iZXJcbiAgICAgICAgICBkdXJhdGlvbl9kYXlzOiBudW1iZXJcbiAgICAgICAgICBmZWF0dXJlczogYW55XG4gICAgICAgICAgaXNfYWN0aXZlOiBib29sZWFuXG4gICAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nXG4gICAgICAgICAgdXBkYXRlZF9hdDogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgICAgSW5zZXJ0OiB7XG4gICAgICAgICAgaWQ/OiBzdHJpbmdcbiAgICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICAgICAgICB0eXBlOiAnYmFzaWMnIHwgJ3ByZW1pdW0nXG4gICAgICAgICAgcHJpY2U6IG51bWJlclxuICAgICAgICAgIGR1cmF0aW9uX2RheXM6IG51bWJlclxuICAgICAgICAgIGZlYXR1cmVzPzogYW55XG4gICAgICAgICAgaXNfYWN0aXZlPzogYm9vbGVhblxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgICAgVXBkYXRlOiB7XG4gICAgICAgICAgaWQ/OiBzdHJpbmdcbiAgICAgICAgICBuYW1lPzogc3RyaW5nXG4gICAgICAgICAgdHlwZT86ICdiYXNpYycgfCAncHJlbWl1bSdcbiAgICAgICAgICBwcmljZT86IG51bWJlclxuICAgICAgICAgIGR1cmF0aW9uX2RheXM/OiBudW1iZXJcbiAgICAgICAgICBmZWF0dXJlcz86IGFueVxuICAgICAgICAgIGlzX2FjdGl2ZT86IGJvb2xlYW5cbiAgICAgICAgICBjcmVhdGVkX2F0Pzogc3RyaW5nXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwYXltZW50czoge1xuICAgICAgICBSb3c6IHtcbiAgICAgICAgICBpZDogc3RyaW5nXG4gICAgICAgICAgdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgc3Vic2NyaXB0aW9uX3R5cGU6ICdiYXNpYycgfCAncHJlbWl1bSdcbiAgICAgICAgICBhbW91bnQ6IG51bWJlclxuICAgICAgICAgIHBheW1lbnRfbWV0aG9kOiBzdHJpbmdcbiAgICAgICAgICBwYXltZW50X3Byb29mX3VybDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnIHwgJ2NvbmZpcm1lZCcgfCAncmVqZWN0ZWQnXG4gICAgICAgICAgdHJhbnNhY3Rpb25faWQ6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBhZG1pbl9ub3Rlczogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNvbmZpcm1lZF9ieTogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNvbmZpcm1lZF9hdDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHJlamVjdGVkX2F0OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcmVqZWN0ZWRfYnk6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgICAgICAgICB1cGRhdGVkX2F0OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBJbnNlcnQ6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHN1YnNjcmlwdGlvbl90eXBlOiAnYmFzaWMnIHwgJ3ByZW1pdW0nXG4gICAgICAgICAgYW1vdW50OiBudW1iZXJcbiAgICAgICAgICBwYXltZW50X21ldGhvZD86IHN0cmluZ1xuICAgICAgICAgIHBheW1lbnRfcHJvb2ZfdXJsPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHN0YXR1cz86ICdwZW5kaW5nJyB8ICdjb25maXJtZWQnIHwgJ3JlamVjdGVkJ1xuICAgICAgICAgIHRyYW5zYWN0aW9uX2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGFkbWluX25vdGVzPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNvbmZpcm1lZF9ieT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjb25maXJtZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcmVqZWN0ZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcmVqZWN0ZWRfYnk/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ/OiBzdHJpbmdcbiAgICAgICAgICBzdWJzY3JpcHRpb25fdHlwZT86ICdiYXNpYycgfCAncHJlbWl1bSdcbiAgICAgICAgICBhbW91bnQ/OiBudW1iZXJcbiAgICAgICAgICBwYXltZW50X21ldGhvZD86IHN0cmluZ1xuICAgICAgICAgIHBheW1lbnRfcHJvb2ZfdXJsPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHN0YXR1cz86ICdwZW5kaW5nJyB8ICdjb25maXJtZWQnIHwgJ3JlamVjdGVkJ1xuICAgICAgICAgIHRyYW5zYWN0aW9uX2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGFkbWluX25vdGVzPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNvbmZpcm1lZF9ieT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjb25maXJtZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcmVqZWN0ZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcmVqZWN0ZWRfYnk/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdXNlcl9yb3VuZHM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHJvdW5kX251bWJlcjogbnVtYmVyXG4gICAgICAgICAgcHJvZmlsZXNfc2hvd246IHN0cmluZ1tdIHwgbnVsbFxuICAgICAgICAgIHNlbGVjdGVkX3VzZXJfaWQ6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBJbnNlcnQ6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHJvdW5kX251bWJlcjogbnVtYmVyXG4gICAgICAgICAgcHJvZmlsZXNfc2hvd24/OiBzdHJpbmdbXSB8IG51bGxcbiAgICAgICAgICBzZWxlY3RlZF91c2VyX2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ/OiBzdHJpbmdcbiAgICAgICAgICByb3VuZF9udW1iZXI/OiBudW1iZXJcbiAgICAgICAgICBwcm9maWxlc19zaG93bj86IHN0cmluZ1tdIHwgbnVsbFxuICAgICAgICAgIHNlbGVjdGVkX3VzZXJfaWQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1c2VyX2FjdGlvbnM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIGFjdGlvbl90eXBlOiBzdHJpbmdcbiAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGRldGFpbHM6IGFueSB8IG51bGxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBJbnNlcnQ6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIGFjdGlvbl90eXBlOiBzdHJpbmdcbiAgICAgICAgICB0YXJnZXRfdXNlcl9pZD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBkZXRhaWxzPzogYW55IHwgbnVsbFxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ/OiBzdHJpbmdcbiAgICAgICAgICBhY3Rpb25fdHlwZT86IHN0cmluZ1xuICAgICAgICAgIHRhcmdldF91c2VyX2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGRldGFpbHM/OiBhbnkgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZVNlcnZpY2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiRXJyb3IiLCJzdXBhYmFzZSIsInN1cGFiYXNlQWRtaW4iLCJjb25zb2xlIiwid2FybiIsImF1dGgiLCJhdXRvUmVmcmVzaFRva2VuIiwicGVyc2lzdFNlc3Npb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/next-auth","vendor-chunks/whatwg-url","vendor-chunks/@babel","vendor-chunks/webidl-conversions","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/uuid","vendor-chunks/yallist","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Fpayment-proof%2Froute&page=%2Fapi%2Fuser%2Fpayment-proof%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fpayment-proof%2Froute.ts&appDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();