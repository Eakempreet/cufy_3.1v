"use strict";(()=>{var e={};e.id=3534,e.ids=[3534],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},59796:e=>{e.exports=require("zlib")},23403:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>c,originalPathname:()=>y,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>p,staticGenerationAsyncStorage:()=>_,staticGenerationBailout:()=>b});var s={};r.r(s),r.d(s,{GET:()=>l}),r(95655);var o=r(83323),a=r(54647),i=r(66886),n=r(93439);async function l(e){try{console.log("=== Registration Status API Called ===");let{data:e,error:t}=await n.p.from("system_settings").select("setting_key, setting_value, updated_at").in("setting_key",["boys_registration_enabled","boys_registration_message","girls_registration_enabled"]).order("updated_at",{ascending:!1});if(t)return console.error("Error fetching registration status:",t),i.Z.json({error:"Failed to fetch registration status",boys_registration_enabled:!0,girls_registration_enabled:!0,boys_registration_message:"Boys registration will open soon! Girls can join now."},{status:500});console.log("Raw settings from database:",e);let r=e.reduce((e,t)=>{let r=t.setting_value;return t.setting_key.includes("_enabled")&&("false"===r||!1===r||"False"===r?r=!1:("true"===r||!0===r||"True"===r)&&(r=!0)),e[t.setting_key]=r,e},{});console.log("Processed settings object:",r);let s={success:!0,boys_registration_enabled:!0===r.boys_registration_enabled,girls_registration_enabled:!1!==r.girls_registration_enabled,boys_registration_message:r.boys_registration_message||"Boys registration will open soon! Girls can join now.",timestamp:new Date().toISOString(),raw_settings:e,processed_settings:r};console.log("Final API response:",s);let o=i.Z.json(s);return o.headers.set("Cache-Control","no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0"),o.headers.set("Pragma","no-cache"),o.headers.set("Expires","0"),o.headers.set("Surrogate-Control","no-store"),o.headers.set("CDN-Cache-Control","no-store"),o.headers.set("Vercel-CDN-Cache-Control","no-store"),o}catch(e){return console.error("Registration status GET error:",e),i.Z.json({error:"Internal server error",boys_registration_enabled:!0,girls_registration_enabled:!0,boys_registration_message:"Boys registration will open soon! Girls can join now."},{status:500})}}let g=o.AppRouteRouteModule,u=new g({definition:{kind:a.x.APP_ROUTE,page:"/api/registration-status/route",pathname:"/api/registration-status",filename:"route",bundlePath:"app/api/registration-status/route"},resolvedPagePath:"/home/aman/Desktop/cufy_3.1v-1/app/api/registration-status/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:_,serverHooks:p,headerHooks:c,staticGenerationBailout:b}=u,y="/api/registration-status/route"}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9195,6886,3433,7221],()=>r(23403));module.exports=s})();