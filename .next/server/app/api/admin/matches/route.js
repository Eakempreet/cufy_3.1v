/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/matches/route";
exports.ids = ["app/api/admin/matches/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/@supabase/realtime-js/dist/main sync recursive":
/*!************************************************************!*\
  !*** ./node_modules/@supabase/realtime-js/dist/main/ sync ***!
  \************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/@supabase/realtime-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fmatches%2Froute&page=%2Fapi%2Fadmin%2Fmatches%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fmatches%2Froute.ts&appDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fmatches%2Froute&page=%2Fapi%2Fadmin%2Fmatches%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fmatches%2Froute.ts&appDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _home_aman_Desktop_cufy_3_1v_2_app_api_admin_matches_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/matches/route.ts */ \"(rsc)/./app/api/admin/matches/route.ts\");\n\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n// @ts-expect-error - replaced by webpack/turbopack loader\n\nconst AppRouteRouteModule = next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule;\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/matches/route\",\n        pathname: \"/api/admin/matches\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/matches/route\"\n    },\n    resolvedPagePath: \"/home/aman/Desktop/cufy_3.1v-2/app/api/admin/matches/route.ts\",\n    nextConfigOutput,\n    userland: _home_aman_Desktop_cufy_3_1v_2_app_api_admin_matches_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/admin/matches/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRm1hdGNoZXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFkbWluJTJGbWF0Y2hlcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFkbWluJTJGbWF0Y2hlcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGYW1hbiUyRkRlc2t0b3AlMkZjdWZ5XzMuMXYtMiUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRmFtYW4lMkZEZXNrdG9wJTJGY3VmeV8zLjF2LTImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDaEQ7QUFDMEY7QUFDM0I7QUFDL0Q7QUFDMEY7QUFDMUYsNEJBQTRCLGdIQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvPzA1ZjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwibmV4dC9kaXN0L3NlcnZlci9ub2RlLXBvbHlmaWxsLWhlYWRlcnNcIjtcbi8vIEB0cy1pZ25vcmUgdGhpcyBuZWVkIHRvIGJlIGltcG9ydGVkIGZyb20gbmV4dC9kaXN0IHRvIGJlIGV4dGVybmFsXG5pbXBvcnQgKiBhcyBtb2R1bGUgZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3IgLSByZXBsYWNlZCBieSB3ZWJwYWNrL3R1cmJvcGFjayBsb2FkZXJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvaG9tZS9hbWFuL0Rlc2t0b3AvY3VmeV8zLjF2LTIvYXBwL2FwaS9hZG1pbi9tYXRjaGVzL3JvdXRlLnRzXCI7XG5jb25zdCBBcHBSb3V0ZVJvdXRlTW9kdWxlID0gbW9kdWxlLkFwcFJvdXRlUm91dGVNb2R1bGU7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hZG1pbi9tYXRjaGVzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWRtaW4vbWF0Y2hlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWRtaW4vbWF0Y2hlcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL2FtYW4vRGVza3RvcC9jdWZ5XzMuMXYtMi9hcHAvYXBpL2FkbWluL21hdGNoZXMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYWRtaW4vbWF0Y2hlcy9yb3V0ZVwiO1xuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fmatches%2Froute&page=%2Fapi%2Fadmin%2Fmatches%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fmatches%2Froute.ts&appDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/matches/route.ts":
/*!****************************************!*\
  !*** ./app/api/admin/matches/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   revalidate: () => (/* binding */ revalidate)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n\nconst dynamic = \"force-dynamic\";\nconst revalidate = 0;\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const planType = searchParams.get(\"planType\") // 'premium' or 'basic'\n        ;\n        console.log(\"Fetching matches data for plan:\", planType);\n        // Get male users with confirmed payments for the specified plan\n        let query = _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"users\").select(`\n        id,\n        full_name,\n        email,\n        gender,\n        age,\n        university,\n        profile_photo,\n        subscription_type,\n        payment_confirmed,\n        current_round,\n        round_1_completed,\n        round_2_completed,\n        decision_timer_active,\n        decision_timer_expires_at,\n        decision_timer_started_at,\n        temp_match_id,\n        permanent_match_id,\n        match_confirmed_at,\n        last_activity_at,\n        created_at\n      `).eq(\"gender\", \"male\").eq(\"payment_confirmed\", true);\n        if (planType && planType !== \"all\") {\n            query = query.eq(\"subscription_type\", planType);\n        }\n        const { data: maleUsers, error: maleUsersError } = await query.order(\"created_at\", {\n            ascending: false\n        });\n        if (maleUsersError) {\n            console.error(\"Error fetching male users:\", maleUsersError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Failed to fetch male users\"\n            }, {\n                status: 500\n            });\n        }\n        // Get all female users for assignment options with stats\n        const { data: femaleUsers, error: femaleUsersError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"users\").select(`\n        id,\n        full_name,\n        email,\n        age,\n        university,\n        profile_photo,\n        bio,\n        instagram,\n        created_at\n      `).eq(\"gender\", \"female\").order(\"created_at\", {\n            ascending: false\n        });\n        if (femaleUsersError) {\n            console.error(\"Error fetching female users:\", femaleUsersError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Failed to fetch female users\"\n            }, {\n                status: 500\n            });\n        }\n        // Get female profile stats\n        const { data: femaleStats } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"female_profile_stats\").select(\"*\");\n        // Get assignments for all male users\n        const maleUserIds = maleUsers?.map((user)=>user.id) || [];\n        const { data: assignments } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").select(`\n        *,\n        female_user:users!profile_assignments_female_user_id_fkey (\n          id,\n          full_name,\n          profile_photo\n        )\n      `).in(\"male_user_id\", maleUserIds);\n        // Get temporary matches\n        const { data: tempMatches } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"temporary_matches\").select(`\n        *,\n        female_user:users!temporary_matches_female_user_id_fkey (\n          id,\n          full_name,\n          profile_photo\n        )\n      `).in(\"male_user_id\", maleUserIds);\n        // Get permanent matches  \n        const { data: permMatches } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"permanent_matches\").select(`\n        *,\n        female_user:users!permanent_matches_female_user_id_fkey (\n          id,\n          full_name,\n          profile_photo\n        )\n      `).in(\"male_user_id\", maleUserIds);\n        // Enhance male users with assignment data and round logic\n        const enhancedMaleUsers = maleUsers?.map((user)=>{\n            const userAssignments = assignments?.filter((a)=>a.male_user_id === user.id) || [];\n            const userTempMatch = tempMatches?.find((tm)=>tm.male_user_id === user.id);\n            const userPermMatch = permMatches?.find((pm)=>pm.male_user_id === user.id);\n            // Calculate assignment slots based on subscription and round\n            const getMaxAssignments = (subscription, round)=>{\n                if (subscription === \"premium\") {\n                    return round === 1 ? 2 : 3 // Round 1: 2 options, Round 2: 3 options\n                    ;\n                } else {\n                    return 1 // Basic: 1 option per round\n                    ;\n                }\n            };\n            const maxAssignments = getMaxAssignments(user.subscription_type, user.current_round);\n            const currentAssignments = userAssignments.filter((a)=>a.status === \"assigned\" && a.round_number === user.current_round).length;\n            const availableSlots = maxAssignments - currentAssignments;\n            // Check if user has selected a profile (timer active)\n            const selectedAssignment = userAssignments.find((a)=>a.is_selected === true && a.status === \"revealed\");\n            const hasActiveTimer = user.decision_timer_active && user.decision_timer_expires_at && new Date(user.decision_timer_expires_at) > new Date();\n            // Calculate time remaining if timer is active\n            let timeRemaining = null;\n            if (hasActiveTimer && user.decision_timer_expires_at) {\n                const expiresAt = new Date(user.decision_timer_expires_at).getTime();\n                const now = new Date().getTime();\n                timeRemaining = Math.max(0, expiresAt - now);\n            }\n            return {\n                ...user,\n                assignments: userAssignments,\n                assignedCount: currentAssignments,\n                revealedCount: userAssignments.filter((a)=>a.status === \"revealed\").length,\n                disengagedCount: userAssignments.filter((a)=>a.status === \"disengaged\").length,\n                maxAssignments,\n                availableSlots,\n                currentTempMatch: userTempMatch,\n                permanentMatch: userPermMatch,\n                selectedAssignment,\n                hasActiveTimer,\n                timeRemaining,\n                decisionExpiresAt: user.decision_timer_expires_at,\n                roundInfo: {\n                    current: user.current_round,\n                    round1Completed: user.round_1_completed,\n                    round2Completed: user.round_2_completed,\n                    canProgressToRound2: user.current_round === 1 && !user.round_1_completed && (userTempMatch || userPermMatch)\n                },\n                status: userPermMatch ? \"permanently_matched\" : userTempMatch ? \"temporary_match\" : selectedAssignment && hasActiveTimer ? \"deciding\" : currentAssignments > 0 ? \"assigned\" : // Show as 'assigned' instead of 'waiting' for paid users with no assignments\n                // This ensures reset users remain visible in admin panel\n                user.payment_confirmed ? \"assigned\" : \"waiting\"\n            };\n        });\n        // Enhance female users with assignment statistics from stats table\n        const enhancedFemaleUsers = femaleUsers?.map((female)=>{\n            const stats = femaleStats?.find((s)=>s.female_user_id === female.id);\n            const femaleAssignments = assignments?.filter((a)=>a.female_user_id === female.id) || [];\n            const femaleTempMatches = tempMatches?.filter((tm)=>tm.female_user_id === female.id) || [];\n            const femalePermMatches = permMatches?.filter((pm)=>pm.female_user_id === female.id) || [];\n            return {\n                ...female,\n                currentlyAssignedCount: stats?.currently_assigned_count || 0,\n                assignedCount: stats?.assigned_count || 0,\n                totalAssignedCount: stats?.total_assigned_count || 0,\n                selectedCount: stats?.selected_count || 0,\n                revealedCount: stats?.revealed_count || 0,\n                permanentMatchCount: femalePermMatches.length,\n                currentAssignments: femaleAssignments.filter((a)=>a.status === \"assigned\"),\n                currentTempMatches: femaleTempMatches.filter((tm)=>tm.status === \"active\"),\n                lastAssignedAt: stats?.last_assigned_at\n            };\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            maleUsers: enhancedMaleUsers || [],\n            femaleUsers: enhancedFemaleUsers || [],\n            totalMales: maleUsers?.length || 0,\n            totalFemales: femaleUsers?.length || 0,\n            statistics: {\n                premiumUsers: enhancedMaleUsers?.filter((u)=>u.subscription_type === \"premium\").length || 0,\n                basicUsers: enhancedMaleUsers?.filter((u)=>u.subscription_type === \"basic\").length || 0,\n                assignedUsers: enhancedMaleUsers?.filter((u)=>u.assignedCount > 0).length || 0,\n                waitingUsers: enhancedMaleUsers?.filter((u)=>u.status === \"waiting\").length || 0,\n                matchedUsers: enhancedMaleUsers?.filter((u)=>u.status === \"permanently_matched\").length || 0\n            }\n        });\n    } catch (error) {\n        console.error(\"Matches API error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { action, maleUserId, femaleUserId, data } = body;\n        console.log(\"Matches API POST action:\", action);\n        switch(action){\n            case \"assign_profile\":\n                return await assignProfile(maleUserId, femaleUserId, data?.round || 1);\n            case \"select_profile\":\n                return await selectProfile(maleUserId, femaleUserId);\n            case \"disengage_profile\":\n                return await disengageProfile(maleUserId, femaleUserId);\n            case \"confirm_match\":\n                return await confirmMatch(maleUserId, femaleUserId);\n            case \"progress_to_round_2\":\n                return await progressToRound2(maleUserId);\n            case \"clear_history\":\n                return await clearUserHistory(maleUserId);\n            default:\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Invalid action\"\n                }, {\n                    status: 400\n                });\n        }\n    } catch (error) {\n        console.error(\"Matches API POST error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Helper functions for match operations\nasync function assignProfile(maleUserId, femaleUserId, round) {\n    try {\n        // Check if male user exists and get subscription details\n        const { data: maleUser, error: maleError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"users\").select(\"subscription_type, current_round, round_1_completed, round_2_completed, decision_timer_active\").eq(\"id\", maleUserId).single();\n        if (maleError || !maleUser) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Male user not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Check if user has active timer (selected a profile already)\n        if (maleUser.decision_timer_active) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"User has already selected a profile and timer is active. Cannot assign more profiles.\"\n            }, {\n                status: 400\n            });\n        }\n        // Determine max assignments based on subscription and round\n        const getMaxAssignments = (subscription, roundNum)=>{\n            if (subscription === \"premium\") {\n                return roundNum === 1 ? 2 : 3 // Round 1: 2 options, Round 2: 3 options\n                ;\n            } else {\n                return 1 // Basic: 1 option per round\n                ;\n            }\n        };\n        const maxAssignments = getMaxAssignments(maleUser.subscription_type, maleUser.current_round);\n        // Get current assignments for this user in current round\n        const { data: currentAssignments } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").select(\"*\").eq(\"male_user_id\", maleUserId).eq(\"round_number\", maleUser.current_round).eq(\"status\", \"assigned\");\n        if (currentAssignments && currentAssignments.length >= maxAssignments) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: `Maximum assignments reached for round ${maleUser.current_round}. ${maleUser.subscription_type} plan allows ${maxAssignments} assignments per round.`\n            }, {\n                status: 400\n            });\n        }\n        // Check if this female profile was already assigned to this male user before\n        const { data: previousAssignment } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").select(\"*\").eq(\"male_user_id\", maleUserId).eq(\"female_user_id\", femaleUserId).single();\n        if (previousAssignment) {\n            if (previousAssignment.status === \"disengaged\") {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"This female profile cannot be reassigned to this male user as he disengaged earlier.\"\n                }, {\n                    status: 400\n                });\n            } else if (previousAssignment.status === \"assigned\") {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"This female profile is already assigned to this male user.\"\n                }, {\n                    status: 400\n                });\n            }\n        }\n        // Create the assignment\n        const { data: assignment, error: assignError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").insert({\n            male_user_id: maleUserId,\n            female_user_id: femaleUserId,\n            status: \"assigned\",\n            round_number: maleUser.current_round,\n            assigned_at: new Date().toISOString()\n        }).select().single();\n        if (assignError) {\n            console.error(\"Assignment creation error:\", assignError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Failed to create assignment\"\n            }, {\n                status: 500\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            assignment,\n            message: `Profile assigned successfully for Round ${maleUser.current_round}`\n        });\n    } catch (error) {\n        console.error(\"Assign profile error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function selectProfile(maleUserId, femaleUserId) {\n    try {\n        // Get the assignment\n        const { data: assignment, error: assignmentError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").select(\"*\").eq(\"male_user_id\", maleUserId).eq(\"female_user_id\", femaleUserId).eq(\"status\", \"assigned\").single();\n        if (assignmentError || !assignment) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Assignment not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Check if user already has an active selection\n        const { data: existingSelection } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").select(\"*\").eq(\"male_user_id\", maleUserId).eq(\"is_selected\", true).eq(\"status\", \"revealed\").single();\n        if (existingSelection) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"User already has an active selection\"\n            }, {\n                status: 400\n            });\n        }\n        // Start the 48-hour decision timer using database function\n        const { error: timerError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.rpc(\"start_decision_timer\", {\n            assignment_id: assignment.id\n        });\n        if (timerError) {\n            console.error(\"Timer start error:\", timerError);\n            // Fallback to manual timer start if function doesn't exist\n            const expiresAt = new Date();\n            expiresAt.setHours(expiresAt.getHours() + 48);\n            // Update assignment\n            await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").update({\n                is_selected: true,\n                selected_at: new Date().toISOString(),\n                timer_started_at: new Date().toISOString(),\n                timer_expires_at: expiresAt.toISOString(),\n                status: \"revealed\"\n            }).eq(\"id\", assignment.id);\n            // Update user\n            await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"users\").update({\n                decision_timer_active: true,\n                decision_timer_started_at: new Date().toISOString(),\n                decision_timer_expires_at: expiresAt.toISOString(),\n                last_activity_at: new Date().toISOString()\n            }).eq(\"id\", maleUserId);\n            // Hide other assigned profiles\n            await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").update({\n                status: \"hidden\"\n            }).eq(\"male_user_id\", maleUserId).eq(\"status\", \"assigned\").neq(\"id\", assignment.id);\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: \"Profile selected! 48-hour decision timer started. Other profiles are now hidden.\"\n        });\n    } catch (error) {\n        console.error(\"Select profile error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function disengageProfile(maleUserId, femaleUserId) {\n    try {\n        // Update assignment status to disengaged\n        const { error: updateError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").update({\n            status: \"disengaged\",\n            disengaged_at: new Date().toISOString(),\n            is_selected: false\n        }).eq(\"male_user_id\", maleUserId).eq(\"female_user_id\", femaleUserId);\n        if (updateError) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Failed to update assignment\"\n            }, {\n                status: 500\n            });\n        }\n        // Disable decision timer and reveal other profiles if any\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"users\").update({\n            decision_timer_active: false,\n            decision_timer_expires_at: null,\n            decision_timer_started_at: null\n        }).eq(\"id\", maleUserId);\n        // Reveal hidden profiles back to assigned status\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").update({\n            status: \"assigned\"\n        }).eq(\"male_user_id\", maleUserId).eq(\"status\", \"hidden\");\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: \"Profile disengaged successfully. Other profiles are now visible again.\"\n        });\n    } catch (error) {\n        console.error(\"Disengage profile error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function progressToRound2(maleUserId) {\n    try {\n        // Get user current state\n        const { data: user, error: userError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"users\").select(\"current_round, round_1_completed, subscription_type\").eq(\"id\", maleUserId).single();\n        if (userError || !user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"User not found\"\n            }, {\n                status: 404\n            });\n        }\n        if (user.current_round !== 1) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"User is not in round 1\"\n            }, {\n                status: 400\n            });\n        }\n        // Update user to round 2\n        const { error: updateError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"users\").update({\n            current_round: 2,\n            round_1_completed: true,\n            decision_timer_active: false,\n            decision_timer_expires_at: null,\n            decision_timer_started_at: null\n        }).eq(\"id\", maleUserId);\n        if (updateError) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Failed to update user round\"\n            }, {\n                status: 500\n            });\n        }\n        // Disengage any active temporary matches from round 1\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"temporary_matches\").update({\n            status: \"disengaged\"\n        }).eq(\"male_user_id\", maleUserId).eq(\"status\", \"active\");\n        // Mark round 1 assignments as completed\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").update({\n            status: \"round_completed\"\n        }).eq(\"male_user_id\", maleUserId).eq(\"round_number\", 1).in(\"status\", [\n            \"assigned\",\n            \"revealed\",\n            \"hidden\"\n        ]);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: \"Successfully progressed to Round 2! User can now receive new assignments.\"\n        });\n    } catch (error) {\n        console.error(\"Progress to round 2 error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function requestRound2(maleUserId) {\n    try {\n        // Update user round information\n        const { error: updateError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"users\").update({\n            round_2_requested: true,\n            round_2_requested_at: new Date().toISOString(),\n            current_round: 2,\n            decision_timer_active: false,\n            decision_timer_expires_at: null\n        }).eq(\"id\", maleUserId);\n        if (updateError) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Failed to update user\"\n            }, {\n                status: 500\n            });\n        }\n        // Update temporary match status to disengaged\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"temporary_matches\").update({\n            status: \"disengaged\"\n        }).eq(\"male_user_id\", maleUserId).eq(\"status\", \"active\");\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: \"Round 2 requested successfully\"\n        });\n    } catch (error) {\n        console.error(\"Request round 2 error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function confirmMatch(maleUserId, femaleUserId) {\n    try {\n        // Create permanent match\n        const { data: permMatch, error: permError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"permanent_matches\").insert({\n            male_user_id: maleUserId,\n            female_user_id: femaleUserId,\n            status: \"active\"\n        }).select().single();\n        if (permError) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Failed to create permanent match\"\n            }, {\n                status: 500\n            });\n        }\n        // Update user status\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"users\").update({\n            permanent_match_id: permMatch.id,\n            match_confirmed_at: new Date().toISOString(),\n            decision_timer_active: false,\n            decision_timer_expires_at: null\n        }).eq(\"id\", maleUserId);\n        // Update temporary match status\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"temporary_matches\").update({\n            status: \"promoted\"\n        }).eq(\"male_user_id\", maleUserId).eq(\"status\", \"active\");\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            permMatch,\n            message: \"Match confirmed permanently\"\n        });\n    } catch (error) {\n        console.error(\"Confirm match error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function clearUserHistory(maleUserId) {\n    try {\n        // Delete all assignments\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"profile_assignments\").delete().eq(\"male_user_id\", maleUserId);\n        // Delete temporary matches\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"temporary_matches\").delete().eq(\"male_user_id\", maleUserId);\n        // Delete permanent matches\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"permanent_matches\").delete().eq(\"male_user_id\", maleUserId);\n        // Reset user data\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"users\").update({\n            current_round: 1,\n            round_1_completed: false,\n            round_2_completed: false,\n            decision_timer_active: false,\n            decision_timer_expires_at: null,\n            decision_timer_started_at: null,\n            temp_match_id: null,\n            permanent_match_id: null,\n            match_confirmed_at: null,\n            last_activity_at: new Date().toISOString()\n        }).eq(\"id\", maleUserId);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: \"User history cleared successfully. User reset to Round 1.\"\n        });\n    } catch (error) {\n        console.error(\"Clear history error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL21hdGNoZXMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVEO0FBQ1Q7QUFFdkMsTUFBTUUsVUFBVSxnQkFBZTtBQUMvQixNQUFNQyxhQUFhLEVBQUM7QUFFcEIsZUFBZUMsSUFBSUMsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSUYsUUFBUUcsR0FBRztRQUM1QyxNQUFNQyxXQUFXSCxhQUFhSSxHQUFHLENBQUMsWUFBWSx1QkFBdUI7O1FBRXJFQyxRQUFRQyxHQUFHLENBQUMsbUNBQW1DSDtRQUUvQyxnRUFBZ0U7UUFDaEUsSUFBSUksUUFBUVosd0RBQWFBLENBQ3RCYSxJQUFJLENBQUMsU0FDTEMsTUFBTSxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztNQXFCVCxDQUFDLEVBQ0FDLEVBQUUsQ0FBQyxVQUFVLFFBQ2JBLEVBQUUsQ0FBQyxxQkFBcUI7UUFFM0IsSUFBSVAsWUFBWUEsYUFBYSxPQUFPO1lBQ2xDSSxRQUFRQSxNQUFNRyxFQUFFLENBQUMscUJBQXFCUDtRQUN4QztRQUVBLE1BQU0sRUFBRVEsTUFBTUMsU0FBUyxFQUFFQyxPQUFPQyxjQUFjLEVBQUUsR0FBRyxNQUFNUCxNQUFNUSxLQUFLLENBQUMsY0FBYztZQUFFQyxXQUFXO1FBQU07UUFFdEcsSUFBSUYsZ0JBQWdCO1lBQ2xCVCxRQUFRUSxLQUFLLENBQUMsOEJBQThCQztZQUM1QyxPQUFPcEIsa0ZBQVlBLENBQUN1QixJQUFJLENBQUM7Z0JBQUVKLE9BQU87WUFBNkIsR0FBRztnQkFBRUssUUFBUTtZQUFJO1FBQ2xGO1FBRUEseURBQXlEO1FBQ3pELE1BQU0sRUFBRVAsTUFBTVEsV0FBVyxFQUFFTixPQUFPTyxnQkFBZ0IsRUFBRSxHQUFHLE1BQU16Qix3REFBYUEsQ0FDdkVhLElBQUksQ0FBQyxTQUNMQyxNQUFNLENBQUMsQ0FBQzs7Ozs7Ozs7OztNQVVULENBQUMsRUFD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RSxXQUFXO1FBQzFDLEdBQ0NuSCxFQUFFLENBQUMsTUFBTWtHO1FBRVosT0FBT2xILGtGQUFZQSxDQUFDdUIsSUFBSSxDQUFDO1lBQ3ZCNkcsU0FBUztZQUNUQyxTQUFTO1FBQ1g7SUFFRixFQUFFLE9BQU9sSCxPQUFPO1FBQ2RSLFFBQVFRLEtBQUssQ0FBQyx3QkFBd0JBO1FBQ3RDLE9BQU9uQixrRkFBWUEsQ0FBQ3VCLElBQUksQ0FBQztZQUFFSixPQUFPO1FBQXdCLEdBQUc7WUFBRUssUUFBUTtRQUFJO0lBQzdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9hcHAvYXBpL2FkbWluL21hdGNoZXMvcm91dGUudHM/NmFiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBzdXBhYmFzZUFkbWluIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnXG5cbmV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnXG5leHBvcnQgY29uc3QgcmV2YWxpZGF0ZSA9IDBcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIGNvbnN0IHBsYW5UeXBlID0gc2VhcmNoUGFyYW1zLmdldCgncGxhblR5cGUnKSAvLyAncHJlbWl1bScgb3IgJ2Jhc2ljJ1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBtYXRjaGVzIGRhdGEgZm9yIHBsYW46JywgcGxhblR5cGUpXG4gICAgXG4gICAgLy8gR2V0IG1hbGUgdXNlcnMgd2l0aCBjb25maXJtZWQgcGF5bWVudHMgZm9yIHRoZSBzcGVjaWZpZWQgcGxhblxuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgaWQsXG4gICAgICAgIGZ1bGxfbmFtZSxcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGdlbmRlcixcbiAgICAgICAgYWdlLFxuICAgICAgICB1bml2ZXJzaXR5LFxuICAgICAgICBwcm9maWxlX3Bob3RvLFxuICAgICAgICBzdWJzY3JpcHRpb25fdHlwZSxcbiAgICAgICAgcGF5bWVudF9jb25maXJtZWQsXG4gICAgICAgIGN1cnJlbnRfcm91bmQsXG4gICAgICAgIHJvdW5kXzFfY29tcGxldGVkLFxuICAgICAgICByb3VuZF8yX2NvbXBsZXRlZCxcbiAgICAgICAgZGVjaXNpb25fdGltZXJfYWN0aXZlLFxuICAgICAgICBkZWNpc2lvbl90aW1lcl9leHBpcmVzX2F0LFxuICAgICAgICBkZWNpc2lvbl90aW1lcl9zdGFydGVkX2F0LFxuICAgICAgICB0ZW1wX21hdGNoX2lkLFxuICAgICAgICBwZXJtYW5lbnRfbWF0Y2hfaWQsXG4gICAgICAgIG1hdGNoX2NvbmZpcm1lZF9hdCxcbiAgICAgICAgbGFzdF9hY3Rpdml0eV9hdCxcbiAgICAgICAgY3JlYXRlZF9hdFxuICAgICAgYClcbiAgICAgIC5lcSgnZ2VuZGVyJywgJ21hbGUnKVxuICAgICAgLmVxKCdwYXltZW50X2NvbmZpcm1lZCcsIHRydWUpXG4gICAgICBcbiAgICBpZiAocGxhblR5cGUgJiYgcGxhblR5cGUgIT09ICdhbGwnKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdzdWJzY3JpcHRpb25fdHlwZScsIHBsYW5UeXBlKVxuICAgIH1cbiAgICBcbiAgICBjb25zdCB7IGRhdGE6IG1hbGVVc2VycywgZXJyb3I6IG1hbGVVc2Vyc0Vycm9yIH0gPSBhd2FpdCBxdWVyeS5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgIFxuICAgIGlmIChtYWxlVXNlcnNFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbWFsZSB1c2VyczonLCBtYWxlVXNlcnNFcnJvcilcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIG1hbGUgdXNlcnMnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgICB9XG5cbiAgICAvLyBHZXQgYWxsIGZlbWFsZSB1c2VycyBmb3IgYXNzaWdubWVudCBvcHRpb25zIHdpdGggc3RhdHNcbiAgICBjb25zdCB7IGRhdGE6IGZlbWFsZVVzZXJzLCBlcnJvcjogZmVtYWxlVXNlcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICBpZCxcbiAgICAgICAgZnVsbF9uYW1lLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgYWdlLFxuICAgICAgICB1bml2ZXJzaXR5LFxuICAgICAgICBwcm9maWxlX3Bob3RvLFxuICAgICAgICBiaW8sXG4gICAgICAgIGluc3RhZ3JhbSxcbiAgICAgICAgY3JlYXRlZF9hdFxuICAgICAgYClcbiAgICAgIC5lcSgnZ2VuZGVyJywgJ2ZlbWFsZScpXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICBcbiAgICBpZiAoZmVtYWxlVXNlcnNFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZmVtYWxlIHVzZXJzOicsIGZlbWFsZVVzZXJzRXJyb3IpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBmZW1hbGUgdXNlcnMnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgICB9XG5cbiAgICAvLyBHZXQgZmVtYWxlIHByb2ZpbGUgc3RhdHNcbiAgICBjb25zdCB7IGRhdGE6IGZlbWFsZVN0YXRzIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgnZmVtYWxlX3Byb2ZpbGVfc3RhdHMnKVxuICAgICAgLnNlbGVjdCgnKicpXG5cbiAgICAvLyBHZXQgYXNzaWdubWVudHMgZm9yIGFsbCBtYWxlIHVzZXJzXG4gICAgY29uc3QgbWFsZVVzZXJJZHMgPSBtYWxlVXNlcnM/Lm1hcCh1c2VyID0+IHVzZXIuaWQpIHx8IFtdXG4gICAgY29uc3QgeyBkYXRhOiBhc3NpZ25tZW50cyB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3Byb2ZpbGVfYXNzaWdubWVudHMnKVxuICAgICAgLnNlbGVjdChgXG4gICAgICAgICosXG4gICAgICAgIGZlbWFsZV91c2VyOnVzZXJzIXByb2ZpbGVfYXNzaWdubWVudHNfZmVtYWxlX3VzZXJfaWRfZmtleSAoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZnVsbF9uYW1lLFxuICAgICAgICAgIHByb2ZpbGVfcGhvdG9cbiAgICAgICAgKVxuICAgICAgYClcbiAgICAgIC5pbignbWFsZV91c2VyX2lkJywgbWFsZVVzZXJJZHMpXG4gICAgXG4gICAgLy8gR2V0IHRlbXBvcmFyeSBtYXRjaGVzXG4gICAgY29uc3QgeyBkYXRhOiB0ZW1wTWF0Y2hlcyB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3RlbXBvcmFyeV9tYXRjaGVzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBmZW1hbGVfdXNlcjp1c2VycyF0ZW1wb3JhcnlfbWF0Y2hlc19mZW1hbGVfdXNlcl9pZF9ma2V5IChcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBmdWxsX25hbWUsXG4gICAgICAgICAgcHJvZmlsZV9waG90b1xuICAgICAgICApXG4gICAgICBgKVxuICAgICAgLmluKCdtYWxlX3VzZXJfaWQnLCBtYWxlVXNlcklkcylcbiAgICBcbiAgICAvLyBHZXQgcGVybWFuZW50IG1hdGNoZXMgIFxuICAgIGNvbnN0IHsgZGF0YTogcGVybU1hdGNoZXMgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdwZXJtYW5lbnRfbWF0Y2hlcycpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgKixcbiAgICAgICAgZmVtYWxlX3VzZXI6dXNlcnMhcGVybWFuZW50X21hdGNoZXNfZmVtYWxlX3VzZXJfaWRfZmtleSAoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZnVsbF9uYW1lLFxuICAgICAgICAgIHByb2ZpbGVfcGhvdG9cbiAgICAgICAgKVxuICAgICAgYClcbiAgICAgIC5pbignbWFsZV91c2VyX2lkJywgbWFsZVVzZXJJZHMpXG5cbiAgICAvLyBFbmhhbmNlIG1hbGUgdXNlcnMgd2l0aCBhc3NpZ25tZW50IGRhdGEgYW5kIHJvdW5kIGxvZ2ljXG4gICAgY29uc3QgZW5oYW5jZWRNYWxlVXNlcnMgPSBtYWxlVXNlcnM/Lm1hcCh1c2VyID0+IHtcbiAgICAgIGNvbnN0IHVzZXJBc3NpZ25tZW50cyA9IGFzc2lnbm1lbnRzPy5maWx0ZXIoYSA9PiBhLm1hbGVfdXNlcl9pZCA9PT0gdXNlci5pZCkgfHwgW11cbiAgICAgIGNvbnN0IHVzZXJUZW1wTWF0Y2ggPSB0ZW1wTWF0Y2hlcz8uZmluZCh0bSA9PiB0bS5tYWxlX3VzZXJfaWQgPT09IHVzZXIuaWQpXG4gICAgICBjb25zdCB1c2VyUGVybU1hdGNoID0gcGVybU1hdGNoZXM/LmZpbmQocG0gPT4gcG0ubWFsZV91c2VyX2lkID09PSB1c2VyLmlkKVxuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgYXNzaWdubWVudCBzbG90cyBiYXNlZCBvbiBzdWJzY3JpcHRpb24gYW5kIHJvdW5kXG4gICAgICBjb25zdCBnZXRNYXhBc3NpZ25tZW50cyA9IChzdWJzY3JpcHRpb246IHN0cmluZywgcm91bmQ6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uID09PSAncHJlbWl1bScpIHtcbiAgICAgICAgICByZXR1cm4gcm91bmQgPT09IDEgPyAyIDogMyAgLy8gUm91bmQgMTogMiBvcHRpb25zLCBSb3VuZCAyOiAzIG9wdGlvbnNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gMSAgLy8gQmFzaWM6IDEgb3B0aW9uIHBlciByb3VuZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IG1heEFzc2lnbm1lbnRzID0gZ2V0TWF4QXNzaWdubWVudHModXNlci5zdWJzY3JpcHRpb25fdHlwZSwgdXNlci5jdXJyZW50X3JvdW5kKVxuICAgICAgY29uc3QgY3VycmVudEFzc2lnbm1lbnRzID0gdXNlckFzc2lnbm1lbnRzLmZpbHRlcihhID0+IGEuc3RhdHVzID09PSAnYXNzaWduZWQnICYmIGEucm91bmRfbnVtYmVyID09PSB1c2VyLmN1cnJlbnRfcm91bmQpLmxlbmd0aFxuICAgICAgY29uc3QgYXZhaWxhYmxlU2xvdHMgPSBtYXhBc3NpZ25tZW50cyAtIGN1cnJlbnRBc3NpZ25tZW50c1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB1c2VyIGhhcyBzZWxlY3RlZCBhIHByb2ZpbGUgKHRpbWVyIGFjdGl2ZSlcbiAgICAgIGNvbnN0IHNlbGVjdGVkQXNzaWdubWVudCA9IHVzZXJBc3NpZ25tZW50cy5maW5kKGEgPT4gYS5pc19zZWxlY3RlZCA9PT0gdHJ1ZSAmJiBhLnN0YXR1cyA9PT0gJ3JldmVhbGVkJylcbiAgICAgIGNvbnN0IGhhc0FjdGl2ZVRpbWVyID0gdXNlci5kZWNpc2lvbl90aW1lcl9hY3RpdmUgJiYgdXNlci5kZWNpc2lvbl90aW1lcl9leHBpcmVzX2F0ICYmIG5ldyBEYXRlKHVzZXIuZGVjaXNpb25fdGltZXJfZXhwaXJlc19hdCkgPiBuZXcgRGF0ZSgpXG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSB0aW1lIHJlbWFpbmluZyBpZiB0aW1lciBpcyBhY3RpdmVcbiAgICAgIGxldCB0aW1lUmVtYWluaW5nID0gbnVsbFxuICAgICAgaWYgKGhhc0FjdGl2ZVRpbWVyICYmIHVzZXIuZGVjaXNpb25fdGltZXJfZXhwaXJlc19hdCkge1xuICAgICAgICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSh1c2VyLmRlY2lzaW9uX3RpbWVyX2V4cGlyZXNfYXQpLmdldFRpbWUoKVxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgICAgICB0aW1lUmVtYWluaW5nID0gTWF0aC5tYXgoMCwgZXhwaXJlc0F0IC0gbm93KVxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi51c2VyLFxuICAgICAgICBhc3NpZ25tZW50czogdXNlckFzc2lnbm1lbnRzLFxuICAgICAgICBhc3NpZ25lZENvdW50OiBjdXJyZW50QXNzaWdubWVudHMsXG4gICAgICAgIHJldmVhbGVkQ291bnQ6IHVzZXJBc3NpZ25tZW50cy5maWx0ZXIoYSA9PiBhLnN0YXR1cyA9PT0gJ3JldmVhbGVkJykubGVuZ3RoLFxuICAgICAgICBkaXNlbmdhZ2VkQ291bnQ6IHVzZXJBc3NpZ25tZW50cy5maWx0ZXIoYSA9PiBhLnN0YXR1cyA9PT0gJ2Rpc2VuZ2FnZWQnKS5sZW5ndGgsXG4gICAgICAgIG1heEFzc2lnbm1lbnRzLFxuICAgICAgICBhdmFpbGFibGVTbG90cyxcbiAgICAgICAgY3VycmVudFRlbXBNYXRjaDogdXNlclRlbXBNYXRjaCxcbiAgICAgICAgcGVybWFuZW50TWF0Y2g6IHVzZXJQZXJtTWF0Y2gsXG4gICAgICAgIHNlbGVjdGVkQXNzaWdubWVudCxcbiAgICAgICAgaGFzQWN0aXZlVGltZXIsXG4gICAgICAgIHRpbWVSZW1haW5pbmcsXG4gICAgICAgIGRlY2lzaW9uRXhwaXJlc0F0OiB1c2VyLmRlY2lzaW9uX3RpbWVyX2V4cGlyZXNfYXQsXG4gICAgICAgIHJvdW5kSW5mbzoge1xuICAgICAgICAgIGN1cnJlbnQ6IHVzZXIuY3VycmVudF9yb3VuZCxcbiAgICAgICAgICByb3VuZDFDb21wbGV0ZWQ6IHVzZXIucm91bmRfMV9jb21wbGV0ZWQsXG4gICAgICAgICAgcm91bmQyQ29tcGxldGVkOiB1c2VyLnJvdW5kXzJfY29tcGxldGVkLFxuICAgICAgICAgIGNhblByb2dyZXNzVG9Sb3VuZDI6IHVzZXIuY3VycmVudF9yb3VuZCA9PT0gMSAmJiAhdXNlci5yb3VuZF8xX2NvbXBsZXRlZCAmJiAodXNlclRlbXBNYXRjaCB8fCB1c2VyUGVybU1hdGNoKVxuICAgICAgICB9LFxuICAgICAgICBzdGF0dXM6IHVzZXJQZXJtTWF0Y2ggPyAncGVybWFuZW50bHlfbWF0Y2hlZCcgOiBcbiAgICAgICAgICAgICAgICB1c2VyVGVtcE1hdGNoID8gJ3RlbXBvcmFyeV9tYXRjaCcgOlxuICAgICAgICAgICAgICAgIHNlbGVjdGVkQXNzaWdubWVudCAmJiBoYXNBY3RpdmVUaW1lciA/ICdkZWNpZGluZycgOlxuICAgICAgICAgICAgICAgIGN1cnJlbnRBc3NpZ25tZW50cyA+IDAgPyAnYXNzaWduZWQnIDogXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBhcyAnYXNzaWduZWQnIGluc3RlYWQgb2YgJ3dhaXRpbmcnIGZvciBwYWlkIHVzZXJzIHdpdGggbm8gYXNzaWdubWVudHNcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGVuc3VyZXMgcmVzZXQgdXNlcnMgcmVtYWluIHZpc2libGUgaW4gYWRtaW4gcGFuZWxcbiAgICAgICAgICAgICAgICB1c2VyLnBheW1lbnRfY29uZmlybWVkID8gJ2Fzc2lnbmVkJyA6ICd3YWl0aW5nJ1xuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBFbmhhbmNlIGZlbWFsZSB1c2VycyB3aXRoIGFzc2lnbm1lbnQgc3RhdGlzdGljcyBmcm9tIHN0YXRzIHRhYmxlXG4gICAgY29uc3QgZW5oYW5jZWRGZW1hbGVVc2VycyA9IGZlbWFsZVVzZXJzPy5tYXAoZmVtYWxlID0+IHtcbiAgICAgIGNvbnN0IHN0YXRzID0gZmVtYWxlU3RhdHM/LmZpbmQocyA9PiBzLmZlbWFsZV91c2VyX2lkID09PSBmZW1hbGUuaWQpXG4gICAgICBjb25zdCBmZW1hbGVBc3NpZ25tZW50cyA9IGFzc2lnbm1lbnRzPy5maWx0ZXIoYSA9PiBhLmZlbWFsZV91c2VyX2lkID09PSBmZW1hbGUuaWQpIHx8IFtdXG4gICAgICBjb25zdCBmZW1hbGVUZW1wTWF0Y2hlcyA9IHRlbXBNYXRjaGVzPy5maWx0ZXIodG0gPT4gdG0uZmVtYWxlX3VzZXJfaWQgPT09IGZlbWFsZS5pZCkgfHwgW11cbiAgICAgIGNvbnN0IGZlbWFsZVBlcm1NYXRjaGVzID0gcGVybU1hdGNoZXM/LmZpbHRlcihwbSA9PiBwbS5mZW1hbGVfdXNlcl9pZCA9PT0gZmVtYWxlLmlkKSB8fCBbXVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5mZW1hbGUsXG4gICAgICAgIGN1cnJlbnRseUFzc2lnbmVkQ291bnQ6IHN0YXRzPy5jdXJyZW50bHlfYXNzaWduZWRfY291bnQgfHwgMCxcbiAgICAgICAgYXNzaWduZWRDb3VudDogc3RhdHM/LmFzc2lnbmVkX2NvdW50IHx8IDAsXG4gICAgICAgIHRvdGFsQXNzaWduZWRDb3VudDogc3RhdHM/LnRvdGFsX2Fzc2lnbmVkX2NvdW50IHx8IDAsXG4gICAgICAgIHNlbGVjdGVkQ291bnQ6IHN0YXRzPy5zZWxlY3RlZF9jb3VudCB8fCAwLFxuICAgICAgICByZXZlYWxlZENvdW50OiBzdGF0cz8ucmV2ZWFsZWRfY291bnQgfHwgMCxcbiAgICAgICAgcGVybWFuZW50TWF0Y2hDb3VudDogZmVtYWxlUGVybU1hdGNoZXMubGVuZ3RoLFxuICAgICAgICBjdXJyZW50QXNzaWdubWVudHM6IGZlbWFsZUFzc2lnbm1lbnRzLmZpbHRlcihhID0+IGEuc3RhdHVzID09PSAnYXNzaWduZWQnKSxcbiAgICAgICAgY3VycmVudFRlbXBNYXRjaGVzOiBmZW1hbGVUZW1wTWF0Y2hlcy5maWx0ZXIodG0gPT4gdG0uc3RhdHVzID09PSAnYWN0aXZlJyksXG4gICAgICAgIGxhc3RBc3NpZ25lZEF0OiBzdGF0cz8ubGFzdF9hc3NpZ25lZF9hdFxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgbWFsZVVzZXJzOiBlbmhhbmNlZE1hbGVVc2VycyB8fCBbXSxcbiAgICAgIGZlbWFsZVVzZXJzOiBlbmhhbmNlZEZlbWFsZVVzZXJzIHx8IFtdLFxuICAgICAgdG90YWxNYWxlczogbWFsZVVzZXJzPy5sZW5ndGggfHwgMCxcbiAgICAgIHRvdGFsRmVtYWxlczogZmVtYWxlVXNlcnM/Lmxlbmd0aCB8fCAwLFxuICAgICAgc3RhdGlzdGljczoge1xuICAgICAgICBwcmVtaXVtVXNlcnM6IGVuaGFuY2VkTWFsZVVzZXJzPy5maWx0ZXIodSA9PiB1LnN1YnNjcmlwdGlvbl90eXBlID09PSAncHJlbWl1bScpLmxlbmd0aCB8fCAwLFxuICAgICAgICBiYXNpY1VzZXJzOiBlbmhhbmNlZE1hbGVVc2Vycz8uZmlsdGVyKHUgPT4gdS5zdWJzY3JpcHRpb25fdHlwZSA9PT0gJ2Jhc2ljJykubGVuZ3RoIHx8IDAsXG4gICAgICAgIGFzc2lnbmVkVXNlcnM6IGVuaGFuY2VkTWFsZVVzZXJzPy5maWx0ZXIodSA9PiB1LmFzc2lnbmVkQ291bnQgPiAwKS5sZW5ndGggfHwgMCxcbiAgICAgICAgd2FpdGluZ1VzZXJzOiBlbmhhbmNlZE1hbGVVc2Vycz8uZmlsdGVyKHUgPT4gdS5zdGF0dXMgPT09ICd3YWl0aW5nJykubGVuZ3RoIHx8IDAsXG4gICAgICAgIG1hdGNoZWRVc2VyczogZW5oYW5jZWRNYWxlVXNlcnM/LmZpbHRlcih1ID0+IHUuc3RhdHVzID09PSAncGVybWFuZW50bHlfbWF0Y2hlZCcpLmxlbmd0aCB8fCAwXG4gICAgICB9XG4gICAgfSlcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdNYXRjaGVzIEFQSSBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgeyBhY3Rpb24sIG1hbGVVc2VySWQsIGZlbWFsZVVzZXJJZCwgZGF0YSB9ID0gYm9keVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdNYXRjaGVzIEFQSSBQT1NUIGFjdGlvbjonLCBhY3Rpb24pXG4gICAgXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ2Fzc2lnbl9wcm9maWxlJzpcbiAgICAgICAgcmV0dXJuIGF3YWl0IGFzc2lnblByb2ZpbGUobWFsZVVzZXJJZCwgZmVtYWxlVXNlcklkLCBkYXRhPy5yb3VuZCB8fCAxKVxuICAgICAgXG4gICAgICBjYXNlICdzZWxlY3RfcHJvZmlsZSc6XG4gICAgICAgIHJldHVybiBhd2FpdCBzZWxlY3RQcm9maWxlKG1hbGVVc2VySWQsIGZlbWFsZVVzZXJJZClcbiAgICAgIFxuICAgICAgY2FzZSAnZGlzZW5nYWdlX3Byb2ZpbGUnOlxuICAgICAgICByZXR1cm4gYXdhaXQgZGlzZW5nYWdlUHJvZmlsZShtYWxlVXNlcklkLCBmZW1hbGVVc2VySWQpXG4gICAgICBcbiAgICAgIGNhc2UgJ2NvbmZpcm1fbWF0Y2gnOlxuICAgICAgICByZXR1cm4gYXdhaXQgY29uZmlybU1hdGNoKG1hbGVVc2VySWQsIGZlbWFsZVVzZXJJZClcbiAgICAgIFxuICAgICAgY2FzZSAncHJvZ3Jlc3NfdG9fcm91bmRfMic6XG4gICAgICAgIHJldHVybiBhd2FpdCBwcm9ncmVzc1RvUm91bmQyKG1hbGVVc2VySWQpXG4gICAgICBcbiAgICAgIGNhc2UgJ2NsZWFyX2hpc3RvcnknOlxuICAgICAgICByZXR1cm4gYXdhaXQgY2xlYXJVc2VySGlzdG9yeShtYWxlVXNlcklkKVxuICAgICAgXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgYWN0aW9uJyB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ01hdGNoZXMgQVBJIFBPU1QgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYXRjaCBvcGVyYXRpb25zXG5hc3luYyBmdW5jdGlvbiBhc3NpZ25Qcm9maWxlKG1hbGVVc2VySWQ6IHN0cmluZywgZmVtYWxlVXNlcklkOiBzdHJpbmcsIHJvdW5kOiBudW1iZXIpIHtcbiAgdHJ5IHtcbiAgICAvLyBDaGVjayBpZiBtYWxlIHVzZXIgZXhpc3RzIGFuZCBnZXQgc3Vic2NyaXB0aW9uIGRldGFpbHNcbiAgICBjb25zdCB7IGRhdGE6IG1hbGVVc2VyLCBlcnJvcjogbWFsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgLnNlbGVjdCgnc3Vic2NyaXB0aW9uX3R5cGUsIGN1cnJlbnRfcm91bmQsIHJvdW5kXzFfY29tcGxldGVkLCByb3VuZF8yX2NvbXBsZXRlZCwgZGVjaXNpb25fdGltZXJfYWN0aXZlJylcbiAgICAgIC5lcSgnaWQnLCBtYWxlVXNlcklkKVxuICAgICAgLnNpbmdsZSgpXG4gICAgXG4gICAgaWYgKG1hbGVFcnJvciB8fCAhbWFsZVVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWFsZSB1c2VyIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHVzZXIgaGFzIGFjdGl2ZSB0aW1lciAoc2VsZWN0ZWQgYSBwcm9maWxlIGFscmVhZHkpXG4gICAgaWYgKG1hbGVVc2VyLmRlY2lzaW9uX3RpbWVyX2FjdGl2ZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGVycm9yOiAnVXNlciBoYXMgYWxyZWFkeSBzZWxlY3RlZCBhIHByb2ZpbGUgYW5kIHRpbWVyIGlzIGFjdGl2ZS4gQ2Fubm90IGFzc2lnbiBtb3JlIHByb2ZpbGVzLicgXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIG1heCBhc3NpZ25tZW50cyBiYXNlZCBvbiBzdWJzY3JpcHRpb24gYW5kIHJvdW5kXG4gICAgY29uc3QgZ2V0TWF4QXNzaWdubWVudHMgPSAoc3Vic2NyaXB0aW9uOiBzdHJpbmcsIHJvdW5kTnVtOiBudW1iZXIpID0+IHtcbiAgICAgIGlmIChzdWJzY3JpcHRpb24gPT09ICdwcmVtaXVtJykge1xuICAgICAgICByZXR1cm4gcm91bmROdW0gPT09IDEgPyAyIDogMyAgLy8gUm91bmQgMTogMiBvcHRpb25zLCBSb3VuZCAyOiAzIG9wdGlvbnNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAxICAvLyBCYXNpYzogMSBvcHRpb24gcGVyIHJvdW5kXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG1heEFzc2lnbm1lbnRzID0gZ2V0TWF4QXNzaWdubWVudHMobWFsZVVzZXIuc3Vic2NyaXB0aW9uX3R5cGUsIG1hbGVVc2VyLmN1cnJlbnRfcm91bmQpXG4gICAgXG4gICAgLy8gR2V0IGN1cnJlbnQgYXNzaWdubWVudHMgZm9yIHRoaXMgdXNlciBpbiBjdXJyZW50IHJvdW5kXG4gICAgY29uc3QgeyBkYXRhOiBjdXJyZW50QXNzaWdubWVudHMgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdwcm9maWxlX2Fzc2lnbm1lbnRzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdtYWxlX3VzZXJfaWQnLCBtYWxlVXNlcklkKVxuICAgICAgLmVxKCdyb3VuZF9udW1iZXInLCBtYWxlVXNlci5jdXJyZW50X3JvdW5kKVxuICAgICAgLmVxKCdzdGF0dXMnLCAnYXNzaWduZWQnKVxuICAgIFxuICAgIGlmIChjdXJyZW50QXNzaWdubWVudHMgJiYgY3VycmVudEFzc2lnbm1lbnRzLmxlbmd0aCA+PSBtYXhBc3NpZ25tZW50cykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGVycm9yOiBgTWF4aW11bSBhc3NpZ25tZW50cyByZWFjaGVkIGZvciByb3VuZCAke21hbGVVc2VyLmN1cnJlbnRfcm91bmR9LiAke21hbGVVc2VyLnN1YnNjcmlwdGlvbl90eXBlfSBwbGFuIGFsbG93cyAke21heEFzc2lnbm1lbnRzfSBhc3NpZ25tZW50cyBwZXIgcm91bmQuYCBcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGlzIGZlbWFsZSBwcm9maWxlIHdhcyBhbHJlYWR5IGFzc2lnbmVkIHRvIHRoaXMgbWFsZSB1c2VyIGJlZm9yZVxuICAgIGNvbnN0IHsgZGF0YTogcHJldmlvdXNBc3NpZ25tZW50IH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgncHJvZmlsZV9hc3NpZ25tZW50cycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnbWFsZV91c2VyX2lkJywgbWFsZVVzZXJJZClcbiAgICAgIC5lcSgnZmVtYWxlX3VzZXJfaWQnLCBmZW1hbGVVc2VySWQpXG4gICAgICAuc2luZ2xlKClcbiAgICBcbiAgICBpZiAocHJldmlvdXNBc3NpZ25tZW50KSB7XG4gICAgICBpZiAocHJldmlvdXNBc3NpZ25tZW50LnN0YXR1cyA9PT0gJ2Rpc2VuZ2FnZWQnKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgICAgIGVycm9yOiAnVGhpcyBmZW1hbGUgcHJvZmlsZSBjYW5ub3QgYmUgcmVhc3NpZ25lZCB0byB0aGlzIG1hbGUgdXNlciBhcyBoZSBkaXNlbmdhZ2VkIGVhcmxpZXIuJyBcbiAgICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgICAgfSBlbHNlIGlmIChwcmV2aW91c0Fzc2lnbm1lbnQuc3RhdHVzID09PSAnYXNzaWduZWQnKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgICAgIGVycm9yOiAnVGhpcyBmZW1hbGUgcHJvZmlsZSBpcyBhbHJlYWR5IGFzc2lnbmVkIHRvIHRoaXMgbWFsZSB1c2VyLicgXG4gICAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdGhlIGFzc2lnbm1lbnRcbiAgICBjb25zdCB7IGRhdGE6IGFzc2lnbm1lbnQsIGVycm9yOiBhc3NpZ25FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3Byb2ZpbGVfYXNzaWdubWVudHMnKVxuICAgICAgLmluc2VydCh7XG4gICAgICAgIG1hbGVfdXNlcl9pZDogbWFsZVVzZXJJZCxcbiAgICAgICAgZmVtYWxlX3VzZXJfaWQ6IGZlbWFsZVVzZXJJZCxcbiAgICAgICAgc3RhdHVzOiAnYXNzaWduZWQnLFxuICAgICAgICByb3VuZF9udW1iZXI6IG1hbGVVc2VyLmN1cnJlbnRfcm91bmQsXG4gICAgICAgIGFzc2lnbmVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuICAgIFxuICAgIGlmIChhc3NpZ25FcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQXNzaWdubWVudCBjcmVhdGlvbiBlcnJvcjonLCBhc3NpZ25FcnJvcilcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGNyZWF0ZSBhc3NpZ25tZW50JyB9LCB7IHN0YXR1czogNTAwIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgIGFzc2lnbm1lbnQsXG4gICAgICBtZXNzYWdlOiBgUHJvZmlsZSBhc3NpZ25lZCBzdWNjZXNzZnVsbHkgZm9yIFJvdW5kICR7bWFsZVVzZXIuY3VycmVudF9yb3VuZH1gIFxuICAgIH0pXG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQXNzaWduIHByb2ZpbGUgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBzZWxlY3RQcm9maWxlKG1hbGVVc2VySWQ6IHN0cmluZywgZmVtYWxlVXNlcklkOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgdGhlIGFzc2lnbm1lbnRcbiAgICBjb25zdCB7IGRhdGE6IGFzc2lnbm1lbnQsIGVycm9yOiBhc3NpZ25tZW50RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdwcm9maWxlX2Fzc2lnbm1lbnRzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdtYWxlX3VzZXJfaWQnLCBtYWxlVXNlcklkKVxuICAgICAgLmVxKCdmZW1hbGVfdXNlcl9pZCcsIGZlbWFsZVVzZXJJZClcbiAgICAgIC5lcSgnc3RhdHVzJywgJ2Fzc2lnbmVkJylcbiAgICAgIC5zaW5nbGUoKVxuICAgIFxuICAgIGlmIChhc3NpZ25tZW50RXJyb3IgfHwgIWFzc2lnbm1lbnQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnQXNzaWdubWVudCBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSlcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB1c2VyIGFscmVhZHkgaGFzIGFuIGFjdGl2ZSBzZWxlY3Rpb25cbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nU2VsZWN0aW9uIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgncHJvZmlsZV9hc3NpZ25tZW50cycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnbWFsZV91c2VyX2lkJywgbWFsZVVzZXJJZClcbiAgICAgIC5lcSgnaXNfc2VsZWN0ZWQnLCB0cnVlKVxuICAgICAgLmVxKCdzdGF0dXMnLCAncmV2ZWFsZWQnKVxuICAgICAgLnNpbmdsZSgpXG4gICAgXG4gICAgaWYgKGV4aXN0aW5nU2VsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VzZXIgYWxyZWFkeSBoYXMgYW4gYWN0aXZlIHNlbGVjdGlvbicgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIC8vIFN0YXJ0IHRoZSA0OC1ob3VyIGRlY2lzaW9uIHRpbWVyIHVzaW5nIGRhdGFiYXNlIGZ1bmN0aW9uXG4gICAgY29uc3QgeyBlcnJvcjogdGltZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLnJwYygnc3RhcnRfZGVjaXNpb25fdGltZXInLCB7IGFzc2lnbm1lbnRfaWQ6IGFzc2lnbm1lbnQuaWQgfSlcbiAgICBcbiAgICBpZiAodGltZXJFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVGltZXIgc3RhcnQgZXJyb3I6JywgdGltZXJFcnJvcilcbiAgICAgIC8vIEZhbGxiYWNrIHRvIG1hbnVhbCB0aW1lciBzdGFydCBpZiBmdW5jdGlvbiBkb2Vzbid0IGV4aXN0XG4gICAgICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSgpXG4gICAgICBleHBpcmVzQXQuc2V0SG91cnMoZXhwaXJlc0F0LmdldEhvdXJzKCkgKyA0OClcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGFzc2lnbm1lbnRcbiAgICAgIGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgICAgLmZyb20oJ3Byb2ZpbGVfYXNzaWdubWVudHMnKVxuICAgICAgICAudXBkYXRlKHsgXG4gICAgICAgICAgaXNfc2VsZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgc2VsZWN0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB0aW1lcl9zdGFydGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdGltZXJfZXhwaXJlc19hdDogZXhwaXJlc0F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgc3RhdHVzOiAncmV2ZWFsZWQnXG4gICAgICAgIH0pXG4gICAgICAgIC5lcSgnaWQnLCBhc3NpZ25tZW50LmlkKVxuXG4gICAgICAvLyBVcGRhdGUgdXNlclxuICAgICAgYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAudXBkYXRlKHtcbiAgICAgICAgICBkZWNpc2lvbl90aW1lcl9hY3RpdmU6IHRydWUsXG4gICAgICAgICAgZGVjaXNpb25fdGltZXJfc3RhcnRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGRlY2lzaW9uX3RpbWVyX2V4cGlyZXNfYXQ6IGV4cGlyZXNBdC50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGxhc3RfYWN0aXZpdHlfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KVxuICAgICAgICAuZXEoJ2lkJywgbWFsZVVzZXJJZClcblxuICAgICAgLy8gSGlkZSBvdGhlciBhc3NpZ25lZCBwcm9maWxlc1xuICAgICAgYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgICAuZnJvbSgncHJvZmlsZV9hc3NpZ25tZW50cycpXG4gICAgICAgIC51cGRhdGUoeyBzdGF0dXM6ICdoaWRkZW4nIH0pXG4gICAgICAgIC5lcSgnbWFsZV91c2VyX2lkJywgbWFsZVVzZXJJZClcbiAgICAgICAgLmVxKCdzdGF0dXMnLCAnYXNzaWduZWQnKVxuICAgICAgICAubmVxKCdpZCcsIGFzc2lnbm1lbnQuaWQpXG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgIG1lc3NhZ2U6ICdQcm9maWxlIHNlbGVjdGVkISA0OC1ob3VyIGRlY2lzaW9uIHRpbWVyIHN0YXJ0ZWQuIE90aGVyIHByb2ZpbGVzIGFyZSBub3cgaGlkZGVuLicgXG4gICAgfSlcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTZWxlY3QgcHJvZmlsZSBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRpc2VuZ2FnZVByb2ZpbGUobWFsZVVzZXJJZDogc3RyaW5nLCBmZW1hbGVVc2VySWQ6IHN0cmluZykge1xuICB0cnkge1xuICAgIC8vIFVwZGF0ZSBhc3NpZ25tZW50IHN0YXR1cyB0byBkaXNlbmdhZ2VkXG4gICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdwcm9maWxlX2Fzc2lnbm1lbnRzJylcbiAgICAgIC51cGRhdGUoeyBcbiAgICAgICAgc3RhdHVzOiAnZGlzZW5nYWdlZCcsXG4gICAgICAgIGRpc2VuZ2FnZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgaXNfc2VsZWN0ZWQ6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLmVxKCdtYWxlX3VzZXJfaWQnLCBtYWxlVXNlcklkKVxuICAgICAgLmVxKCdmZW1hbGVfdXNlcl9pZCcsIGZlbWFsZVVzZXJJZClcbiAgICBcbiAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSBhc3NpZ25tZW50JyB9LCB7IHN0YXR1czogNTAwIH0pXG4gICAgfVxuXG4gICAgLy8gRGlzYWJsZSBkZWNpc2lvbiB0aW1lciBhbmQgcmV2ZWFsIG90aGVyIHByb2ZpbGVzIGlmIGFueVxuICAgIGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgZGVjaXNpb25fdGltZXJfYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgZGVjaXNpb25fdGltZXJfZXhwaXJlc19hdDogbnVsbCxcbiAgICAgICAgZGVjaXNpb25fdGltZXJfc3RhcnRlZF9hdDogbnVsbFxuICAgICAgfSlcbiAgICAgIC5lcSgnaWQnLCBtYWxlVXNlcklkKVxuXG4gICAgLy8gUmV2ZWFsIGhpZGRlbiBwcm9maWxlcyBiYWNrIHRvIGFzc2lnbmVkIHN0YXR1c1xuICAgIGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdwcm9maWxlX2Fzc2lnbm1lbnRzJylcbiAgICAgIC51cGRhdGUoeyBzdGF0dXM6ICdhc3NpZ25lZCcgfSlcbiAgICAgIC5lcSgnbWFsZV91c2VyX2lkJywgbWFsZVVzZXJJZClcbiAgICAgIC5lcSgnc3RhdHVzJywgJ2hpZGRlbicpXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnUHJvZmlsZSBkaXNlbmdhZ2VkIHN1Y2Nlc3NmdWxseS4gT3RoZXIgcHJvZmlsZXMgYXJlIG5vdyB2aXNpYmxlIGFnYWluLicgXG4gICAgfSlcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEaXNlbmdhZ2UgcHJvZmlsZSBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHByb2dyZXNzVG9Sb3VuZDIobWFsZVVzZXJJZDogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IHVzZXIgY3VycmVudCBzdGF0ZVxuICAgIGNvbnN0IHsgZGF0YTogdXNlciwgZXJyb3I6IHVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgIC5zZWxlY3QoJ2N1cnJlbnRfcm91bmQsIHJvdW5kXzFfY29tcGxldGVkLCBzdWJzY3JpcHRpb25fdHlwZScpXG4gICAgICAuZXEoJ2lkJywgbWFsZVVzZXJJZClcbiAgICAgIC5zaW5nbGUoKVxuICAgIFxuICAgIGlmICh1c2VyRXJyb3IgfHwgIXVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVXNlciBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSlcbiAgICB9XG5cbiAgICBpZiAodXNlci5jdXJyZW50X3JvdW5kICE9PSAxKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VzZXIgaXMgbm90IGluIHJvdW5kIDEnIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdXNlciB0byByb3VuZCAyXG4gICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAudXBkYXRlKHsgXG4gICAgICAgIGN1cnJlbnRfcm91bmQ6IDIsXG4gICAgICAgIHJvdW5kXzFfY29tcGxldGVkOiB0cnVlLFxuICAgICAgICBkZWNpc2lvbl90aW1lcl9hY3RpdmU6IGZhbHNlLFxuICAgICAgICBkZWNpc2lvbl90aW1lcl9leHBpcmVzX2F0OiBudWxsLFxuICAgICAgICBkZWNpc2lvbl90aW1lcl9zdGFydGVkX2F0OiBudWxsXG4gICAgICB9KVxuICAgICAgLmVxKCdpZCcsIG1hbGVVc2VySWQpXG4gICAgXG4gICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgdXNlciByb3VuZCcgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICAgIH1cblxuICAgIC8vIERpc2VuZ2FnZSBhbnkgYWN0aXZlIHRlbXBvcmFyeSBtYXRjaGVzIGZyb20gcm91bmQgMVxuICAgIGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCd0ZW1wb3JhcnlfbWF0Y2hlcycpXG4gICAgICAudXBkYXRlKHsgc3RhdHVzOiAnZGlzZW5nYWdlZCcgfSlcbiAgICAgIC5lcSgnbWFsZV91c2VyX2lkJywgbWFsZVVzZXJJZClcbiAgICAgIC5lcSgnc3RhdHVzJywgJ2FjdGl2ZScpXG5cbiAgICAvLyBNYXJrIHJvdW5kIDEgYXNzaWdubWVudHMgYXMgY29tcGxldGVkXG4gICAgYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3Byb2ZpbGVfYXNzaWdubWVudHMnKVxuICAgICAgLnVwZGF0ZSh7IHN0YXR1czogJ3JvdW5kX2NvbXBsZXRlZCcgfSlcbiAgICAgIC5lcSgnbWFsZV91c2VyX2lkJywgbWFsZVVzZXJJZClcbiAgICAgIC5lcSgncm91bmRfbnVtYmVyJywgMSlcbiAgICAgIC5pbignc3RhdHVzJywgWydhc3NpZ25lZCcsICdyZXZlYWxlZCcsICdoaWRkZW4nXSlcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgcHJvZ3Jlc3NlZCB0byBSb3VuZCAyISBVc2VyIGNhbiBub3cgcmVjZWl2ZSBuZXcgYXNzaWdubWVudHMuJyBcbiAgICB9KVxuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1Byb2dyZXNzIHRvIHJvdW5kIDIgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiByZXF1ZXN0Um91bmQyKG1hbGVVc2VySWQ6IHN0cmluZykge1xuICB0cnkge1xuICAgIC8vIFVwZGF0ZSB1c2VyIHJvdW5kIGluZm9ybWF0aW9uXG4gICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAudXBkYXRlKHsgXG4gICAgICAgIHJvdW5kXzJfcmVxdWVzdGVkOiB0cnVlLFxuICAgICAgICByb3VuZF8yX3JlcXVlc3RlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBjdXJyZW50X3JvdW5kOiAyLFxuICAgICAgICBkZWNpc2lvbl90aW1lcl9hY3RpdmU6IGZhbHNlLFxuICAgICAgICBkZWNpc2lvbl90aW1lcl9leHBpcmVzX2F0OiBudWxsXG4gICAgICB9KVxuICAgICAgLmVxKCdpZCcsIG1hbGVVc2VySWQpXG4gICAgXG4gICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgdXNlcicgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0ZW1wb3JhcnkgbWF0Y2ggc3RhdHVzIHRvIGRpc2VuZ2FnZWRcbiAgICBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgndGVtcG9yYXJ5X21hdGNoZXMnKVxuICAgICAgLnVwZGF0ZSh7IHN0YXR1czogJ2Rpc2VuZ2FnZWQnIH0pXG4gICAgICAuZXEoJ21hbGVfdXNlcl9pZCcsIG1hbGVVc2VySWQpXG4gICAgICAuZXEoJ3N0YXR1cycsICdhY3RpdmUnKVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ1JvdW5kIDIgcmVxdWVzdGVkIHN1Y2Nlc3NmdWxseScgXG4gICAgfSlcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdSZXF1ZXN0IHJvdW5kIDIgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjb25maXJtTWF0Y2gobWFsZVVzZXJJZDogc3RyaW5nLCBmZW1hbGVVc2VySWQ6IHN0cmluZykge1xuICB0cnkge1xuICAgIC8vIENyZWF0ZSBwZXJtYW5lbnQgbWF0Y2hcbiAgICBjb25zdCB7IGRhdGE6IHBlcm1NYXRjaCwgZXJyb3I6IHBlcm1FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3Blcm1hbmVudF9tYXRjaGVzJylcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICBtYWxlX3VzZXJfaWQ6IG1hbGVVc2VySWQsXG4gICAgICAgIGZlbWFsZV91c2VyX2lkOiBmZW1hbGVVc2VySWQsXG4gICAgICAgIHN0YXR1czogJ2FjdGl2ZSdcbiAgICAgIH0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuICAgIFxuICAgIGlmIChwZXJtRXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGNyZWF0ZSBwZXJtYW5lbnQgbWF0Y2gnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdXNlciBzdGF0dXNcbiAgICBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHBlcm1hbmVudF9tYXRjaF9pZDogcGVybU1hdGNoLmlkLFxuICAgICAgICBtYXRjaF9jb25maXJtZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgZGVjaXNpb25fdGltZXJfYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgZGVjaXNpb25fdGltZXJfZXhwaXJlc19hdDogbnVsbFxuICAgICAgfSlcbiAgICAgIC5lcSgnaWQnLCBtYWxlVXNlcklkKVxuXG4gICAgLy8gVXBkYXRlIHRlbXBvcmFyeSBtYXRjaCBzdGF0dXNcbiAgICBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgndGVtcG9yYXJ5X21hdGNoZXMnKVxuICAgICAgLnVwZGF0ZSh7IHN0YXR1czogJ3Byb21vdGVkJyB9KVxuICAgICAgLmVxKCdtYWxlX3VzZXJfaWQnLCBtYWxlVXNlcklkKVxuICAgICAgLmVxKCdzdGF0dXMnLCAnYWN0aXZlJylcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHBlcm1NYXRjaCxcbiAgICAgIG1lc3NhZ2U6ICdNYXRjaCBjb25maXJtZWQgcGVybWFuZW50bHknIFxuICAgIH0pXG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQ29uZmlybSBtYXRjaCBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNsZWFyVXNlckhpc3RvcnkobWFsZVVzZXJJZDogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgLy8gRGVsZXRlIGFsbCBhc3NpZ25tZW50c1xuICAgIGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdwcm9maWxlX2Fzc2lnbm1lbnRzJylcbiAgICAgIC5kZWxldGUoKVxuICAgICAgLmVxKCdtYWxlX3VzZXJfaWQnLCBtYWxlVXNlcklkKVxuICAgIFxuICAgIC8vIERlbGV0ZSB0ZW1wb3JhcnkgbWF0Y2hlc1xuICAgIGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCd0ZW1wb3JhcnlfbWF0Y2hlcycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcSgnbWFsZV91c2VyX2lkJywgbWFsZVVzZXJJZClcbiAgICBcbiAgICAvLyBEZWxldGUgcGVybWFuZW50IG1hdGNoZXNcbiAgICBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgncGVybWFuZW50X21hdGNoZXMnKVxuICAgICAgLmRlbGV0ZSgpXG4gICAgICAuZXEoJ21hbGVfdXNlcl9pZCcsIG1hbGVVc2VySWQpXG4gICAgXG4gICAgLy8gUmVzZXQgdXNlciBkYXRhXG4gICAgYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgIC51cGRhdGUoe1xuICAgICAgICBjdXJyZW50X3JvdW5kOiAxLFxuICAgICAgICByb3VuZF8xX2NvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgIHJvdW5kXzJfY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgZGVjaXNpb25fdGltZXJfYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgZGVjaXNpb25fdGltZXJfZXhwaXJlc19hdDogbnVsbCxcbiAgICAgICAgZGVjaXNpb25fdGltZXJfc3RhcnRlZF9hdDogbnVsbCxcbiAgICAgICAgdGVtcF9tYXRjaF9pZDogbnVsbCxcbiAgICAgICAgcGVybWFuZW50X21hdGNoX2lkOiBudWxsLFxuICAgICAgICBtYXRjaF9jb25maXJtZWRfYXQ6IG51bGwsXG4gICAgICAgIGxhc3RfYWN0aXZpdHlfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSlcbiAgICAgIC5lcSgnaWQnLCBtYWxlVXNlcklkKVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ1VzZXIgaGlzdG9yeSBjbGVhcmVkIHN1Y2Nlc3NmdWxseS4gVXNlciByZXNldCB0byBSb3VuZCAxLicgXG4gICAgfSlcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDbGVhciBoaXN0b3J5IGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJzdXBhYmFzZUFkbWluIiwiZHluYW1pYyIsInJldmFsaWRhdGUiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicGxhblR5cGUiLCJnZXQiLCJjb25zb2xlIiwibG9nIiwicXVlcnkiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJkYXRhIiwibWFsZVVzZXJzIiwiZXJyb3IiLCJtYWxlVXNlcnNFcnJvciIsIm9yZGVyIiwiYXNjZW5kaW5nIiwianNvbiIsInN0YXR1cyIsImZlbWFsZVVzZXJzIiwiZmVtYWxlVXNlcnNFcnJvciIsImZlbWFsZVN0YXRzIiwibWFsZVVzZXJJZHMiLCJtYXAiLCJ1c2VyIiwiaWQiLCJhc3NpZ25tZW50cyIsImluIiwidGVtcE1hdGNoZXMiLCJwZXJtTWF0Y2hlcyIsImVuaGFuY2VkTWFsZVVzZXJzIiwidXNlckFzc2lnbm1lbnRzIiwiZmlsdGVyIiwiYSIsIm1hbGVfdXNlcl9pZCIsInVzZXJUZW1wTWF0Y2giLCJmaW5kIiwidG0iLCJ1c2VyUGVybU1hdGNoIiwicG0iLCJnZXRNYXhBc3NpZ25tZW50cyIsInN1YnNjcmlwdGlvbiIsInJvdW5kIiwibWF4QXNzaWdubWVudHMiLCJzdWJzY3JpcHRpb25fdHlwZSIsImN1cnJlbnRfcm91bmQiLCJjdXJyZW50QXNzaWdubWVudHMiLCJyb3VuZF9udW1iZXIiLCJsZW5ndGgiLCJhdmFpbGFibGVTbG90cyIsInNlbGVjdGVkQXNzaWdubWVudCIsImlzX3NlbGVjdGVkIiwiaGFzQWN0aXZlVGltZXIiLCJkZWNpc2lvbl90aW1lcl9hY3RpdmUiLCJkZWNpc2lvbl90aW1lcl9leHBpcmVzX2F0IiwiRGF0ZSIsInRpbWVSZW1haW5pbmciLCJleHBpcmVzQXQiLCJnZXRUaW1lIiwibm93IiwiTWF0aCIsIm1heCIsImFzc2lnbmVkQ291bnQiLCJyZXZlYWxlZENvdW50IiwiZGlzZW5nYWdlZENvdW50IiwiY3VycmVudFRlbXBNYXRjaCIsInBlcm1hbmVudE1hdGNoIiwiZGVjaXNpb25FeHBpcmVzQXQiLCJyb3VuZEluZm8iLCJjdXJyZW50Iiwicm91bmQxQ29tcGxldGVkIiwicm91bmRfMV9jb21wbGV0ZWQiLCJyb3VuZDJDb21wbGV0ZWQiLCJyb3VuZF8yX2NvbXBsZXRlZCIsImNhblByb2dyZXNzVG9Sb3VuZDIiLCJwYXltZW50X2NvbmZpcm1lZCIsImVuaGFuY2VkRmVtYWxlVXNlcnMiLCJmZW1hbGUiLCJzdGF0cyIsInMiLCJmZW1hbGVfdXNlcl9pZCIsImZlbWFsZUFzc2lnbm1lbnRzIiwiZmVtYWxlVGVtcE1hdGNoZXMiLCJmZW1hbGVQZXJtTWF0Y2hlcyIsImN1cnJlbnRseUFzc2lnbmVkQ291bnQiLCJjdXJyZW50bHlfYXNzaWduZWRfY291bnQiLCJhc3NpZ25lZF9jb3VudCIsInRvdGFsQXNzaWduZWRDb3VudCIsInRvdGFsX2Fzc2lnbmVkX2NvdW50Iiwic2VsZWN0ZWRDb3VudCIsInNlbGVjdGVkX2NvdW50IiwicmV2ZWFsZWRfY291bnQiLCJwZXJtYW5lbnRNYXRjaENvdW50IiwiY3VycmVudFRlbXBNYXRjaGVzIiwibGFzdEFzc2lnbmVkQXQiLCJsYXN0X2Fzc2lnbmVkX2F0IiwidG90YWxNYWxlcyIsInRvdGFsRmVtYWxlcyIsInN0YXRpc3RpY3MiLCJwcmVtaXVtVXNlcnMiLCJ1IiwiYmFzaWNVc2VycyIsImFzc2lnbmVkVXNlcnMiLCJ3YWl0aW5nVXNlcnMiLCJtYXRjaGVkVXNlcnMiLCJQT1NUIiwiYm9keSIsImFjdGlvbiIsIm1hbGVVc2VySWQiLCJmZW1hbGVVc2VySWQiLCJhc3NpZ25Qcm9maWxlIiwic2VsZWN0UHJvZmlsZSIsImRpc2VuZ2FnZVByb2ZpbGUiLCJjb25maXJtTWF0Y2giLCJwcm9ncmVzc1RvUm91bmQyIiwiY2xlYXJVc2VySGlzdG9yeSIsIm1hbGVVc2VyIiwibWFsZUVycm9yIiwic2luZ2xlIiwicm91bmROdW0iLCJwcmV2aW91c0Fzc2lnbm1lbnQiLCJhc3NpZ25tZW50IiwiYXNzaWduRXJyb3IiLCJpbnNlcnQiLCJhc3NpZ25lZF9hdCIsInRvSVNPU3RyaW5nIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJhc3NpZ25tZW50RXJyb3IiLCJleGlzdGluZ1NlbGVjdGlvbiIsInRpbWVyRXJyb3IiLCJycGMiLCJhc3NpZ25tZW50X2lkIiwic2V0SG91cnMiLCJnZXRIb3VycyIsInVwZGF0ZSIsInNlbGVjdGVkX2F0IiwidGltZXJfc3RhcnRlZF9hdCIsInRpbWVyX2V4cGlyZXNfYXQiLCJkZWNpc2lvbl90aW1lcl9zdGFydGVkX2F0IiwibGFzdF9hY3Rpdml0eV9hdCIsIm5lcSIsInVwZGF0ZUVycm9yIiwiZGlzZW5nYWdlZF9hdCIsInVzZXJFcnJvciIsInJlcXVlc3RSb3VuZDIiLCJyb3VuZF8yX3JlcXVlc3RlZCIsInJvdW5kXzJfcmVxdWVzdGVkX2F0IiwicGVybU1hdGNoIiwicGVybUVycm9yIiwicGVybWFuZW50X21hdGNoX2lkIiwibWF0Y2hfY29uZmlybWVkX2F0IiwiZGVsZXRlIiwidGVtcF9tYXRjaF9pZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/matches/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/main/index.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://xdhtrwaghahigmbojotu.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhkaHRyd2FnaGFoaWdtYm9qb3R1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5Njk1OTYsImV4cCI6MjA3MTU0NTU5Nn0.ItDXVqjGSI-DaRCCbTCiWbopMnhXLGQiA3DMgBEzS4s\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nif (!supabaseUrl) {\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_URL environment variable\");\n}\nif (!supabaseAnonKey) {\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable\");\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Service role client for admin operations (use only on server-side)\nconst supabaseAdmin = (()=>{\n    if (!supabaseServiceKey) {\n        console.warn(\"SUPABASE_SERVICE_ROLE_KEY not found, some admin operations may not work\");\n        // Return regular client as fallback\n        return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n        auth: {\n            autoRefreshToken: false,\n            persistSession: false\n        }\n    });\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRDtBQUVwRCxNQUFNQyxjQUFjQywwQ0FBb0M7QUFDeEQsTUFBTUcsa0JBQWtCSCxrTkFBeUM7QUFDakUsTUFBTUsscUJBQXFCTCxRQUFRQyxHQUFHLENBQUNLLHlCQUF5QjtBQUVoRSxJQUFJLENBQUNQLGFBQWE7SUFDaEIsTUFBTSxJQUFJUSxNQUFNO0FBQ2xCO0FBRUEsSUFBSSxDQUFDSixpQkFBaUI7SUFDcEIsTUFBTSxJQUFJSSxNQUFNO0FBQ2xCO0FBRU8sTUFBTUMsV0FBV1YsbUVBQVlBLENBQUNDLGFBQWFJLGlCQUFnQjtBQUVsRSxxRUFBcUU7QUFDOUQsTUFBTU0sZ0JBQWdCLENBQUM7SUFDNUIsSUFBSSxDQUFDSixvQkFBb0I7UUFDdkJLLFFBQVFDLElBQUksQ0FBQztRQUNiLG9DQUFvQztRQUNwQyxPQUFPYixtRUFBWUEsQ0FBQ0MsYUFBYUk7SUFDbkM7SUFFQSxPQUFPTCxtRUFBWUEsQ0FBQ0MsYUFBYU0sb0JBQW9CO1FBQ25ETyxNQUFNO1lBQ0pDLGtCQUFrQjtZQUNsQkMsZ0JBQWdCO1FBQ2xCO0lBQ0Y7QUFDRixLQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbGliL3N1cGFiYXNlLnRzP2M5OWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCFcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIVxuY29uc3Qgc3VwYWJhc2VTZXJ2aWNlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWVxuXG5pZiAoIXN1cGFiYXNlVXJsKSB7XG4gIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgZW52aXJvbm1lbnQgdmFyaWFibGUnKVxufVxuXG5pZiAoIXN1cGFiYXNlQW5vbktleSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUnKVxufVxuXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSlcblxuLy8gU2VydmljZSByb2xlIGNsaWVudCBmb3IgYWRtaW4gb3BlcmF0aW9ucyAodXNlIG9ubHkgb24gc2VydmVyLXNpZGUpXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VBZG1pbiA9ICgoKSA9PiB7XG4gIGlmICghc3VwYWJhc2VTZXJ2aWNlS2V5KSB7XG4gICAgY29uc29sZS53YXJuKCdTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIG5vdCBmb3VuZCwgc29tZSBhZG1pbiBvcGVyYXRpb25zIG1heSBub3Qgd29yaycpXG4gICAgLy8gUmV0dXJuIHJlZ3VsYXIgY2xpZW50IGFzIGZhbGxiYWNrXG4gICAgcmV0dXJuIGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KVxuICB9XG4gIFxuICByZXR1cm4gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VLZXksIHtcbiAgICBhdXRoOiB7XG4gICAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZVxuICAgIH1cbiAgfSlcbn0pKClcblxuZXhwb3J0IHR5cGUgRGF0YWJhc2UgPSB7XG4gIHB1YmxpYzoge1xuICAgIFRhYmxlczoge1xuICAgICAgdXNlcnM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIGVtYWlsOiBzdHJpbmdcbiAgICAgICAgICBmdWxsX25hbWU6IHN0cmluZ1xuICAgICAgICAgIHBob25lX251bWJlcjogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGFnZTogbnVtYmVyXG4gICAgICAgICAgdW5pdmVyc2l0eTogc3RyaW5nXG4gICAgICAgICAgeWVhcl9vZl9zdHVkeTogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHByb2ZpbGVfcGhvdG86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBiaW86IHN0cmluZ1xuICAgICAgICAgIGVuZXJneV9zdHlsZTogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGdyb3VwX3NldHRpbmc6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBpZGVhbF93ZWVrZW5kOiBzdHJpbmdbXSB8IG51bGxcbiAgICAgICAgICBjb21tdW5pY2F0aW9uX3N0eWxlOiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgYmVzdF90cmFpdDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHJlbGF0aW9uc2hpcF92YWx1ZXM6IHN0cmluZ1tdIHwgbnVsbFxuICAgICAgICAgIGxvdmVfbGFuZ3VhZ2U6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjb25uZWN0aW9uX3N0YXRlbWVudDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGluc3RhZ3JhbTogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGdlbmRlcjogJ21hbGUnIHwgJ2ZlbWFsZSdcbiAgICAgICAgICBpc19hZG1pbjogYm9vbGVhblxuICAgICAgICAgIHN1YnNjcmlwdGlvbl90eXBlOiAnYmFzaWMnIHwgJ3ByZW1pdW0nIHwgbnVsbFxuICAgICAgICAgIHN1YnNjcmlwdGlvbl9zdGF0dXM6ICdwZW5kaW5nJyB8ICdhY3RpdmUnIHwgJ2V4cGlyZWQnIHwgJ2NhbmNlbGxlZCdcbiAgICAgICAgICBwYXltZW50X2NvbmZpcm1lZDogYm9vbGVhblxuICAgICAgICAgIHBheW1lbnRfcHJvb2ZfdXJsOiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcm91bmRzX3VzZWQ6IG51bWJlclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICB9XG4gICAgICAgIEluc2VydDoge1xuICAgICAgICAgIGlkPzogc3RyaW5nXG4gICAgICAgICAgZW1haWw6IHN0cmluZ1xuICAgICAgICAgIGZ1bGxfbmFtZTogc3RyaW5nXG4gICAgICAgICAgcGhvbmVfbnVtYmVyPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGFnZTogbnVtYmVyXG4gICAgICAgICAgdW5pdmVyc2l0eTogc3RyaW5nXG4gICAgICAgICAgeWVhcl9vZl9zdHVkeT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBwcm9maWxlX3Bob3RvPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGJpbzogc3RyaW5nXG4gICAgICAgICAgZW5lcmd5X3N0eWxlPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGdyb3VwX3NldHRpbmc/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgaWRlYWxfd2Vla2VuZD86IHN0cmluZ1tdIHwgbnVsbFxuICAgICAgICAgIGNvbW11bmljYXRpb25fc3R5bGU/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgYmVzdF90cmFpdD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICByZWxhdGlvbnNoaXBfdmFsdWVzPzogc3RyaW5nW10gfCBudWxsXG4gICAgICAgICAgbG92ZV9sYW5ndWFnZT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjb25uZWN0aW9uX3N0YXRlbWVudD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBpbnN0YWdyYW0/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgZ2VuZGVyOiAnbWFsZScgfCAnZmVtYWxlJ1xuICAgICAgICAgIGlzX2FkbWluPzogYm9vbGVhblxuICAgICAgICAgIHN1YnNjcmlwdGlvbl90eXBlPzogJ2Jhc2ljJyB8ICdwcmVtaXVtJyB8IG51bGxcbiAgICAgICAgICBzdWJzY3JpcHRpb25fc3RhdHVzPzogJ3BlbmRpbmcnIHwgJ2FjdGl2ZScgfCAnZXhwaXJlZCcgfCAnY2FuY2VsbGVkJ1xuICAgICAgICAgIHBheW1lbnRfY29uZmlybWVkPzogYm9vbGVhblxuICAgICAgICAgIHBheW1lbnRfcHJvb2ZfdXJsPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHJvdW5kc191c2VkPzogbnVtYmVyXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIGVtYWlsPzogc3RyaW5nXG4gICAgICAgICAgZnVsbF9uYW1lPzogc3RyaW5nXG4gICAgICAgICAgcGhvbmVfbnVtYmVyPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGFnZT86IG51bWJlclxuICAgICAgICAgIHVuaXZlcnNpdHk/OiBzdHJpbmdcbiAgICAgICAgICB5ZWFyX29mX3N0dWR5Pzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHByb2ZpbGVfcGhvdG8/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgYmlvPzogc3RyaW5nXG4gICAgICAgICAgZW5lcmd5X3N0eWxlPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGdyb3VwX3NldHRpbmc/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgaWRlYWxfd2Vla2VuZD86IHN0cmluZ1tdIHwgbnVsbFxuICAgICAgICAgIGNvbW11bmljYXRpb25fc3R5bGU/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgYmVzdF90cmFpdD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICByZWxhdGlvbnNoaXBfdmFsdWVzPzogc3RyaW5nW10gfCBudWxsXG4gICAgICAgICAgbG92ZV9sYW5ndWFnZT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjb25uZWN0aW9uX3N0YXRlbWVudD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBpbnN0YWdyYW0/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgZ2VuZGVyPzogJ21hbGUnIHwgJ2ZlbWFsZSdcbiAgICAgICAgICBpc19hZG1pbj86IGJvb2xlYW5cbiAgICAgICAgICBzdWJzY3JpcHRpb25fdHlwZT86ICdiYXNpYycgfCAncHJlbWl1bScgfCBudWxsXG4gICAgICAgICAgc3Vic2NyaXB0aW9uX3N0YXR1cz86ICdwZW5kaW5nJyB8ICdhY3RpdmUnIHwgJ2V4cGlyZWQnIHwgJ2NhbmNlbGxlZCdcbiAgICAgICAgICBwYXltZW50X2NvbmZpcm1lZD86IGJvb2xlYW5cbiAgICAgICAgICBwYXltZW50X3Byb29mX3VybD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICByb3VuZHNfdXNlZD86IG51bWJlclxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHByb2ZpbGVfYXNzaWdubWVudHM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIG1hbGVfdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgZmVtYWxlX3VzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHN0YXR1czogJ2Fzc2lnbmVkJyB8ICdyZXZlYWxlZCcgfCAnZGlzZW5nYWdlZCcgfCAnZXhwaXJlZCdcbiAgICAgICAgICBtYWxlX3JldmVhbGVkOiBib29sZWFuXG4gICAgICAgICAgZmVtYWxlX3JldmVhbGVkOiBib29sZWFuXG4gICAgICAgICAgYXNzaWduZWRfYXQ6IHN0cmluZ1xuICAgICAgICAgIHJldmVhbGVkX2F0OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgZGlzZW5nYWdlZF9hdDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICB9XG4gICAgICAgIEluc2VydDoge1xuICAgICAgICAgIGlkPzogc3RyaW5nXG4gICAgICAgICAgbWFsZV91c2VyX2lkOiBzdHJpbmdcbiAgICAgICAgICBmZW1hbGVfdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgc3RhdHVzPzogJ2Fzc2lnbmVkJyB8ICdyZXZlYWxlZCcgfCAnZGlzZW5nYWdlZCcgfCAnZXhwaXJlZCdcbiAgICAgICAgICBtYWxlX3JldmVhbGVkPzogYm9vbGVhblxuICAgICAgICAgIGZlbWFsZV9yZXZlYWxlZD86IGJvb2xlYW5cbiAgICAgICAgICBhc3NpZ25lZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHJldmVhbGVkX2F0Pzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGRpc2VuZ2FnZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIG1hbGVfdXNlcl9pZD86IHN0cmluZ1xuICAgICAgICAgIGZlbWFsZV91c2VyX2lkPzogc3RyaW5nXG4gICAgICAgICAgc3RhdHVzPzogJ2Fzc2lnbmVkJyB8ICdyZXZlYWxlZCcgfCAnZGlzZW5nYWdlZCcgfCAnZXhwaXJlZCdcbiAgICAgICAgICBtYWxlX3JldmVhbGVkPzogYm9vbGVhblxuICAgICAgICAgIGZlbWFsZV9yZXZlYWxlZD86IGJvb2xlYW5cbiAgICAgICAgICBhc3NpZ25lZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHJldmVhbGVkX2F0Pzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGRpc2VuZ2FnZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGVtcG9yYXJ5X21hdGNoZXM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIGFzc2lnbm1lbnRfaWQ6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBtYWxlX3VzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIGZlbWFsZV91c2VyX2lkOiBzdHJpbmdcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnIHwgJ2V4cGlyZWQnIHwgJ3Byb21vdGVkJyB8ICdkaXNlbmdhZ2VkJ1xuICAgICAgICAgIG1hbGVfZGVjaXNpb246ICdhY2NlcHQnIHwgJ3JlamVjdCcgfCBudWxsXG4gICAgICAgICAgZmVtYWxlX2RlY2lzaW9uOiAnYWNjZXB0JyB8ICdyZWplY3QnIHwgbnVsbFxuICAgICAgICAgIG1hbGVfZGVjaWRlZF9hdDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGZlbWFsZV9kZWNpZGVkX2F0OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nXG4gICAgICAgICAgZXhwaXJlc19hdDogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgICAgSW5zZXJ0OiB7XG4gICAgICAgICAgaWQ/OiBzdHJpbmdcbiAgICAgICAgICBhc3NpZ25tZW50X2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIG1hbGVfdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgZmVtYWxlX3VzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHN0YXR1cz86ICdhY3RpdmUnIHwgJ2V4cGlyZWQnIHwgJ3Byb21vdGVkJyB8ICdkaXNlbmdhZ2VkJ1xuICAgICAgICAgIG1hbGVfZGVjaXNpb24/OiAnYWNjZXB0JyB8ICdyZWplY3QnIHwgbnVsbFxuICAgICAgICAgIGZlbWFsZV9kZWNpc2lvbj86ICdhY2NlcHQnIHwgJ3JlamVjdCcgfCBudWxsXG4gICAgICAgICAgbWFsZV9kZWNpZGVkX2F0Pzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGZlbWFsZV9kZWNpZGVkX2F0Pzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgICBleHBpcmVzX2F0Pzogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgICAgVXBkYXRlOiB7XG4gICAgICAgICAgaWQ/OiBzdHJpbmdcbiAgICAgICAgICBhc3NpZ25tZW50X2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIG1hbGVfdXNlcl9pZD86IHN0cmluZ1xuICAgICAgICAgIGZlbWFsZV91c2VyX2lkPzogc3RyaW5nXG4gICAgICAgICAgc3RhdHVzPzogJ2FjdGl2ZScgfCAnZXhwaXJlZCcgfCAncHJvbW90ZWQnIHwgJ2Rpc2VuZ2FnZWQnXG4gICAgICAgICAgbWFsZV9kZWNpc2lvbj86ICdhY2NlcHQnIHwgJ3JlamVjdCcgfCBudWxsXG4gICAgICAgICAgZmVtYWxlX2RlY2lzaW9uPzogJ2FjY2VwdCcgfCAncmVqZWN0JyB8IG51bGxcbiAgICAgICAgICBtYWxlX2RlY2lkZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgZmVtYWxlX2RlY2lkZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIGV4cGlyZXNfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcGVybWFuZW50X21hdGNoZXM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIHRlbXBvcmFyeV9tYXRjaF9pZDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIG1hbGVfdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgZmVtYWxlX3VzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScgfCAnaW5hY3RpdmUnXG4gICAgICAgICAgaW5zdGFncmFtX3NoYXJlZDogYm9vbGVhblxuICAgICAgICAgIGNvbm5lY3Rpb25fbWFkZTogYm9vbGVhblxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICB9XG4gICAgICAgIEluc2VydDoge1xuICAgICAgICAgIGlkPzogc3RyaW5nXG4gICAgICAgICAgdGVtcG9yYXJ5X21hdGNoX2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIG1hbGVfdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgZmVtYWxlX3VzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHN0YXR1cz86ICdhY3RpdmUnIHwgJ2luYWN0aXZlJ1xuICAgICAgICAgIGluc3RhZ3JhbV9zaGFyZWQ/OiBib29sZWFuXG4gICAgICAgICAgY29ubmVjdGlvbl9tYWRlPzogYm9vbGVhblxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHRlbXBvcmFyeV9tYXRjaF9pZD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBtYWxlX3VzZXJfaWQ/OiBzdHJpbmdcbiAgICAgICAgICBmZW1hbGVfdXNlcl9pZD86IHN0cmluZ1xuICAgICAgICAgIHN0YXR1cz86ICdhY3RpdmUnIHwgJ2luYWN0aXZlJ1xuICAgICAgICAgIGluc3RhZ3JhbV9zaGFyZWQ/OiBib29sZWFuXG4gICAgICAgICAgY29ubmVjdGlvbl9tYWRlPzogYm9vbGVhblxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3Vic2NyaXB0aW9uczoge1xuICAgICAgICBSb3c6IHtcbiAgICAgICAgICBpZDogc3RyaW5nXG4gICAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgICAgICAgdHlwZTogJ2Jhc2ljJyB8ICdwcmVtaXVtJ1xuICAgICAgICAgIHByaWNlOiBudW1iZXJcbiAgICAgICAgICBkdXJhdGlvbl9kYXlzOiBudW1iZXJcbiAgICAgICAgICBmZWF0dXJlczogYW55XG4gICAgICAgICAgaXNfYWN0aXZlOiBib29sZWFuXG4gICAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nXG4gICAgICAgICAgdXBkYXRlZF9hdDogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgICAgSW5zZXJ0OiB7XG4gICAgICAgICAgaWQ/OiBzdHJpbmdcbiAgICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICAgICAgICB0eXBlOiAnYmFzaWMnIHwgJ3ByZW1pdW0nXG4gICAgICAgICAgcHJpY2U6IG51bWJlclxuICAgICAgICAgIGR1cmF0aW9uX2RheXM6IG51bWJlclxuICAgICAgICAgIGZlYXR1cmVzPzogYW55XG4gICAgICAgICAgaXNfYWN0aXZlPzogYm9vbGVhblxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgICAgVXBkYXRlOiB7XG4gICAgICAgICAgaWQ/OiBzdHJpbmdcbiAgICAgICAgICBuYW1lPzogc3RyaW5nXG4gICAgICAgICAgdHlwZT86ICdiYXNpYycgfCAncHJlbWl1bSdcbiAgICAgICAgICBwcmljZT86IG51bWJlclxuICAgICAgICAgIGR1cmF0aW9uX2RheXM/OiBudW1iZXJcbiAgICAgICAgICBmZWF0dXJlcz86IGFueVxuICAgICAgICAgIGlzX2FjdGl2ZT86IGJvb2xlYW5cbiAgICAgICAgICBjcmVhdGVkX2F0Pzogc3RyaW5nXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwYXltZW50czoge1xuICAgICAgICBSb3c6IHtcbiAgICAgICAgICBpZDogc3RyaW5nXG4gICAgICAgICAgdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgc3Vic2NyaXB0aW9uX3R5cGU6ICdiYXNpYycgfCAncHJlbWl1bSdcbiAgICAgICAgICBhbW91bnQ6IG51bWJlclxuICAgICAgICAgIHBheW1lbnRfbWV0aG9kOiBzdHJpbmdcbiAgICAgICAgICBwYXltZW50X3Byb29mX3VybDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnIHwgJ2NvbmZpcm1lZCcgfCAncmVqZWN0ZWQnXG4gICAgICAgICAgdHJhbnNhY3Rpb25faWQ6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBhZG1pbl9ub3Rlczogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNvbmZpcm1lZF9ieTogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNvbmZpcm1lZF9hdDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHJlamVjdGVkX2F0OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcmVqZWN0ZWRfYnk6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgICAgICAgICB1cGRhdGVkX2F0OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBJbnNlcnQ6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHN1YnNjcmlwdGlvbl90eXBlOiAnYmFzaWMnIHwgJ3ByZW1pdW0nXG4gICAgICAgICAgYW1vdW50OiBudW1iZXJcbiAgICAgICAgICBwYXltZW50X21ldGhvZD86IHN0cmluZ1xuICAgICAgICAgIHBheW1lbnRfcHJvb2ZfdXJsPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHN0YXR1cz86ICdwZW5kaW5nJyB8ICdjb25maXJtZWQnIHwgJ3JlamVjdGVkJ1xuICAgICAgICAgIHRyYW5zYWN0aW9uX2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGFkbWluX25vdGVzPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNvbmZpcm1lZF9ieT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjb25maXJtZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcmVqZWN0ZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcmVqZWN0ZWRfYnk/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ/OiBzdHJpbmdcbiAgICAgICAgICBzdWJzY3JpcHRpb25fdHlwZT86ICdiYXNpYycgfCAncHJlbWl1bSdcbiAgICAgICAgICBhbW91bnQ/OiBudW1iZXJcbiAgICAgICAgICBwYXltZW50X21ldGhvZD86IHN0cmluZ1xuICAgICAgICAgIHBheW1lbnRfcHJvb2ZfdXJsPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHN0YXR1cz86ICdwZW5kaW5nJyB8ICdjb25maXJtZWQnIHwgJ3JlamVjdGVkJ1xuICAgICAgICAgIHRyYW5zYWN0aW9uX2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGFkbWluX25vdGVzPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNvbmZpcm1lZF9ieT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjb25maXJtZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcmVqZWN0ZWRfYXQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgcmVqZWN0ZWRfYnk/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdXNlcl9yb3VuZHM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHJvdW5kX251bWJlcjogbnVtYmVyXG4gICAgICAgICAgcHJvZmlsZXNfc2hvd246IHN0cmluZ1tdIHwgbnVsbFxuICAgICAgICAgIHNlbGVjdGVkX3VzZXJfaWQ6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBJbnNlcnQ6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIHJvdW5kX251bWJlcjogbnVtYmVyXG4gICAgICAgICAgcHJvZmlsZXNfc2hvd24/OiBzdHJpbmdbXSB8IG51bGxcbiAgICAgICAgICBzZWxlY3RlZF91c2VyX2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ/OiBzdHJpbmdcbiAgICAgICAgICByb3VuZF9udW1iZXI/OiBudW1iZXJcbiAgICAgICAgICBwcm9maWxlc19zaG93bj86IHN0cmluZ1tdIHwgbnVsbFxuICAgICAgICAgIHNlbGVjdGVkX3VzZXJfaWQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1c2VyX2FjdGlvbnM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIGFjdGlvbl90eXBlOiBzdHJpbmdcbiAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGRldGFpbHM6IGFueSB8IG51bGxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBJbnNlcnQ6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ6IHN0cmluZ1xuICAgICAgICAgIGFjdGlvbl90eXBlOiBzdHJpbmdcbiAgICAgICAgICB0YXJnZXRfdXNlcl9pZD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBkZXRhaWxzPzogYW55IHwgbnVsbFxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ/OiBzdHJpbmdcbiAgICAgICAgICBhY3Rpb25fdHlwZT86IHN0cmluZ1xuICAgICAgICAgIHRhcmdldF91c2VyX2lkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGRldGFpbHM/OiBhbnkgfCBudWxsXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZVNlcnZpY2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiRXJyb3IiLCJzdXBhYmFzZSIsInN1cGFiYXNlQWRtaW4iLCJjb25zb2xlIiwid2FybiIsImF1dGgiLCJhdXRvUmVmcmVzaFRva2VuIiwicGVyc2lzdFNlc3Npb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fmatches%2Froute&page=%2Fapi%2Fadmin%2Fmatches%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fmatches%2Froute.ts&appDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faman%2FDesktop%2Fcufy_3.1v-2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();