(()=>{var e={};e.id=5890,e.ids=[5890],e.modules={52213:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=52213,e.exports=r},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},97435:(e,r,t)=>{"use strict";t.r(r),t.d(r,{headerHooks:()=>f,originalPathname:()=>x,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>v});var s={};t.r(s),t.d(s,{PUT:()=>d}),t(95655);var a=t(83323),u=t(54647),i=t(66886),o=t(63433);let n=(0,o.createClient)("https://xdhtrwaghahigmbojotu.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY),p=["cufy.online@gmail.com","eakampreet@gmail.com"];async function d(e){try{let{userId:r,adminEmail:t,updates:s}=await e.json();if(!t||!p.includes(t))return i.Z.json({error:"Unauthorized"},{status:403});if(!r||!s)return i.Z.json({error:"User ID and updates are required"},{status:400});let a=["name","email","phone","college","year","course","branch","age","height","location","interests","relationship_status","instagram","subscription_type","subscription_status","is_payment_verified","points","is_active"],u=Object.keys(s).filter(e=>a.includes(e)).reduce((e,r)=>(e[r]=s[r],e),{});if(0===Object.keys(u).length)return i.Z.json({error:"No valid fields to update"},{status:400});u.updated_at=new Date().toISOString();let{data:o,error:d}=await n.from("users").update(u).eq("id",r).select().single();if(d)return console.error("Error updating user:",d),i.Z.json({error:"Failed to update user"},{status:500});return i.Z.json({user:o,message:"User updated successfully"})}catch(e){return console.error("Error in user update PUT:",e),i.Z.json({error:"Internal server error"},{status:500})}}let c=a.AppRouteRouteModule,l=new c({definition:{kind:u.x.APP_ROUTE,page:"/api/admin/users/update/route",pathname:"/api/admin/users/update",filename:"route",bundlePath:"app/api/admin/users/update/route"},resolvedPagePath:"/home/aman/Desktop/cufy_3.1v-1/app/api/admin/users/update/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:g,headerHooks:f,staticGenerationBailout:v}=l,x="/api/admin/users/update/route"}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9195,6886,3433],()=>t(97435));module.exports=s})();