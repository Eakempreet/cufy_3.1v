(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},58959:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>m});var a=t(73137),l=t(54647),r=t(4183),i=t.n(r),n=t(71775),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let o=a.AppPageRouteModule,m=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,68156)),"/home/aman/Desktop/cufy_3.1v-1/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,68350)),"/home/aman/Desktop/cufy_3.1v-1/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,51918,23)),"next/dist/client/components/not-found-error"]}],d=["/home/aman/Desktop/cufy_3.1v-1/app/dashboard/page.tsx"],x="/dashboard/page",h={require:t,loadChunk:()=>Promise.resolve()},u=new o({definition:{kind:l.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},49518:(e,s,t)=>{Promise.resolve().then(t.bind(t,55664))},55664:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>H});var a=t(60080),l=t(9885),r=t(65345),i=t(37686),n=t(74284),c=t(57114),o=t(43907),m=t(17111),d=t(28598),x=t(34516),h=t(21091),u=t(7652),p=t(5311),g=t(32293),j=t(90092),b=t(56206),f=t(74402),N=t(87371),y=t(54278),w=t(20644),v=t(28089),_=t(5987),k=t(78260),P=t(56254),Z=t(22388),S=t(91672),C=t(67932),D=t(93680),E=t(976),A=t(96253),Y=t(94163),I=t(37650),T=t(95924),F=t(517),z=t(15441),O=t(81333),R=t(38674),U=t(56388),q=t(6315),L=t(67259),M=t(19413);function $(){let{data:e}=(0,n.useSession)(),s=(0,c.useRouter)(),[t,o]=(0,l.useState)(null),[T,F]=(0,l.useState)([]),[z,O]=(0,l.useState)([]),[R,U]=(0,l.useState)([]),[q,$]=(0,l.useState)(!0),[H,J]=(0,l.useState)(null),[V,K]=(0,l.useState)({}),[X,ee]=(0,l.useState)(null),[es,et]=(0,l.useState)(null),[ea,el]=(0,l.useState)({}),[er,ei]=(0,l.useState)(!1),[en,ec]=(0,l.useState)({full_name:"",age:"",university:"",bio:"",instagram:""}),[eo,em]=(0,l.useState)(!1),[ed,ex]=(0,l.useState)(!1),[eh,eu]=(0,l.useState)(null),[ep,eg]=(0,l.useState)(""),[ej,eb]=(0,l.useState)(!1),[ef,eN]=(0,l.useState)(!1);(0,l.useEffect)(()=>{e?.user?.email&&ey()},[e]),(0,l.useEffect)(()=>{let e=setInterval(()=>{let e={};z.forEach(s=>{let t=new Date(s.expires_at).getTime(),a=new Date().getTime();e[s.id]=Math.max(0,t-a)}),K(e)},1e3);return()=>clearInterval(e)},[z]);let ey=async(e=!1)=>{e&&ei(!0),$(!e);try{let e=await fetch("/api/auth/user"),t=await e.json();if(!t.exists){s.push("/");return}let[a,l,r,i]=await Promise.all([fetch("/api/user/profile"),fetch("/api/user/assignments"),fetch("/api/user/temporary-matches"),fetch("/api/user/permanent-matches")]),[n,c,m,d]=await Promise.all([a.json(),l.json(),r.json(),i.json()]);n.user?(console.log("Dashboard data loaded:",{user:n.user,temporaryMatches:m.matches?.length||0,permanentMatches:d.matches?.length||0,temporaryData:m,permanentData:d}),o(n.user),ec({full_name:n.user.full_name||"",age:n.user.age?.toString()||"",university:n.user.university||"",bio:n.user.bio||"",instagram:n.user.instagram||""}),F(c.assignments||[]),O(m.matches||[]),U(d.matches||[])):s.push("/")}catch(e){console.error("Error fetching user data:",e),s.push("/")}finally{$(!1),ei(!1)}},ew=async e=>{try{el(s=>({...s,[e]:!0})),ee(null);let s=await fetch("/api/user/reveal-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assignmentId:e})}),t=await s.json();s.ok?(console.log("Reveal successful, updating state..."),F(s=>s.map(s=>s.id===e?{...s,status:"revealed",male_revealed:!0,revealed_at:new Date().toISOString()}:s)),setTimeout(async()=>{await ey(),el(s=>({...s,[e]:!1}))},500)):(console.error("Error revealing profile:",t.error),ee(t.error||"Failed to reveal profile"),el(s=>({...s,[e]:!1})),setTimeout(()=>ee(null),5e3))}catch(s){console.error("Error revealing profile:",s),ee("Network error. Please check your connection."),el(s=>({...s,[e]:!1})),setTimeout(()=>ee(null),5e3)}},ev=async e=>{try{$(!0),console.log("\uD83D\uDD04 Disengaging from assignment:",e);let s=await fetch("/api/user/disengage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assignmentId:e})}),t=await s.json();s.ok&&t.success?(console.log("✅ Disengage successful:",t.message),et(null),F([]),O([]),await ey(),(t.changes?.movedToNextRound||t.changes?.completeClear)&&alert(`Success! ${t.message}

Moved to Round ${t.nextRound}`)):(console.error("Disengage error:",t.error),alert(`Error: ${t.error}`))}catch(e){console.error("Error disengaging:",e),alert("An error occurred while disengaging. Please try again.")}finally{$(!1)}},e_=async e=>{try{$(!0),console.log("\uD83D\uDD04 Selecting profile:",e);let s=await fetch("/api/user/select-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assignmentId:e})}),t=await s.json();s.ok&&t.success?(console.log("✅ Profile selected successfully:",t.message),await ey(),ee(`✅ Profile selected! You have 48 hours to decide. Other profiles have been hidden.`)):(console.error("❌ Failed to select profile:",t.error||"Unknown error"),ee(t.error||"Failed to select profile. Please try again.")),setTimeout(()=>ee(null),5e3)}catch(e){console.error("❌ Error selecting profile:",e),ee("An error occurred while selecting profile. Please try again."),setTimeout(()=>ee(null),5e3)}finally{$(!1)}},ek=async()=>{em(!0),eu(null),ex(!1);try{let e=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:en.full_name,age:parseInt(en.age),university:en.university,bio:en.bio,instagram:en.instagram})});if(e.ok){let s=await e.json();o(s.user),ex(!0),setTimeout(()=>{ex(!1)},3e3),console.log("Profile updated successfully")}else{let s=await e.json();eu(s.message||"Failed to update profile"),console.error("Failed to update profile")}}catch(e){eu("Network error. Please check your connection and try again."),console.error("Error updating profile:",e)}finally{em(!1)}},eP=(e,s)=>{ec(t=>({...t,[e]:s})),eh&&eu(null)},eZ=async()=>{if(ep.trim()){eb(!0);try{let e=await fetch("/api/user/update-instagram",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({instagram:ep.replace("@","")})});if(e.ok){let s=await e.json();o(s.user),eg(""),console.log("Instagram profile updated successfully")}else console.error("Failed to update Instagram profile")}catch(e){console.error("Error updating Instagram profile:",e)}finally{eb(!1)}}},eS=async e=>{try{let s=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_photo:e})});if(s.ok){let e=await s.json();o(e.user),eN(!1),console.log("Profile photo updated successfully")}else console.error("Failed to update profile photo")}catch(e){console.error("Error updating profile photo:",e)}};return q?a.jsx("div",{className:"min-h-screen bg-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white text-xl",children:"Loading your dashboard..."})}):t?(0,a.jsxs)("div",{className:"min-h-screen bg-dark relative",children:[a.jsx(L.Z,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dashboard"}),a.jsx("div",{className:"flex space-x-3",children:(0,a.jsxs)(x.z,{onClick:()=>{(0,n.signOut)({callbackUrl:"/"})},variant:"outline",className:"text-red-400 border-red-400 hover:bg-red-400/10",children:[a.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Logout"]})})]}),(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[X&&(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 bg-red-500/20 border border-red-500 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(b.Z,{className:"h-5 w-5 text-red-400"}),a.jsx("span",{className:"text-red-400 font-medium",children:"Error"})]}),a.jsx("p",{className:"text-red-300 mt-1",children:X})]}),a.jsx(d.Zb,{className:"gradient-primary p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(g.qE,{className:"h-12 w-12 sm:h-16 sm:w-16",children:[a.jsx(g.F$,{src:t.profile_photo}),a.jsx(g.Q5,{children:t.full_name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-xl sm:text-2xl font-bold text-white font-poppins",children:["Welcome back, ",t.full_name.split(" ")[0],"!"]}),a.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:t.university})]})]}),(0,a.jsxs)("div",{className:"flex flex-row sm:flex-col sm:items-end space-x-2 sm:space-x-0 sm:space-y-2",children:["male"===t.gender&&t.subscription_type&&(0,a.jsxs)(p.C,{variant:"secondary",className:"text-xs sm:text-sm flex items-center bg-purple-500/20 text-purple-400 border-purple-500/50",children:[a.jsx(f.Z,{className:"h-3 w-3 mr-1"}),"basic"===t.subscription_type?"₹99 Basic Plan":"₹249 Premium Plan"]}),"male"===t.gender&&t.subscription_type&&(0,a.jsxs)(p.C,{variant:"secondary",className:`text-xs sm:text-sm flex items-center ${t.payment_confirmed?"bg-green-500/20 text-green-400 border-green-500/50":"bg-yellow-500/20 text-yellow-400 border-yellow-500/50"}`,children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${t.payment_confirmed?"bg-green-400":"bg-yellow-400"}`}),t.payment_confirmed?"Payment Confirmed":"Payment Pending"]}),(0,a.jsxs)(p.C,{variant:"secondary",className:"bg-white/20 text-white text-xs sm:text-sm",children:[a.jsx(N.Z,{className:"h-3 w-3 mr-1"}),R.length," matches"]})]})]})})]}),!t.instagram&&a.jsx(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:a.jsx(d.Zb,{className:"border-pink-500/30 bg-gradient-to-r from-pink-500/10 to-purple-500/10",children:a.jsx(d.aY,{className:"p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-pink-500/20 rounded-full",children:a.jsx(y.Z,{className:"h-6 w-6 text-pink-400"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Complete Your Profile"}),a.jsx("p",{className:"text-white/70 text-sm",children:"Please resubmit your Instagram profile for verification"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:[a.jsx(h.I,{placeholder:"@yourhandle (without @)",value:ep,onChange:e=>eg(e.target.value.replace("@","")),className:"bg-white/10 border-white/20 text-white placeholder-white/50",onKeyDown:e=>{"Enter"===e.key&&ep.trim()&&eZ()}}),a.jsx(x.z,{onClick:eZ,disabled:!ep.trim()||ej,className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 whitespace-nowrap",children:ej?(0,a.jsxs)(a.Fragment,{children:[a.jsx(w.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(v.Z,{className:"h-4 w-4 mr-2"}),"Submit"]})})]})]})})})}),(0,a.jsxs)(m.mQ,{defaultValue:(t.gender,"matches"),className:"w-full",children:[(0,a.jsxs)(m.dr,{className:"grid w-full grid-cols-3 glass backdrop-blur-md mb-8",children:[(0,a.jsxs)(m.SP,{value:"matches",className:"data-[state=active]:bg-primary text-sm sm:text-base",children:[a.jsx(N.Z,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Your Matches"]}),(0,a.jsxs)(m.SP,{value:"profile",className:"data-[state=active]:bg-primary text-sm sm:text-base",children:[a.jsx(_.Z,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Profile"]}),"male"===t.gender&&(0,a.jsxs)(m.SP,{value:"payments",className:"data-[state=active]:bg-primary text-sm sm:text-base",children:[a.jsx(k.Z,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Payments"]})]}),a.jsx(m.nU,{value:"matches",children:(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsx("div",{className:"flex justify-end",children:(0,a.jsxs)(x.z,{onClick:()=>{ey(!0)},disabled:er,variant:"outline",className:"text-sm",children:[a.jsx(w.Z,{className:`h-4 w-4 mr-2 ${er?"animate-spin":""}`}),er?"Refreshing...":"Refresh"]})}),"male"===t.gender&&a.jsx(a.Fragment,{children:(()=>{let e=T.filter(e=>!0===e.is_selected||"selected"===e.status),s=T.filter(e=>!["hidden","disengaged","selected"].includes(e.status)&&!0!==e.is_selected);return(console.log("Dashboard render - Selected profiles:",e.length,"Available profiles:",s.length),e.length>0)?(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[a.jsx(N.Z,{className:"h-5 w-5 text-pink-500"}),a.jsx("span",{children:"Your Selected Profile"}),(0,a.jsxs)(p.C,{className:"bg-green-500/20 text-green-400 border-green-500/50",children:[a.jsx(P.Z,{className:"h-3 w-3 mr-1"}),"Selected"]})]})}),(0,a.jsxs)(d.aY,{children:[a.jsx("div",{className:"max-w-md mx-auto",children:e.map(e=>a.jsx(G,{assignment:e,user:t,isRevealing:ea[e.id]||!1,onReveal:()=>ew(e.id),onSelectProfile:()=>e_(e.id),onDisengage:e=>et(e)},e.id))}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-center",children:[a.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"✅ Profile Selected!"}),a.jsx("p",{className:"text-green-300 text-sm",children:"You have selected this profile. Other profiles have been hidden. You have 48 hours to make a final decision."})]})]})]}):s.length>0?(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[a.jsx(Z.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Your Matches"}),(0,a.jsxs)(p.C,{variant:"secondary",className:"bg-blue-500/20 text-blue-400 border-blue-500/50",children:[s.length," Available"]})]})}),(0,a.jsxs)(d.aY,{children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:s.map(e=>a.jsx(G,{assignment:e,user:t,isRevealing:ea[e.id]||!1,onReveal:()=>ew(e.id),onSelectProfile:()=>e_(e.id),onDisengage:e=>et(e)},e.id))}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-blue-500/20 border border-blue-500/50 rounded-lg text-center",children:[a.jsx("h4",{className:"text-blue-400 font-semibold mb-2",children:"\uD83D\uDCA1 How it works"}),a.jsx("p",{className:"text-blue-300 text-sm",children:"Reveal profiles to see full details. When you select one, other profiles will be hidden and reassigned to other users."})]})]})]}):a.jsx(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"p-8 sm:p-12 text-center",children:[a.jsx(S.Z,{className:"h-12 w-12 sm:h-16 sm:w-16 text-white/30 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-2",children:"No Matches Available"}),a.jsx("p",{className:"text-white/60 text-sm sm:text-base",children:0===T.length?"You'll receive matches to review. Check back soon!":"You've already made your selection. Other profiles have been hidden."})]})})})()}),"female"===t.gender&&(0,a.jsxs)(a.Fragment,{children:[z.length>0&&(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[a.jsx(N.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Boys Who Revealed You"})]})}),a.jsx(d.aY,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:z.map(e=>a.jsx(B,{match:e,onDisengage:e=>et(e)},e.id))})})]}),R.length>0&&(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[a.jsx(C.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Your Permanent Matches"})]})}),a.jsx(d.aY,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:R.map(e=>a.jsx(W,{match:e,currentUserId:t.id},e.id))})})]}),0===z.length&&0===R.length&&!q&&a.jsx(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"p-8 sm:p-12 text-center",children:[a.jsx(N.Z,{className:"h-12 w-12 sm:h-16 sm:w-16 text-white/30 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-2",children:"No Matches Yet"}),a.jsx("p",{className:"text-white/60 text-sm sm:text-base",children:"When someone reveals your profile and you both like each other, you'll see matches here!"})]})}),q&&a.jsx(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"p-8 sm:p-12 text-center",children:[a.jsx(w.Z,{className:"h-12 w-12 sm:h-16 sm:w-16 text-white/30 mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-2",children:"Loading your matches..."}),a.jsx("p",{className:"text-white/60 text-sm sm:text-base",children:"Please wait while we fetch your data."})]})})]}),"male"===t.gender&&0===T.length&&0===z.length&&0===R.length&&a.jsx(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"p-8 sm:p-12 text-center",children:[a.jsx(S.Z,{className:"h-12 w-12 sm:h-16 sm:w-16 text-white/30 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-2",children:"No Matches Yet"}),a.jsx("p",{className:"text-white/60 text-sm sm:text-base",children:"You'll receive up to 3 matches to review. Check back soon!"})]})})]})}),a.jsx(m.nU,{value:"profile",children:a.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto",children:(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[a.jsx(D.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Edit Profile"})]})}),(0,a.jsxs)(d.aY,{className:"space-y-6",children:[a.jsx("div",{className:"text-center",children:ef?(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(M.Z,{onImageUploaded:eS,currentImage:t.profile_photo,className:"w-full"}),a.jsx(x.z,{variant:"outline",onClick:()=>eN(!1),className:"text-sm",children:"Cancel"})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)(g.qE,{className:"h-24 w-24 sm:h-32 sm:w-32 mx-auto mb-4",children:[a.jsx(g.F$,{src:t.profile_photo}),a.jsx(g.Q5,{className:"text-lg sm:text-2xl",children:t.full_name.charAt(0)})]}),(0,a.jsxs)(x.z,{variant:"outline",className:"text-sm sm:text-base",onClick:()=>eN(!0),children:[a.jsx(E.Z,{className:"h-4 w-4 mr-2"}),"Change Photo"]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Full Name"}),a.jsx(h.I,{value:en.full_name,onChange:e=>eP("full_name",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Age"}),a.jsx(h.I,{type:"number",value:en.age,onChange:e=>eP("age",e.target.value)})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"University"}),a.jsx(h.I,{value:en.university,onChange:e=>eP("university",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Bio"}),a.jsx(u.g,{value:en.bio,onChange:e=>eP("bio",e.target.value),className:"min-h-[80px] sm:min-h-[100px]"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Instagram Username"}),a.jsx(h.I,{placeholder:"@yourhandle (without @)",value:en.instagram,onChange:e=>eP("instagram",e.target.value.replace("@",""))})]}),ed&&(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-green-500/20 border border-green-500 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(A.Z,{className:"h-5 w-5 text-green-400"}),a.jsx("span",{className:"text-green-400 font-medium",children:"Profile Saved Successfully!"})]}),a.jsx("p",{className:"text-green-300 text-sm mt-1",children:"Your changes have been saved."})]}),eh&&(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-red-500/20 border border-red-500 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(b.Z,{className:"h-5 w-5 text-red-400"}),a.jsx("span",{className:"text-red-400 font-medium",children:"Error"})]}),a.jsx("p",{className:"text-red-300 text-sm mt-1",children:eh})]}),(0,a.jsxs)(x.z,{className:`w-full text-sm sm:text-base transition-all duration-300 ${ed?"bg-green-500 hover:bg-green-600 border-green-500":"gradient-primary"}`,onClick:ek,disabled:eo,children:[a.jsx(A.Z,{className:"h-4 w-4 mr-2"}),eo?"Saving...":ed?"Saved!":"Save Changes"]})]})]})})}),"male"===t.gender&&a.jsx(m.nU,{value:"payments",children:a.jsx(Q,{user:t})})]}),a.jsx(i.M,{children:es&&a.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>et(null),children:(0,a.jsxs)(r.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 rounded-lg p-6 max-w-md w-full",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Y.Z,{className:"h-6 w-6 text-yellow-500"}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Confirm Disengage"})]}),a.jsx("p",{className:"text-white/70 mb-6",children:"Are you sure you want to disengage? This action cannot be undone and the profile will be blurred permanently."}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx(x.z,{onClick:()=>et(null),variant:"outline",className:"flex-1",children:"Cancel"}),(0,a.jsxs)(x.z,{onClick:()=>ev(es),className:"flex-1 bg-red-500 hover:bg-red-600",children:[a.jsx(I.Z,{className:"h-4 w-4 mr-2"}),"Disengage"]})]})]})})})]})]}):(s.push("/"),null)}let G=({assignment:e,isRevealing:s,onReveal:t,onSelectProfile:i,onDisengage:n,user:c})=>{let[o,m]=(0,l.useState)("disengaged"===e.status),[h,u]=(0,l.useState)(!1),g=!0===e.is_selected||"selected"===e.status,j="revealed"===e.status||!0===e.male_revealed||g;return a.jsx(r.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.02},transition:{duration:.3},className:"relative",children:j?(0,a.jsxs)(r.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:o?.3:1,scale:1,filter:o?"blur(8px)":"blur(0px)"},transition:{duration:.5},className:g?"ring-2 ring-green-500/50 rounded-lg":"",children:[(0,a.jsxs)(d.Zb,{className:`overflow-hidden bg-gradient-to-br from-slate-800/90 to-slate-900/90 border-slate-700/50 backdrop-blur-sm shadow-2xl ${g?"border-green-500/50 bg-gradient-to-br from-green-800/20 to-slate-900/90":""}`,children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(r.E.img,{src:e.female_user.profile_photo,alt:e.female_user.full_name,className:"w-full h-56 sm:h-72 object-cover",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},transition:{duration:.5}}),a.jsx(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:a.jsx(p.C,{className:`absolute top-4 right-4 shadow-lg ${g?"bg-green-500/90 text-white":"bg-blue-500/90 text-white"}`,children:g?(0,a.jsxs)(a.Fragment,{children:[a.jsx(A.Z,{className:"h-4 w-4 mr-1"}),"Selected"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(A.Z,{className:"h-4 w-4 mr-1"}),"Revealed"]})})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-black/60 to-transparent"}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-4",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white mb-1",children:[e.female_user.full_name,", ",e.female_user.age]}),(0,a.jsxs)("p",{className:"text-white/80 text-sm flex items-center",children:[a.jsx(D.Z,{className:"h-3 w-3 mr-1"}),e.female_user.university]})]})]}),a.jsx(d.aY,{className:"p-4 sm:p-6 bg-gradient-to-b from-slate-800/95 to-slate-900/95 backdrop-blur-sm",children:(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:[g&&e.timer_expires_at&&(0,a.jsxs)(r.E.div,{className:"bg-gradient-to-r from-green-500/30 to-emerald-500/30 border-2 border-green-500/50 rounded-2xl p-4 mb-6 backdrop-blur-sm",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.5},children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[a.jsx(P.Z,{className:"h-6 w-6 text-green-400"}),a.jsx("span",{className:"text-green-100 font-bold text-lg",children:"Profile Selected!"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-green-200 text-sm mb-2",children:"You have 48 hours to make your final decision"}),(0,a.jsxs)("div",{className:"text-xs text-green-300",children:["Expires: ",new Date(e.timer_expires_at).toLocaleDateString()," at ",new Date(e.timer_expires_at).toLocaleTimeString()]})]})]}),e.female_user.instagram&&(0,a.jsxs)(r.E.div,{className:"relative bg-gradient-to-r from-pink-500/30 to-purple-500/30 border-2 border-pink-500/50 rounded-2xl p-6 mb-6 backdrop-blur-sm overflow-hidden",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6,duration:.5},whileHover:{scale:1.02},children:[a.jsx("div",{className:"absolute inset-0 opacity-20",children:[...Array(6)].map((e,s)=>a.jsx(r.E.div,{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:`${20+15*s}%`,top:`${20+s%2*60}%`},animate:{opacity:[.3,1,.3],scale:[1,1.5,1]},transition:{duration:2,repeat:1/0,delay:.3*s}},s))}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-4 mb-3",children:[a.jsx(r.E.div,{className:"p-2 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:a.jsx(y.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("span",{className:"text-pink-100 font-bold text-xl",children:["@",e.female_user.instagram]})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-pink-200 text-sm font-medium mb-2",children:"\uD83D\uDC95 Connect on Instagram! \uD83D\uDC95"}),a.jsx(r.E.div,{className:"inline-block px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full text-white text-xs font-semibold shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:"✨ Your Connection Awaits ✨"})]})]})]}),(0,a.jsxs)("div",{className:"bg-slate-700/50 rounded-lg p-4 mb-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center",children:[a.jsx(N.Z,{className:"h-4 w-4 mr-2 text-pink-400"}),"About ",e.female_user.full_name.split(" ")[0]]}),a.jsx("p",{className:"text-white/90 text-sm leading-relaxed",children:e.female_user.bio})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3 mb-4",children:[e.female_user.energy_style&&(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("span",{className:"text-pink-400 font-medium text-xs uppercase tracking-wide",children:"Energy Style"}),a.jsx("p",{className:"text-white mt-1",children:e.female_user.energy_style})]}),e.female_user.group_setting&&(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("span",{className:"text-blue-400 font-medium text-xs uppercase tracking-wide",children:"Group Setting"}),a.jsx("p",{className:"text-white mt-1",children:e.female_user.group_setting})]}),e.female_user.communication_style&&(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("span",{className:"text-purple-400 font-medium text-xs uppercase tracking-wide",children:"Communication"}),a.jsx("p",{className:"text-white mt-1",children:e.female_user.communication_style})]}),e.female_user.best_trait&&(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("span",{className:"text-green-400 font-medium text-xs uppercase tracking-wide",children:"Best Trait"}),a.jsx("p",{className:"text-white mt-1",children:e.female_user.best_trait})]}),e.female_user.love_language&&(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("span",{className:"text-yellow-400 font-medium text-xs uppercase tracking-wide",children:"Love Language"}),a.jsx("p",{className:"text-white mt-1",children:e.female_user.love_language})]}),e.female_user.ideal_weekend&&(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("span",{className:"text-cyan-400 font-medium text-xs uppercase tracking-wide",children:"Ideal Weekend"}),a.jsx("p",{className:"text-white mt-1",children:Array.isArray(e.female_user.ideal_weekend)?e.female_user.ideal_weekend.join(", "):e.female_user.ideal_weekend})]}),e.female_user.relationship_values&&(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("span",{className:"text-rose-400 font-medium text-xs uppercase tracking-wide",children:"Values"}),a.jsx("p",{className:"text-white mt-1",children:Array.isArray(e.female_user.relationship_values)?e.female_user.relationship_values.join(", "):e.female_user.relationship_values})]}),e.female_user.connection_statement&&(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("span",{className:"text-indigo-400 font-medium text-xs uppercase tracking-wide",children:"Connection Statement"}),a.jsx("p",{className:"text-white mt-1",children:e.female_user.connection_statement})]})]}),(0,a.jsxs)("div",{className:"text-xs text-white/50 mb-4 flex items-center justify-center",children:[a.jsx(z.Z,{className:"h-3 w-3 mr-1"}),"Revealed ",e.revealed_at&&new Date(e.revealed_at).toLocaleDateString()]}),(0,a.jsxs)("div",{className:"space-y-3",children:[!g&&(0,a.jsxs)(x.z,{onClick:i,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-semibold transition-all duration-300 transform hover:scale-105",children:[a.jsx(N.Z,{className:"h-4 w-4 mr-2"}),"Select This Profile"]}),c&&2!==c.current_round&&(0,a.jsxs)(x.z,{onClick:()=>{u(!0)},variant:"outline",className:`w-full border-red-500/50 text-red-400 hover:bg-red-500/10 hover:border-red-500 transition-all duration-300 ${g?"border-red-600/60 text-red-500 hover:bg-red-600/20":""}`,disabled:o,children:[a.jsx(I.Z,{className:"h-4 w-4 mr-2"}),g?"Cancel Selection":"Disengage"]}),c?.current_round===2&&g&&(0,a.jsxs)("div",{className:"w-full p-4 bg-green-500/20 border border-green-500/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center text-green-400",children:[a.jsx(N.Z,{className:"h-5 w-5 mr-2"}),a.jsx("span",{className:"font-semibold",children:"Final Match Selected!"})]}),a.jsx("p",{className:"text-center text-green-300 text-sm mt-1",children:"This is your final round selection"})]})]})]})})]}),h&&a.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>u(!1),children:(0,a.jsxs)(r.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-800 rounded-lg p-6 max-w-md w-full border border-red-500/50",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Y.Z,{className:"h-6 w-6 text-red-500"}),(0,a.jsxs)("h3",{className:"text-lg font-semibold text-white",children:["⚠️ ",g?"Cancel Selection?":"Confirm Disengagement"]})]}),a.jsx("p",{className:"text-white/80 mb-6",children:g?(0,a.jsxs)(a.Fragment,{children:["Are you sure you want to cancel your selection of ",e.female_user.full_name,"?",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{className:"text-red-400",children:"⚠️ WARNING: This will completely remove ALL your assigned profiles"})," (including this selected one) and move you to the next round. You will lose access to all current matches."]}):(0,a.jsxs)(a.Fragment,{children:["Are you sure you want to disengage from ",e.female_user.full_name,"?",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{className:"text-red-400",children:"⚠️ WARNING: This will completely remove ALL your assigned profiles"})," and move you to the next round. You will lose access to all current matches."]})}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx(x.z,{onClick:()=>u(!1),variant:"outline",className:"flex-1 border-white/30 text-white hover:bg-white/10",children:"Cancel"}),a.jsx(x.z,{onClick:()=>{m(!0),n(e.id),u(!1)},className:"flex-1 bg-red-500 hover:bg-red-600 text-white",children:"Yes, Remove All Profiles"})]})]})})]}):(0,a.jsxs)(d.Zb,{className:"overflow-hidden bg-gradient-to-br from-slate-800/80 to-slate-900/80 border-slate-700/50 backdrop-blur-sm",children:[a.jsx("div",{className:"relative",children:(0,a.jsxs)("div",{className:"w-full h-56 sm:h-72 relative overflow-hidden",children:[e.female_user.profile_photo&&a.jsx("img",{src:e.female_user.profile_photo,alt:"Profile",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black/60 to-transparent"}),a.jsx("div",{className:"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm rounded-xl px-4 py-2 shadow-lg",children:(0,a.jsxs)("span",{className:"text-gray-800 font-bold text-lg",children:[e.female_user.full_name,", ",e.female_user.age]})})]})}),(0,a.jsxs)(d.aY,{className:"p-4 sm:p-6 bg-gradient-to-b from-slate-800/90 to-slate-900/90",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center",children:[a.jsx(N.Z,{className:"h-4 w-4 mr-2 text-pink-400"}),"About ",e.female_user.full_name.split(" ")[0]]}),a.jsx("p",{className:"text-white/90 text-sm leading-relaxed",children:e.female_user.bio})]}),(0,a.jsxs)("p",{className:"text-white/70 text-sm mb-4 flex items-center",children:[a.jsx(D.Z,{className:"h-4 w-4 mr-2"}),e.female_user.university]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:"Want to know more?"}),(0,a.jsxs)(p.C,{className:"bg-pink-500/20 text-pink-400 border-pink-500/50",children:[a.jsx(T.Z,{className:"h-3 w-3 mr-1"}),"Fresh"]})]}),(0,a.jsxs)("p",{className:"text-white/60 text-sm mb-4 flex items-center",children:[a.jsx(F.Z,{className:"h-4 w-4 mr-2"}),"Assigned ",new Date(e.assigned_at).toLocaleDateString()]}),a.jsx(x.z,{onClick:t,className:"w-full bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white font-semibold py-3 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",disabled:s,children:s?(0,a.jsxs)(r.E.div,{className:"flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Revealing..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(Z.Z,{className:"h-5 w-5 mr-2"}),"Reveal Full Profile"]})})]})]})})},B=({match:e,onDisengage:s})=>a.jsx(r.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.02},transition:{duration:.3},children:(0,a.jsxs)(d.Zb,{className:"overflow-hidden bg-gradient-to-br from-blue-800/90 to-purple-900/90 border-blue-700/50 backdrop-blur-sm shadow-2xl",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(r.E.img,{src:e.male_user.profile_photo,alt:e.male_user.full_name,className:"w-full h-56 sm:h-72 object-cover",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},transition:{duration:.5}}),(0,a.jsxs)(p.C,{className:"absolute top-4 right-4 bg-blue-500/90 text-white shadow-lg",children:[a.jsx(N.Z,{className:"h-4 w-4 mr-1"}),"Revealed You"]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-black/60 to-transparent"}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-4",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white mb-1",children:[e.male_user.full_name,", ",e.male_user.age]}),(0,a.jsxs)("p",{className:"text-white/80 text-sm flex items-center",children:[a.jsx(D.Z,{className:"h-3 w-3 mr-1"}),e.male_user.university]})]})]}),(0,a.jsxs)(d.aY,{className:"p-4 sm:p-6 bg-gradient-to-b from-blue-800/95 to-purple-900/95 backdrop-blur-sm",children:[e.male_user.instagram&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30 rounded-xl p-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[a.jsx(y.Z,{className:"h-5 w-5 text-blue-400"}),(0,a.jsxs)("span",{className:"text-blue-400 font-semibold text-lg",children:["@",e.male_user.instagram]})]}),a.jsx("p",{className:"text-center text-blue-300 text-sm mt-1",children:"Connect on Instagram!"})]}),(0,a.jsxs)("div",{className:"bg-slate-700/50 rounded-lg p-4 mb-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center",children:[a.jsx(N.Z,{className:"h-4 w-4 mr-2 text-blue-400"}),"About ",e.male_user.full_name.split(" ")[0]]}),a.jsx("p",{className:"text-white/90 text-sm leading-relaxed",children:e.male_user.bio})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3 mb-4",children:[e.male_user.energy_style&&(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("span",{className:"text-blue-400 font-medium text-xs uppercase tracking-wide",children:"Energy Style"}),a.jsx("p",{className:"text-white mt-1",children:e.male_user.energy_style})]}),e.male_user.love_language&&(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("span",{className:"text-purple-400 font-medium text-xs uppercase tracking-wide",children:"Love Language"}),a.jsx("p",{className:"text-white mt-1",children:e.male_user.love_language})]})]}),(0,a.jsxs)("div",{className:"text-xs text-white/50 mb-4 flex items-center justify-center",children:[a.jsx(z.Z,{className:"h-3 w-3 mr-1"}),"Revealed ",new Date(e.revealed_at).toLocaleDateString()]}),(0,a.jsxs)(x.z,{onClick:()=>s(e.id),variant:"outline",className:"w-full border-red-500/50 text-red-400 hover:bg-red-500/10 hover:border-red-500",children:[a.jsx(I.Z,{className:"h-4 w-4 mr-2"}),"Disengage"]})]})]})}),W=({match:e,currentUserId:s})=>{let t=e.male_user.id===s?e.female_user:e.male_user;return e.male_user.id,a.jsx(r.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.02},transition:{duration:.3},children:(0,a.jsxs)(d.Zb,{className:"overflow-hidden bg-gradient-to-br from-green-800/90 to-emerald-900/90 border-green-700/50 backdrop-blur-sm shadow-2xl",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(r.E.img,{src:t.profile_photo,alt:t.full_name,className:"w-full h-56 sm:h-72 object-cover",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},transition:{duration:.5}}),(0,a.jsxs)(p.C,{className:"absolute top-4 right-4 bg-green-500/90 text-white shadow-lg",children:[a.jsx(f.Z,{className:"h-4 w-4 mr-1"}),"Permanent Match"]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-black/60 to-transparent"}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-4",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white mb-1",children:[t.full_name,", ",t.age]}),(0,a.jsxs)("p",{className:"text-white/80 text-sm flex items-center",children:[a.jsx(D.Z,{className:"h-3 w-3 mr-1"}),t.university]})]})]}),(0,a.jsxs)(d.aY,{className:"p-4 sm:p-6 bg-gradient-to-b from-green-800/95 to-emerald-900/95 backdrop-blur-sm",children:[t.instagram&&a.jsx("div",{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 rounded-xl p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[a.jsx(y.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsxs)("span",{className:"text-green-400 font-semibold text-lg",children:["@",t.instagram]})]})}),a.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 mb-4",children:a.jsx("p",{className:"text-white/90 text-sm leading-relaxed",children:t.bio})}),(0,a.jsxs)("div",{className:"text-xs text-white/50 text-center",children:[a.jsx(f.Z,{className:"h-3 w-3 mx-auto mb-1"}),"Matched ",new Date(e.matched_at).toLocaleDateString()]})]})]})})},Q=({user:e})=>{let[s,t]=(0,l.useState)(null),[i,n]=(0,l.useState)(!1),[c,m]=(0,l.useState)(null),[h,u]=(0,l.useState)(null);(0,l.useEffect)(()=>{e?.subscription_type&&!e.payment_confirmed&&(e.subscription_type,o.toDataURL("upi://pay?pa=9773978753@fam&pn=Aman%20Singh",{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(u).catch(console.error))},[e]);let g=async(e,s)=>{try{await navigator.clipboard.writeText(e),m(s),setTimeout(()=>m(null),2e3)}catch(a){console.error("Failed to copy:",a);let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),m(s),setTimeout(()=>m(null),2e3)}catch(e){console.error("Fallback copy failed:",e)}document.body.removeChild(t)}},j=async e=>{n(!0),setTimeout(()=>{n(!1),t(e)},2e3)};return(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto space-y-6",children:[(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[a.jsx(k.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Payment Status"})]})}),a.jsx(d.aY,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:"basic"===e.subscription_type?"Basic Plan (₹99)":"premium"===e.subscription_type?"Premium Plan (₹249)":"No Plan Selected"}),a.jsx("p",{className:"text-white/60 text-sm",children:e.payment_confirmed?"Payment confirmed by admin":"Payment pending verification"})]}),a.jsx(p.C,{className:e.payment_confirmed?"bg-green-500/20 text-green-400 border-green-500/50":"bg-yellow-500/20 text-yellow-400 border-yellow-500/50",children:e.payment_confirmed?"Confirmed":"Pending"})]})})]}),!e.payment_confirmed&&e.subscription_type&&(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[a.jsx(O.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Quick Payment"})]})}),(0,a.jsxs)(d.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-lg flex flex-col items-center space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Scan QR Code to Pay"}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm",children:["basic"===e.subscription_type?"₹99":"₹249"," - ","basic"===e.subscription_type?"Basic Plan":"Premium Plan"]})]}),a.jsx("div",{className:"w-40 h-40 sm:w-48 sm:h-48 bg-gray-100 border-2 border-gray-300 rounded-lg flex items-center justify-center",children:h?a.jsx("img",{src:h,alt:"UPI Payment QR Code",className:"w-full h-full rounded-lg object-contain"}):a.jsx(O.Z,{className:"h-16 w-16 sm:h-20 sm:w-20 text-gray-400"})}),a.jsx("p",{className:"text-xs text-gray-500 text-center max-w-xs",children:"Scan with any UPI app (Paytm, PhonePe, Google Pay, etc.)"}),(0,a.jsxs)(x.z,{onClick:()=>{e.subscription_type,window.location.href="upi://pay?pa=9773978753@fam&pn=Aman%20Singh"},className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center space-x-2",children:[a.jsx(R.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Pay Now via UPI"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(R.Z,{className:"h-5 w-5 text-blue-400"}),a.jsx("h4",{className:"text-white font-semibold",children:"UPI Payment Details"})]}),a.jsx("div",{className:"bg-white/10 border border-white/20 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white/70 text-sm",children:"UPI ID"}),a.jsx("p",{className:"text-white font-mono text-lg",children:"9773978753@fam"})]}),a.jsx(x.z,{onClick:()=>g("9773978753@fam","UPI ID"),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:"UPI ID"===c?a.jsx(A.Z,{className:"h-4 w-4"}):a.jsx(U.Z,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"bg-white/10 border border-white/20 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white/70 text-sm",children:"Account Name"}),a.jsx("p",{className:"text-white font-semibold",children:"Aman Singh"})]}),a.jsx(x.z,{onClick:()=>g("Aman Singh","Account Name"),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:"Account Name"===c?a.jsx(A.Z,{className:"h-4 w-4"}):a.jsx(U.Z,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 border border-green-500/30 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white/70 text-sm",children:"Amount to Pay"}),(0,a.jsxs)("p",{className:"text-white font-bold text-xl",children:["₹","basic"===e.subscription_type?"99":"249"]})]}),a.jsx(x.z,{onClick:()=>g("basic"===e.subscription_type?"99":"249","Amount"),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:"Amount"===c?a.jsx(A.Z,{className:"h-4 w-4"}):a.jsx(U.Z,{className:"h-4 w-4"})})]})}),(0,a.jsxs)("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-4",children:[(0,a.jsxs)("h5",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[a.jsx(Y.Z,{className:"h-4 w-4 mr-2"}),"Payment Instructions"]}),(0,a.jsxs)("ul",{className:"text-white/70 text-sm space-y-1",children:[a.jsx("li",{children:"• Use any UPI app to pay to: 9773978753@fam"}),(0,a.jsxs)("li",{children:["• Amount: ₹","basic"===e.subscription_type?"99":"249"]}),a.jsx("li",{children:"• After payment, upload screenshot below"}),a.jsx("li",{children:"• Your account will be activated after verification"})]})]}),(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,a.jsxs)("h5",{className:"text-white font-semibold mb-3 flex items-center",children:[a.jsx(R.Z,{className:"h-4 w-4 mr-2"}),"Quick Payment Options"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"PhonePe",url:"phonepe://pay",color:"bg-purple-600"},{name:"Google Pay",url:"tez://upi/pay",color:"bg-blue-600"},{name:"Paytm",url:"paytmmp://pay",color:"bg-indigo-600"},{name:"Amazon Pay",url:"amazonpay://pay",color:"bg-orange-600"}].map(s=>a.jsx(x.z,{onClick:()=>{e.subscription_type;let s="upi://pay?pa=9773978753@fam&pn=Aman%20Singh";try{window.location.href="upi://pay?pa=9773978753@fam&pn=Aman%20Singh",setTimeout(()=>{window.location.href=s},1e3)}catch(e){window.location.href=s}},variant:"outline",size:"sm",className:`${s.color} border-white/20 text-white hover:opacity-80 text-xs py-2`,children:s.name},s.name))}),a.jsx("p",{className:"text-white/50 text-xs mt-3 text-center",children:"Click to open payment in your preferred UPI app"})]})]})]})]}),(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[a.jsx(q.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Payment Proof"})]})}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center",children:[a.jsx(q.Z,{className:"h-8 w-8 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-white/70 mb-4",children:"Upload your payment screenshot or receipt"}),a.jsx("input",{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files?.[0];s&&j(s)},className:"hidden",id:"payment-proof"}),(0,a.jsxs)("label",{htmlFor:"payment-proof",className:"inline-flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg cursor-pointer transition-colors",children:[a.jsx(E.Z,{className:"h-4 w-4 mr-2"}),s?"Change Photo":"Upload Photo"]})]}),s&&(0,a.jsxs)("div",{className:"p-4 bg-green-500/20 border border-green-500/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(A.Z,{className:"h-5 w-5 text-green-400"}),a.jsx("span",{className:"text-green-400 font-medium",children:"Payment proof uploaded"})]}),(0,a.jsxs)("p",{className:"text-green-300 text-sm mt-1",children:["File: ",s.name]})]})]})]}),(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:a.jsx(d.ll,{children:"Plan Benefits"})}),a.jsx(d.aY,{children:"basic"===e.subscription_type?(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-semibold text-white",children:"Basic Plan - ₹99"}),(0,a.jsxs)("ul",{className:"space-y-2 text-white/70",children:[(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[a.jsx(A.Z,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{children:"1 girl profile per round"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[a.jsx(A.Z,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{children:"2 rounds total"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[a.jsx(A.Z,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{children:"No choice - profile assigned by admin"})]})]})]}):"premium"===e.subscription_type?(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-semibold text-white",children:"Premium Plan - ₹249"}),(0,a.jsxs)("ul",{className:"space-y-2 text-white/70",children:[(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[a.jsx(A.Z,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{children:"3 girl profiles per round"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[a.jsx(A.Z,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{children:"2 rounds total"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[a.jsx(A.Z,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{children:"Choose 1 profile to reveal"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[a.jsx(A.Z,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{children:"Other profiles get reassigned"})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-6",children:[a.jsx(k.Z,{className:"h-12 w-12 text-white/30 mx-auto mb-4"}),a.jsx("p",{className:"text-white/60",children:"No plan selected"}),a.jsx(x.z,{className:"mt-4 bg-gradient-to-r from-blue-500 to-purple-500",onClick:()=>window.location.href="/subscription-selection",children:"Choose Plan"})]})})]})]})};function H(){return a.jsx($,{})}},68156:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>r,default:()=>c});var a=t(17536);let l=(0,a.createProxy)(String.raw`/home/aman/Desktop/cufy_3.1v-1/app/dashboard/page.tsx`),{__esModule:r,$$typeof:i}=l,n=l.default,c=n}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[5020,6911,7345,7135,2730,3174,2234,6429,2358,6830,4516,8598,9378,9413,3783,7259,8941],()=>t(58959));module.exports=a})();