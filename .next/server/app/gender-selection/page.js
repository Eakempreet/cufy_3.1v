(()=>{var e={};e.id=4070,e.ids=[4070],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},615:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>u,routeModule:()=>p,tree:()=>d});var r=s(73137),a=s(54647),n=s(4183),o=s.n(n),i=s(71775),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c=r.AppPageRouteModule,d=["",{children:["gender-selection",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,62417)),"/home/aman/Desktop/cufy_3.1v-1/app/gender-selection/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,68350)),"/home/aman/Desktop/cufy_3.1v-1/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,51918,23)),"next/dist/client/components/not-found-error"]}],u=["/home/aman/Desktop/cufy_3.1v-1/app/gender-selection/page.tsx"],m="/gender-selection/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new c({definition:{kind:a.x.APP_PAGE,page:"/gender-selection/page",pathname:"/gender-selection",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},62531:(e,t,s)=>{Promise.resolve().then(s.bind(s,20207))},20207:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(60080),a=s(9885),n=s(74284),o=s(57114),i=s(65345),l=s(34516),c=s(28598),d=s(87371),u=s(95924),m=s(67259);function x(){let{data:e,status:t}=(0,n.useSession)(),s=(0,o.useRouter)(),[x,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!0),[f,b]=(0,a.useState)("");(0,a.useEffect)(()=>{"unauthenticated"===t&&s.push("/")},[t,s]),(0,a.useEffect)(()=>{let e=async()=>{try{let e=new Date().getTime(),t=await fetch(`/api/registration-status?t=${e}`,{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),s=await t.json();console.log("Gender selection registration status response:",s),g(!0===s.boys_registration_enabled),b(s.boys_registration_message||"Boys registration will open soon! Girls can join now.")}catch(e){console.error("Error checking registration status:",e)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[]);let y=async t=>{if(e?.user?.email&&("male"!==t||h)){p(!0);try{let e=await fetch("/api/auth/user"),r=await e.json();r.exists?r.user.is_admin?s.push("/admin"):s.push("/dashboard"):s.push("male"===t?"/boys-onboarding":"/girls-onboarding")}catch(e){console.error("Error checking user:",e),s.push("male"===t?"/boys-onboarding":"/girls-onboarding")}finally{p(!1)}}};return e?(0,r.jsxs)("div",{className:"min-h-screen bg-dark relative flex items-center justify-center",children:[r.jsx(m.Z,{}),(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"container mx-auto px-6 text-center",children:[r.jsx("h1",{className:"text-4xl md:text-6xl font-bold font-poppins mb-8",children:r.jsx("span",{className:"text-gradient",children:"Welcome to Cufy!"})}),(0,r.jsxs)("p",{className:"text-xl text-white/70 mb-12 max-w-2xl mx-auto",children:["Hi ",e.user?.name,"! To get started, please select your gender:"]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 max-w-2xl mx-auto",children:[r.jsx(i.E.div,{whileHover:{scale:1.05},transition:{duration:.3},children:(0,r.jsxs)(c.Zb,{className:"p-8 cursor-pointer hover:border-pink-500/50 transition-all",onClick:()=>y("female"),children:[r.jsx(d.Z,{className:"h-16 w-16 text-pink-500 mx-auto mb-4 fill-current"}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Female"}),r.jsx(l.z,{className:"w-full bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600",disabled:x,children:"Continue as Female"})]})}),r.jsx(i.E.div,{whileHover:{scale:h?1.05:1},transition:{duration:.3},children:(0,r.jsxs)(c.Zb,{className:`p-8 transition-all ${h?"cursor-pointer hover:border-purple-500/50":"cursor-not-allowed opacity-50 border-gray-600"}`,onClick:()=>h&&y("male"),children:[r.jsx(u.Z,{className:`h-16 w-16 mx-auto mb-4 fill-current ${h?"text-purple-500":"text-gray-500"}`}),r.jsx("h3",{className:`text-2xl font-bold mb-4 ${h?"text-white":"text-gray-400"}`,children:"Male"}),h?r.jsx(l.z,{className:"w-full bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600",disabled:x,children:"Continue as Male"}):(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(l.z,{className:"w-full bg-gray-600 text-gray-300 cursor-not-allowed",disabled:!0,children:"Not Available"}),r.jsx("p",{className:"text-sm text-amber-400 mt-3 font-medium",children:f})]})]})})]})]})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-pink-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}},62417:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>l});var r=s(17536);let a=(0,r.createProxy)(String.raw`/home/aman/Desktop/cufy_3.1v-1/app/gender-selection/page.tsx`),{__esModule:n,$$typeof:o}=a,i=a.default,l=i}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[5020,9532,7345,9709,9522,4516,8598,7259],()=>s(615));module.exports=r})();