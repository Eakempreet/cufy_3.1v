(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{4035:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,n.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},62601:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(58960)},24715:function(e,t,r){Promise.resolve().then(r.bind(r,96063))},78455:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(57437),o=r(2265),i=r(6763),a=r(6673),s=r(4035);function l(e){let{onImageUploaded:t,currentImage:r,className:l="",uploadType:c="profile",userId:u}=e,[d,f]=(0,o.useState)(!1),[p,m]=(0,o.useState)(r||null),h=async e=>{try{let r,n;if(f(!0),!e.target.files||0===e.target.files.length)throw Error("You must select an image to upload.");let o=e.target.files[0];if(!o.type.startsWith("image/"))throw Error("Please select an image file.");if(o.size>5242880)throw Error("Image must be less than 5MB.");let a=o.name.split(".").pop();"payment-proof"===c&&u?(r="payment_proof_".concat(u,"_").concat(Date.now(),".").concat(a),n="payment-proofs"):(r="".concat(Math.random().toString(36).substring(2),".").concat(a),n="profile-photos");let s="payment-proof"===c?r:"profile-photos/".concat(r),{error:l}=await i.O.storage.from(n).upload("payment-proof"===c?r:s,o);if(l)throw l;if("payment-proof"===c)m(URL.createObjectURL(o)),t(r);else{let{data:e}=i.O.storage.from(n).getPublicUrl(s),r=e.publicUrl;m(r),t(r)}}catch(e){console.error("Image upload error:",e),alert(e.message||"Failed to upload image. Please try again.")}finally{f(!1)}};return(0,n.jsx)("div",{className:"space-y-4 ".concat(l),children:(0,n.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[p?(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("img",{src:p,alt:"payment-proof"===c?"Payment proof preview":"Profile photo preview",className:"w-28 h-28 sm:w-32 sm:h-32 rounded-lg object-cover border-4 border-white shadow-lg"})}):(0,n.jsx)("div",{className:"w-28 h-28 sm:w-32 sm:h-32 rounded-lg border-2 border-dashed border-white/30 flex items-center justify-center",children:(0,n.jsx)(s.Z,{className:"h-10 w-10 sm:h-12 sm:w-12 text-white/50"})}),(0,n.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:h,disabled:d,className:"hidden",id:"image-upload"}),(0,n.jsx)("label",{htmlFor:"image-upload",children:(0,n.jsxs)(a.z,{type:"button",disabled:d,onClick:()=>{var e;return null===(e=document.getElementById("image-upload"))||void 0===e?void 0:e.click()},className:"cursor-pointer bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 min-h-[44px] px-4 sm:px-6",children:[(0,n.jsx)(s.Z,{className:"mr-2 h-4 w-4"}),d?"Uploading...":p?"Change Photo":"payment-proof"===c?"Upload Payment Proof":"Upload Photo"]})}),(0,n.jsxs)("p",{className:"text-sm text-white/60 text-center",children:["payment-proof"===c?"Upload payment proof (max 5MB)":"Upload profile photo (max 5MB)",(0,n.jsx)("br",{}),"Supported: JPG, PNG, WebP, GIF"]})]})]})})}},6673:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(57437),o=r(2265),i=r(96061),a=r(39311),s=r(68177);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"gradient-primary text-white hover:scale-105 glow",glass:"glass text-white hover:bg-white/20 border border-white/20",outline:"border border-white/30 text-white hover:bg-white/10",ghost:"text-white hover:bg-white/10",premium:"gradient-premium text-white hover:scale-105 glow shadow-lg"},size:{default:"h-12 px-6 py-3",sm:"h-9 rounded-md px-3",lg:"h-14 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=(0,o.forwardRef)((e,t)=>{let{className:r,variant:o,size:i,...c}=e;return(0,n.jsx)(s.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-block",children:(0,n.jsx)("button",{className:(0,a.cn)(l({variant:o,size:i,className:r})),ref:t,...c})})});c.displayName="Button"},70804:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},Zb:function(){return s},aY:function(){return d},ll:function(){return c}});var n=r(57437),o=r(2265),i=r(39311),a=r(68177);let s=(0,o.forwardRef)((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-block w-full",children:(0,n.jsx)("div",{ref:t,className:(0,i.cn)("glass rounded-xl border border-white/20 shadow-lg backdrop-blur-md p-6",r),...o})})});s.displayName="Card";let l=(0,o.forwardRef)((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...o})});l.displayName="CardHeader";let c=(0,o.forwardRef)((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight text-white font-poppins",r),...o})});c.displayName="CardTitle";let u=(0,o.forwardRef)((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-white/70",r),...o})});u.displayName="CardDescription";let d=(0,o.forwardRef)((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...o})});d.displayName="CardContent";let f=(0,o.forwardRef)((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...o})});f.displayName="CardFooter"},96063:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(57437),o=r(2265),i=r(16691),a=r.n(i),s=r(70804),l=r(78455);function c(){let[e,t]=(0,o.useState)(null);return(0,n.jsx)("div",{className:"min-h-screen bg-dark p-6",children:(0,n.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,n.jsxs)(s.Zb,{children:[(0,n.jsx)(s.Ol,{children:(0,n.jsx)(s.ll,{className:"text-white",children:"Test Image Upload"})}),(0,n.jsxs)(s.aY,{className:"space-y-6",children:[(0,n.jsx)(l.Z,{onImageUploaded:e=>{t(e),console.log("Image uploaded:",e)}}),e&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-white font-semibold",children:"Uploaded Image:"}),(0,n.jsx)("div",{className:"relative w-full max-w-md",children:(0,n.jsx)(a(),{src:e,alt:"Uploaded",width:400,height:300,className:"rounded-lg border border-white/20"})}),(0,n.jsxs)("p",{className:"text-white/70 text-sm break-all",children:["URL: ",e]})]})]})]})})})}},6763:function(e,t,r){"use strict";r.d(t,{O:function(){return l}});var n=r(37440),o=r(62601);let i="https://xdhtrwaghahigmbojotu.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhkaHRyd2FnaGFoaWdtYm9qb3R1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5Njk1OTYsImV4cCI6MjA3MTU0NTU5Nn0.ItDXVqjGSI-DaRCCbTCiWbopMnhXLGQiA3DMgBEzS4s",s=o.env.SUPABASE_SERVICE_ROLE_KEY;if(!i)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL environment variable");if(!a)throw Error("Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable");let l=(0,n.eI)(i,a);s?(0,n.eI)(i,s,{auth:{autoRefreshToken:!1,persistSession:!1}}):(console.warn("SUPABASE_SERVICE_ROLE_KEY not found, some admin operations may not work"),(0,n.eI)(i,a))},39311:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var n=r(57042),o=r(74769);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m6)((0,n.W)(t))}},58960:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l=[],c=!1,u=-1;function d(){c&&n&&(c=!1,n.length?l=n.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(n=l,l=[];++u<t;)n&&n[u].run();u=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var o=n(229);e.exports=o}()},30622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},57437:function(e,t,r){"use strict";e.exports=r(30622)}},function(e){e.O(0,[492,440,691,971,864,744],function(){return e(e.s=24715)}),_N_E=e.O()}]);