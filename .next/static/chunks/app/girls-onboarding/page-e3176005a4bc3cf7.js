(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{7810:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},1193:function(e,t,n){Promise.resolve().then(n.bind(n,910))},910:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(7437),a=n(2265),s=n(2749),i=n(4033),o=n(7759),l=n(8783),c=n(3114),u=n(804),d=n(7810),h=n(3999);function m(){let{data:e}=(0,s.useSession)(),t=(0,i.useRouter)(),[n,m]=(0,a.useState)(1),[p,x]=(0,a.useState)(!1),[g,y]=(0,a.useState)({fullName:"",phoneNumber:"",age:"",university:"",yearOfStudy:"",profilePhoto:null,bio:"",instagram:"",energyStyle:"",groupSetting:"",idealWeekend:[],communicationStyle:"",bestTrait:"",relationshipValues:[],loveLanguage:"",connectionStatement:"",lookingFor:"",story:""}),N=(e,t)=>{y(n=>({...n,[e]:t}))},b=async()=>{var n;if(!(null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.email)){t.push("/");return}x(!0);try{let n={email:e.user.email,full_name:g.fullName,phone_number:g.phoneNumber,age:parseInt(g.age),university:g.university,year_of_study:g.yearOfStudy,profile_photo:g.profilePhoto,bio:g.bio,energy_style:g.energyStyle,group_setting:g.groupSetting,ideal_weekend:g.idealWeekend,communication_style:g.communicationStyle,best_trait:g.bestTrait,relationship_values:g.relationshipValues,love_language:g.loveLanguage,connection_statement:g.connectionStatement,gender:"female",...g.instagram&&{instagram:g.instagram}},r=await fetch("/api/user/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});r.ok?t.push("/dashboard"):console.error("Failed to create user profile")}catch(e){console.error("Error submitting form:",e)}finally{x(!1)}},f=()=>{switch(n){case 1:return""!==g.fullName.trim();case 2:return""!==g.phoneNumber.trim()&&10===g.phoneNumber.length;case 3:return""!==g.age;case 4:return""!==g.university.trim();case 5:return""!==g.yearOfStudy;case 6:return null!==g.profilePhoto;case 7:return""!==g.bio.trim();case 8:return""!==g.instagram.trim();case 9:return""!==g.energyStyle;case 10:return""!==g.groupSetting;case 11:return 2===g.idealWeekend.length;case 12:return""!==g.communicationStyle;case 13:return""!==g.bestTrait;case 14:return 3===g.relationshipValues.length;case 15:return""!==g.loveLanguage;case 16:return""!==g.connectionStatement.trim();default:return!0}};return(0,r.jsxs)("div",{className:"bg-dark min-h-screen relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-dark-gradient-animated opacity-80"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-cyber-pattern opacity-10"}),(0,r.jsx)("div",{className:"floating-orb orb-1"}),(0,r.jsx)("div",{className:"floating-orb orb-2"}),(0,r.jsx)("div",{className:"floating-orb orb-3"}),(0,r.jsx)("div",{className:"relative z-10",children:(()=>{switch(n){case 1:return(0,r.jsx)(o.Z,{step:n,totalSteps:16,title:"What's your name?",onNext:()=>m(2),onBack:()=>m(1),canGoNext:f(),isFirst:!0,theme:"pink",children:(0,r.jsx)(l.I,{placeholder:"Enter your full name",value:g.fullName,onChange:e=>N("fullName",e.target.value),onKeyDown:e=>{"Enter"===e.key&&""!==g.fullName.trim()&&(e.preventDefault(),m(2))},className:"text-center text-xl"})});case 2:return(0,r.jsxs)(o.Z,{step:n,totalSteps:16,title:"Your phone number?",onNext:()=>m(3),onBack:()=>m(1),canGoNext:f(),theme:"pink",children:[(0,r.jsx)(l.I,{type:"tel",placeholder:"9876543210 (10 digits)",value:g.phoneNumber,onChange:e=>{let t=e.target.value.replace(/\D/g,"").slice(0,10);N("phoneNumber",t)},onKeyDown:e=>{"Enter"===e.key&&10===g.phoneNumber.length&&(e.preventDefault(),m(3))},className:"text-center text-xl"}),(0,r.jsxs)("p",{className:"text-sm text-white/60 mt-2",children:[g.phoneNumber.length,"/10 digits"]})]});case 3:return(0,r.jsx)(o.Z,{step:n,totalSteps:16,title:"How old are you?",onNext:()=>m(4),onBack:()=>m(2),canGoNext:f(),theme:"pink",children:(0,r.jsxs)("select",{className:"w-full h-12 rounded-lg glass backdrop-blur-md px-4 py-2 text-white bg-transparent border border-white/20",value:g.age,onChange:e=>N("age",e.target.value),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select your age"}),Array.from({length:8},(e,t)=>t+18).map(e=>(0,r.jsx)("option",{value:e.toString(),className:"bg-gray-800",children:e},e))]})});case 4:return(0,r.jsx)(o.Z,{step:n,totalSteps:16,title:"Which university?",onNext:()=>m(5),onBack:()=>m(3),canGoNext:f(),theme:"pink",children:(0,r.jsx)(l.I,{placeholder:"e.g., Delhi University",value:g.university,onChange:e=>N("university",e.target.value),onKeyDown:e=>{"Enter"===e.key&&""!==g.university.trim()&&(e.preventDefault(),m(5))},className:"text-center text-xl"})});case 5:return(0,r.jsx)(o.Z,{step:n,totalSteps:16,title:"Year of study?",onNext:()=>m(6),onBack:()=>m(4),canGoNext:f(),theme:"pink",children:(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["1st Year","2nd Year","3rd Year","4th Year","Graduate"].map(e=>(0,r.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.yearOfStudy===e?"bg-gradient-to-r from-pink-500/20 to-rose-500/20 border-pink-500":"hover:border-white/30"),onClick:()=>N("yearOfStudy",e),children:(0,r.jsx)("p",{className:"text-center font-medium",children:e})},e))})});case 6:return(0,r.jsx)(o.Z,{step:n,totalSteps:16,title:"Add your best photo",onNext:()=>m(7),onBack:()=>m(5),canGoNext:f(),theme:"pink",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(h.Z,{onImageUploaded:e=>N("profilePhoto",e),currentImage:g.profilePhoto||void 0,className:"mx-auto"}),(0,r.jsx)("p",{className:"text-sm text-white/60 mt-4",children:"Show your personality! This helps others get to know you."})]})});case 7:return(0,r.jsxs)(o.Z,{step:n,totalSteps:16,title:"Write a fun bio",onNext:()=>m(8),onBack:()=>m(6),canGoNext:f(),theme:"pink",children:[(0,r.jsx)(c.g,{placeholder:"Tell us something interesting about yourself in one line...",value:g.bio,onChange:e=>N("bio",e.target.value),className:"glass backdrop-blur-md border border-white/20 min-h-[100px]",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||""===g.bio.trim()||(e.preventDefault(),m(8))}}),(0,r.jsxs)("p",{className:"text-sm text-white/60 mt-2",children:[g.bio.length,"/200 characters"]})]});case 8:return(0,r.jsx)(o.Z,{step:n,totalSteps:16,title:"Your Instagram username",onNext:()=>m(9),onBack:()=>m(7),canGoNext:f(),theme:"pink",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(l.I,{placeholder:"@yourhandle (without @)",value:g.instagram,onChange:e=>{let t=e.target.value.replace("@","");N("instagram",t)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),m(9))},className:"text-center text-xl"}),(0,r.jsx)("p",{className:"text-sm text-white/60 text-center",children:"This helps matches connect with you easily!"})]})});case 9:return(0,r.jsx)(o.Z,{step:n,totalSteps:16,title:"Your energy style?",onNext:()=>m(10),onBack:()=>m(8),canGoNext:f(),theme:"pink",children:(0,r.jsx)("div",{className:"space-y-4",children:[{value:"high-energy",label:"High Energy",desc:"Always ready for adventure!"},{value:"thoughtful",label:"Thoughtful",desc:"I prefer meaningful conversations"},{value:"balanced",label:"Balanced",desc:"Mix of both depending on mood"}].map(e=>(0,r.jsxs)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.energyStyle===e.value?"bg-gradient-to-r from-pink-500/20 to-rose-500/20 border-pink-500":"hover:border-white/30"),onClick:()=>N("energyStyle",e.value),children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-white/70",children:e.desc})]},e.value))})});case 10:return(0,r.jsx)(o.Z,{step:n,totalSteps:16,title:"In group settings, you typically:",onNext:()=>m(11),onBack:()=>m(9),canGoNext:f(),theme:"pink",children:(0,r.jsx)("div",{className:"space-y-4",children:["Lead conversations","Listen and contribute thoughtfully","Prefer one-on-one connections"].map(e=>(0,r.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.groupSetting===e?"bg-gradient-to-r from-pink-500/20 to-rose-500/20 border-pink-500":"hover:border-white/30"),onClick:()=>N("groupSetting",e),children:(0,r.jsx)("p",{className:"text-center font-medium",children:e})},e))})});case 11:return(0,r.jsxs)(o.Z,{step:n,totalSteps:16,title:"Your ideal weekend includes: (select top 2)",onNext:()=>m(12),onBack:()=>m(10),canGoNext:f(),theme:"pink",children:[(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["Adventure","Learning","Relaxing","Socializing","Creating","Exercising"].map(e=>(0,r.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.idealWeekend.includes(e)?"bg-gradient-to-r from-pink-500/20 to-rose-500/20 border-pink-500":"hover:border-white/30"),onClick:()=>{let t=g.idealWeekend;t.includes(e)?N("idealWeekend",t.filter(t=>t!==e)):t.length<2&&N("idealWeekend",[...t,e])},children:(0,r.jsx)("p",{className:"text-center font-medium",children:e})},e))}),(0,r.jsxs)("p",{className:"text-sm text-white/60 mt-4 text-center",children:["Selected: ",g.idealWeekend.length,"/2"]})]});case 12:return(0,r.jsx)(o.Z,{step:n,totalSteps:16,title:"You communicate through: (primary style)",onNext:()=>m(13),onBack:()=>m(11),canGoNext:f(),theme:"pink",children:(0,r.jsx)("div",{className:"space-y-4",children:["Words and deep talks","Actions and gestures","Shared experiences","Humor and playfulness"].map(e=>(0,r.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.communicationStyle===e?"bg-gradient-to-r from-pink-500/20 to-rose-500/20 border-pink-500":"hover:border-white/30"),onClick:()=>N("communicationStyle",e),children:(0,r.jsx)("p",{className:"text-center font-medium",children:e})},e))})});case 13:return(0,r.jsx)(o.Z,{step:n,totalSteps:16,title:"Your friends would say your best trait is:",onNext:()=>m(14),onBack:()=>m(12),canGoNext:f(),theme:"pink",children:(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["Loyalty","Humor","Intelligence","Kindness","Ambition","Creativity","Reliability"].map(e=>(0,r.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.bestTrait===e?"bg-gradient-to-r from-pink-500/20 to-rose-500/20 border-pink-500":"hover:border-white/30"),onClick:()=>N("bestTrait",e),children:(0,r.jsx)("p",{className:"text-center font-medium",children:e})},e))})});case 14:return(0,r.jsxs)(o.Z,{step:n,totalSteps:16,title:"In relationships, you value most: (rank top 3)",onNext:()=>m(15),onBack:()=>m(13),canGoNext:f(),theme:"pink",children:[(0,r.jsx)("div",{className:"space-y-4",children:["Growth together","Fun & laughter","Deep connection","Shared goals","Independence with closeness"].map(e=>(0,r.jsxs)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.relationshipValues.includes(e)?"bg-gradient-to-r from-pink-500/20 to-rose-500/20 border-pink-500":"hover:border-white/30"),onClick:()=>{let t=g.relationshipValues;t.includes(e)?N("relationshipValues",t.filter(t=>t!==e)):t.length<3&&N("relationshipValues",[...t,e])},children:[(0,r.jsx)("p",{className:"text-center font-medium",children:e}),g.relationshipValues.includes(e)&&(0,r.jsxs)("p",{className:"text-center text-sm text-pink-400 mt-1",children:["#",g.relationshipValues.indexOf(e)+1]})]},e))}),(0,r.jsxs)("p",{className:"text-sm text-white/60 mt-4 text-center",children:["Selected: ",g.relationshipValues.length,"/3"]})]});case 15:return(0,r.jsx)(o.Z,{step:n,totalSteps:16,title:"Your love language is: (select primary)",onNext:()=>m(16),onBack:()=>m(14),canGoNext:f(),theme:"pink",children:(0,r.jsx)("div",{className:"space-y-4",children:["Quality time","Words of affirmation","Physical touch","Acts of service","Gifts"].map(e=>(0,r.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.loveLanguage===e?"bg-gradient-to-r from-pink-500/20 to-rose-500/20 border-pink-500":"hover:border-white/30"),onClick:()=>N("loveLanguage",e),children:(0,r.jsx)("p",{className:"text-center font-medium",children:e})},e))})});case 16:return(0,r.jsxs)(o.Z,{step:n,totalSteps:16,title:'Complete this: "I feel most connected to someone when..."',onNext:b,onBack:()=>m(15),canGoNext:f(),isLast:!0,theme:"pink",children:[(0,r.jsx)(c.g,{placeholder:"I feel most connected to someone when...",value:g.connectionStatement,onChange:e=>N("connectionStatement",e.target.value),className:"glass backdrop-blur-md border border-white/20 min-h-[120px]"}),(0,r.jsxs)("p",{className:"text-sm text-white/60 mt-2",children:[g.connectionStatement.length,"/300 characters"]}),(0,r.jsxs)("div",{className:"text-center mt-8",children:[(0,r.jsx)(d.Z,{className:"h-16 w-16 text-pink-500 mx-auto mb-4 fill-current"}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Welcome to Cufy!"}),(0,r.jsx)("p",{className:"text-white/70",children:"Your profile is complete. Get ready to meet amazing people!"}),p&&(0,r.jsx)("p",{className:"text-pink-400 mt-4",children:"Saving your profile..."})]})]})}})()})]})}function p(){let{data:e}=(0,s.useSession)(),t=(0,i.useRouter)(),[n,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{if(!e){t.push("/");return}let n=async()=>{try{let e=await fetch("/api/user/check"),n=await e.json();if(n.exists&&n.user.name){t.push("/dashboard");return}c(!0)}catch(e){console.error("Error checking profile:",e),c(!0)}finally{o(!1)}};n()},[e,t]),n)?(0,r.jsx)("div",{className:"bg-dark min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-white",children:"Loading..."})}):l?(0,r.jsx)(m,{}):(0,r.jsx)("div",{className:"bg-dark min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-white",children:"Redirecting..."})})}}},function(e){e.O(0,[749,492,625,435,971,864,744],function(){return e(e.s=1193)}),_N_E=e.O()}]);