(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{85254:function(e,s,t){Promise.resolve().then(t.bind(t,79873))},79873:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return e4}});var a=t(57437),r=t(2265),l=t(68177),i=t(91393),n=t(82749),c=t(24033),d=t(6763),o=t(16691),m=t.n(o),x=t(99716),h=t(70804),u=t(6673),p=t(58783),g=t(28213),f=t(37309),b=t(28712),j=t(82549),y=t(39311);let N=b.fC;b.xz;let w=b.h_;b.x8;let v=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(b.aV,{ref:s,className:(0,y.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});v.displayName=b.aV.displayName;let _=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(w,{children:[(0,a.jsx)(v,{}),(0,a.jsxs)(b.VY,{ref:s,className:(0,y.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[r,(0,a.jsxs)(b.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});_.displayName=b.VY.displayName;let k=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,y.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};k.displayName="DialogHeader";let C=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(b.Dx,{ref:s,className:(0,y.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});C.displayName=b.Dx.displayName;let S=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(b.dk,{ref:s,className:(0,y.cn)("text-sm text-muted-foreground",t),...r})});S.displayName=b.dk.displayName;var P=t(52506),Z=t(93023);let E=P.fC,z=P.xz,U=P.h_,A=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(P.aV,{className:(0,y.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});A.displayName=P.aV.displayName;let R=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsxs)(U,{children:[(0,a.jsx)(A,{}),(0,a.jsx)(P.VY,{ref:s,className:(0,y.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});R.displayName=P.VY.displayName;let D=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,y.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};D.displayName="AlertDialogHeader";let O=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,y.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};O.displayName="AlertDialogFooter";let T=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(P.Dx,{ref:s,className:(0,y.cn)("text-lg font-semibold",t),...r})});T.displayName=P.Dx.displayName;let I=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(P.dk,{ref:s,className:(0,y.cn)("text-sm text-muted-foreground",t),...r})});I.displayName=P.dk.displayName;let V=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(P.aU,{ref:s,className:(0,y.cn)((0,Z.d)(),t),...r})});V.displayName=P.aU.displayName;let L=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(P.$j,{ref:s,className:(0,y.cn)((0,Z.d)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});L.displayName=P.$j.displayName;var Y=t(2275),F=t(83523),M=t(9224),B=t(62442);let J=Y.fC;Y.ZA;let q=Y.B4,G=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(Y.xz,{ref:s,className:(0,y.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,a.jsx)(Y.JO,{asChild:!0,children:(0,a.jsx)(F.Z,{className:"h-4 w-4 opacity-50"})})]})});G.displayName=Y.xz.displayName;let Q=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Y.u_,{ref:s,className:(0,y.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})})});Q.displayName=Y.u_.displayName;let $=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Y.$G,{ref:s,className:(0,y.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(F.Z,{className:"h-4 w-4"})})});$.displayName=Y.$G.displayName;let W=r.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...i}=e;return(0,a.jsx)(Y.h_,{children:(0,a.jsxs)(Y.VY,{ref:s,className:(0,y.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...i,children:[(0,a.jsx)(Q,{}),(0,a.jsx)(Y.l_,{className:(0,y.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)($,{})]})})});W.displayName=Y.VY.displayName;let X=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Y.__,{ref:s,className:(0,y.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})});X.displayName=Y.__.displayName;let H=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(Y.ck,{ref:s,className:(0,y.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(Y.wU,{children:(0,a.jsx)(B.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(Y.eT,{children:r})]})});H.displayName=Y.ck.displayName;let K=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Y.Z0,{ref:s,className:(0,y.cn)("-mx-1 my-1 h-px bg-muted",t),...r})});K.displayName=Y.Z0.displayName;var ee=t(83114),es=t(49036),et=t(90998),ea=t(97332),er=t(64280),el=t(51841),ei=t(95099),en=t(73067),ec=t(25750),ed=t(71738),eo=t(29409),em=t(76637),ex=t(99670),eh=t(53711),eu=t(68291),ep=t(41827),eg=t(42482),ef=t(4689),eb=t(71813),ej=t(9534),ey=t(49168),eN=t(74530),ew=t(6141),ev=t(45367),e_=t(41298),ek=t(236),eC=t(86161),eS=t(4631),eP=t(67972),eZ=t(1295),eE=t(33344),ez=t(9865),eU=t(12741),eA=t(36539),eR=t(28203),eD=t(71357),eO=t(53589),eT=t(92295),eI=t(5026),eV=t(9883),eL=t(61195),eY=t(73056),eF=t(35817);let eM=e=>{if(!e)return null;if(e.startsWith("http")||e.startsWith("https"))return e;let{data:s}=d.O.storage.from("payment-proofs").getPublicUrl(e);return s.publicUrl};function eB(){let{data:e}=(0,n.useSession)(),s=(0,c.useRouter)(),[t,i]=(0,r.useState)([]),[d,o]=(0,r.useState)(!0),[h,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),[y,w]=(0,r.useState)({gender:"all",status:"all",verification:"all",subscription:"all",payment:"all",university:"",age_range:{min:18,max:30},date_range:{start:"",end:""},sort_by:"created_at",sort_order:"desc"}),[v,S]=(0,r.useState)("users"),[P,Z]=(0,r.useState)(null),[E,z]=(0,r.useState)(!1),[U,A]=(0,r.useState)(!1),[R,D]=(0,r.useState)(!1),[O,T]=(0,r.useState)(null),[I,V]=(0,r.useState)(null),[L,Y]=(0,r.useState)(new Set),[F,M]=(0,r.useState)("table"),[B,J]=(0,r.useState)(!1),[q,G]=(0,r.useState)(!1),[Q,$]=(0,r.useState)(null),[W,X]=(0,r.useState)(1),[H,K]=(0,r.useState)(25),[ee,eu]=(0,r.useState)(0),[ep,eg]=(0,r.useState)([]),[ef,eb]=(0,r.useState)(""),[ej,ey]=(0,r.useState)("system"),[eN,ew]=(0,r.useState)(!1),[ev,e_]=(0,r.useState)(null),[ek,eC]=(0,r.useState)(""),[eS,eP]=(0,r.useState)(!0),[eZ,eE]=(0,r.useState)(!1),[ez,eU]=(0,r.useState)(!1),[eA,eR]=(0,r.useState)(null),[eD,eO]=(0,r.useState)(0),[eT,eI]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=setTimeout(()=>{d&&(console.warn("Loading timeout reached, forcing loading to false"),o(!1))},1e4);return()=>clearTimeout(e)},[d]);let eV=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{let s=Date.now();if(!e&&eD&&s-eD<12e4&&t.length>0){console.log("Using cached data, skipping fetch");return}let a=new URLSearchParams;a.append("page",W.toString()),a.append("limit",H.toString()),a.append("search",b),Object.entries(y).forEach(e=>{let[s,t]=e;"string"==typeof t&&t?a.append(s,t):"object"==typeof t&&null!==t&&a.append(s,JSON.stringify(t))});let r=await fetch("/api/admin/users?".concat(a));if(r.ok){let e=await r.json();i(e.users||[]),eu(e.total||0),eR(new Date),eO(s),console.log("Data fetched successfully at",new Date().toLocaleTimeString())}else throw console.error("Failed to fetch users:",r.status,r.statusText),Error("API responded with ".concat(r.status))}catch(e){console.error("Error fetching users:",e),i([]),eu(0)}},[W,H,b,y,eD,t.length]),eL=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return eV(e)},[eV]);(0,r.useCallback)(async()=>{try{let e=await fetch("/api/admin/system-settings");if(e.ok){let s=await e.json();s.success&&(eP(s.settings.boys_registration_enabled),eE(s.settings.maintenance_mode))}else console.error("Failed to fetch system settings:",e.status)}catch(e){console.error("Error fetching system settings:",e),eP(!0),eE(!1)}},[]);let eY=(0,r.useCallback)(async()=>{p(!0);try{await eL(!0)}finally{p(!1)}},[eL]),eF=(0,r.useCallback)(async()=>{console.log("Initializing admin panel..."),o(!0);try{console.log("Starting parallel fetch operations...");try{let e=await fetch("/api/admin/system-settings");if(e.ok){let s=await e.json();s.success&&(eP(s.settings.boys_registration_enabled),eE(s.settings.maintenance_mode))}}catch(e){console.error("Error fetching system settings:",e)}try{let e=await fetch("/api/admin/users?page=1&limit=10");if(e.ok){let s=await e.json();i(s.users||[]),eu(s.total||0),eR(new Date),eO(Date.now())}}catch(e){console.error("Error fetching users:",e),i([]),eu(0)}console.log("Admin panel initialization completed successfully")}catch(e){console.error("Failed to initialize admin panel:",e)}finally{o(!1),console.log("Loading state cleared")}},[]);(0,r.useEffect)(()=>{var t,a;if(console.log("Session check running:",{session:null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.email}),!(null==e?void 0:null===(a=e.user)||void 0===a?void 0:a.email)){console.log("No session found, redirecting to login"),s.push("/");return}if("cufy.online@gmail.com"!==e.user.email){console.log("Not admin user, redirecting to dashboard"),s.push("/dashboard");return}console.log("Admin user confirmed, initializing panel"),eF()},[e,s,eF]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{j(g),X(1)},1200);return()=>clearTimeout(e)},[g]);let eM=async e=>{try{let s=await fetch("/api/admin/notes?user_id=".concat(e));if(s.ok){let e=await s.json();eg(e)}}catch(e){console.error("Error fetching admin notes:",e)}},eB=async(e,s,t)=>{try{let a=await fetch("/api/admin/user-actions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,action:s,data:t})});if(a.ok)return await eL(),!0;return!1}catch(e){return console.error("Error performing user action:",e),!1}},eq=async(e,s)=>{try{V(e),console.log("Confirming payment for user:",e,"amount:",s);let t=await fetch("/api/admin/payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,action:"confirm"})}),a=await t.json();if(console.log("Payment confirmation result:",a),t.ok&&a.success)return alert("Payment confirmed successfully!"),await eL(),!0;return alert(a.error||"Failed to confirm payment. Please try again."),!1}catch(e){return console.error("Error confirming payment:",e),alert("Error confirming payment. Please try again."),!1}finally{V(null)}},eG=async(e,s,t)=>await eB(e,"suspend",{reason:s,duration:t}),e4=async(e,s)=>await eB(e,"ban",{reason:s}),e5=async e=>{try{let s=await fetch("/api/admin/users/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})}),t=await s.json();if(t.success)return await eL(),alert("User deleted successfully!"),!0;return alert(t.error||"Failed to delete user"),!1}catch(e){return console.error("Error deleting user:",e),alert("An error occurred while deleting the user"),!1}},e2=async(s,t)=>{try{var a;let r=null==e?void 0:null===(a=e.user)||void 0===a?void 0:a.email;if(!r)return alert("Admin authentication required"),!1;let l=await fetch("/api/admin/users/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s,adminEmail:r,updates:t})}),i=await l.json();if(i.user)return await eL(),alert("User updated successfully!"),!0;return alert(i.error||"Failed to update user"),!1}catch(e){return console.error("Error updating user:",e),alert("An error occurred while updating the user"),!1}},e1=async e=>await eB(e,"verify"),e3=async e=>await eB(e,"reset_password"),e6=async(e,s,t)=>{try{let a=await fetch("/api/admin/bulk-actions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,userIds:Array.from(s),data:t})});if(a.ok)return await eL(),Y(new Set),!0;return!1}catch(e){return console.error("Error performing bulk action:",e),!1}},e8=async(e,s,t)=>{ew(!0);try{let a=await fetch("/api/admin/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,note:s,type:t})});a.ok&&(await eM(e),eb(""),ey("system"))}catch(e){console.error("Error adding admin note:",e)}finally{ew(!1)}},e9=async(e,s)=>{try{let t=await fetch("/api/admin/notes/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:s})});t.ok&&P&&(await eM(P.id),e_(null),eC(""))}catch(e){console.error("Error updating admin note:",e)}},e7=async e=>{try{let s=await fetch("/api/admin/notes/".concat(e),{method:"DELETE"});s.ok&&P&&await eM(P.id)}catch(e){console.error("Error deleting admin note:",e)}},se=(0,r.useMemo)(()=>t.filter(e=>{if(g){var s,t;let a=g.toLowerCase(),r=e.full_name.toLowerCase().includes(a)||e.email.toLowerCase().includes(a)||e.university.toLowerCase().includes(a)||(null===(s=e.phone_number)||void 0===s?void 0:s.toLowerCase().includes(a))||(null===(t=e.instagram)||void 0===t?void 0:t.toLowerCase().includes(a));if(!r)return!1}return("all"===y.gender||e.gender===y.gender)&&("all"===y.status||e.status===y.status)&&("all"===y.verification||e.verification_status===y.verification)&&("all"===y.subscription||("none"!==y.subscription||!e.subscription_type)&&("none"===y.subscription||e.subscription_type===y.subscription))&&("all"===y.payment||("confirmed"!==y.payment||!!e.payment_confirmed)&&("review"!==y.payment||!!e.payment_proof_url&&!e.payment_confirmed)&&("none"!==y.payment||!e.payment_confirmed&&!e.payment_proof_url))&&(!y.university||!!e.university.toLowerCase().includes(y.university.toLowerCase()))&&!(e.age<y.age_range.min)&&!(e.age>y.age_range.max)}),[t,g,y]),ss=(0,r.useMemo)(()=>{let e=(W-1)*H;return se.slice(e,e+H)},[se,W,H]),st=Math.ceil(se.length/H);(0,r.useEffect)(()=>{let e=()=>{eI(!document.hidden)};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),(0,r.useEffect)(()=>{if(!ez||!eT)return;let e=setInterval(()=>{d||h||!eT||(p(!0),eL(!0).finally(()=>p(!1)))},12e4);return()=>clearInterval(e)},[ez,d,h,eL,eT]),(0,r.useEffect)(()=>{let e=e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"f":var s;e.preventDefault(),null===(s=document.getElementById("search-input"))||void 0===s||s.focus();break;case"r":e.preventDefault(),eY();break;case"a":e.preventDefault(),e.shiftKey&&Y(new Set(se.map(e=>e.id)))}"Escape"===e.key&&(Y(new Set),z(!1),A(!1))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[se,eY]);let sa=async e=>{Z(e),await eM(e.id),z(!0)};return d?(0,a.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-gray-600 border-t-white rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white text-lg font-medium",children:"Loading Admin Panel..."}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Initializing dashboard components"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-black ".concat(q?"fixed inset-0 z-50":""),children:[(0,a.jsx)(l.E.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-black/95 backdrop-blur-xl border-b border-gray-800 sticky top-0 z-40 shadow-2xl",children:(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg border border-gray-700",children:(0,a.jsx)(es.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Admin Panel"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Professional user management system"})]})]}),eA&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,a.jsx)(et.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Last updated: ",eA.toLocaleTimeString()]}),h&&(0,a.jsx)("div",{className:"w-3 h-3 border border-purple-400 border-t-transparent rounded-full animate-spin"})]}),eD&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-green-400",children:[(0,a.jsx)(ea.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Cache: ",Math.round((Date.now()-eD)/1e3),"s ago"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(u.z,{onClick:()=>eU(!ez),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10 ".concat(ez?"bg-green-500/20 border-green-500":"bg-gray-500/20 border-gray-500"),children:[(0,a.jsx)(et.Z,{className:"h-4 w-4 mr-2"}),"Real-time ",ez?"ON":"OFF (Performance Mode)"]}),(0,a.jsxs)(u.z,{onClick:eY,disabled:h,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[(0,a.jsx)(er.Z,{className:"h-4 w-4 mr-2 ".concat(h?"animate-spin":"")}),"Refresh"]}),(0,a.jsx)(u.z,{onClick:()=>G(!q),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:q?(0,a.jsx)(el.Z,{className:"h-4 w-4"}):(0,a.jsx)(ei.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(u.z,{onClick:()=>(0,n.signOut)({callbackUrl:"/"}),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4 mr-2"}),"Exit Admin"]})]})]})})}),(0,a.jsx)("div",{className:"px-6 py-6",children:(0,a.jsxs)(x.mQ,{value:"dashboard"===v?"users":v,onValueChange:S,className:"w-full",children:[(0,a.jsxs)(x.dr,{className:"grid w-full grid-cols-4 bg-black/90 backdrop-blur-xl border border-gray-800 mb-6",children:[(0,a.jsxs)(x.SP,{value:"users",className:"data-[state=active]:bg-gray-800 text-white",children:[(0,a.jsx)(ec.Z,{className:"h-4 w-4 mr-2"}),"Users (",ee,")"]}),(0,a.jsxs)(x.SP,{value:"payments",className:"data-[state=active]:bg-gray-800 text-white",children:[(0,a.jsx)(ed.Z,{className:"h-4 w-4 mr-2"}),"Payments"]}),(0,a.jsxs)(x.SP,{value:"system",className:"data-[state=active]:bg-gray-800 text-white",children:[(0,a.jsx)(eo.Z,{className:"h-4 w-4 mr-2"}),"System"]}),(0,a.jsxs)(x.SP,{value:"logs",className:"data-[state=active]:bg-gray-800 text-white",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4 mr-2"}),"Logs"]})]}),(0,a.jsx)(x.nU,{value:"users",children:(0,a.jsx)(eJ,{users:ss,filteredUsers:se,totalUsers:ee,searchTerm:g,setSearchTerm:f,filters:y,setFilters:w,selectedUsers:L,setSelectedUsers:Y,viewMode:F,setViewMode:M,showAdvancedFilters:B,setShowAdvancedFilters:J,currentPage:W,setCurrentPage:X,usersPerPage:H,setUsersPerPage:K,totalPages:st,onUserSelect:(e,s)=>{let t=new Set(L);s?t.add(e):t.delete(e),Y(t)},onSelectAll:e=>{e?Y(new Set(ss.map(e=>e.id))):Y(new Set)},onUserDetail:sa,onPaymentDetail:e=>{Z(e),A(!0)},onBulkAction:e6,onDeleteUser:e5})}),(0,a.jsx)(x.nU,{value:"payments",children:(0,a.jsx)(eQ,{users:t,onConfirmPayment:eq,paymentLoading:I,setSelectedPaymentProof:T})}),(0,a.jsx)(x.nU,{value:"system",children:(0,a.jsx)(e$,{boysRegistrationEnabled:eS,setBoysRegistrationEnabled:eP,systemMaintenanceMode:eZ,setSystemMaintenanceMode:eE})}),(0,a.jsx)(x.nU,{value:"logs",children:(0,a.jsx)(eW,{})})]})}),(0,a.jsx)(eX,{user:P,open:E,onOpenChange:z,adminNotes:ep,newNote:ef,setNewNote:eb,newNoteType:ej,setNewNoteType:ey,isAddingNote:eN,editingNoteId:ev,editingNoteText:ek,setEditingNoteId:e_,setEditingNoteText:eC,onAddNote:e8,onUpdateNote:e9,onDeleteNote:e7,onConfirmPayment:eq,onSuspendUser:eG,onBanUser:e4,onDeleteUser:e5,onEditUser:e2,onVerifyUser:e1,onResetPassword:e3,setSelectedFullPhoto:$}),(0,a.jsx)(eK,{user:P,open:U,onOpenChange:A,onConfirmPayment:eq}),(0,a.jsx)(e0,{open:R,onOpenChange:D,selectedUsers:L,onBulkAction:e6}),(0,a.jsx)(N,{open:!!O,onOpenChange:()=>T(null),children:(0,a.jsxs)(_,{className:"max-w-4xl max-h-[90vh] bg-gray-900/95 backdrop-blur-xl border border-gray-700",children:[(0,a.jsx)(k,{children:(0,a.jsxs)(C,{className:"text-xl font-bold text-white flex items-center space-x-2",children:[(0,a.jsx)(ex.Z,{className:"h-5 w-5 text-blue-400"}),(0,a.jsxs)("span",{children:["Payment Proof - ",null==O?void 0:O.user]})]})}),(0,a.jsx)("div",{className:"flex items-center justify-center p-4 bg-black/50 rounded-lg",children:(null==O?void 0:O.url)&&(0,a.jsx)(m(),{src:O.url,alt:"Payment Proof",width:800,height:600,className:"max-w-full max-h-[70vh] object-contain rounded-lg",style:{width:"auto",height:"auto"}})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsxs)(u.z,{onClick:()=>window.open(null==O?void 0:O.url,"_blank"),variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",children:[(0,a.jsx)(eh.Z,{className:"h-4 w-4 mr-2"}),"Open in New Tab"]}),(0,a.jsx)(u.z,{onClick:()=>T(null),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Close"})]})]})}),(0,a.jsx)(eH,{photo:Q,open:!!Q,onOpenChange:()=>$(null)})]})}function eJ(e){let{users:s,filteredUsers:t,totalUsers:r,searchTerm:n,setSearchTerm:c,filters:d,setFilters:o,selectedUsers:m,setSelectedUsers:x,viewMode:g,setViewMode:f,showAdvancedFilters:b,setShowAdvancedFilters:j,currentPage:y,setCurrentPage:N,usersPerPage:w,setUsersPerPage:v,totalPages:_,onUserSelect:k,onSelectAll:C,onUserDetail:S,onPaymentDetail:P,onBulkAction:Z,onDeleteUser:E}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between bg-black/40 backdrop-blur-xl border border-white/10 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"text-white text-sm",children:["Showing ",(y-1)*w+1," to ",Math.min(y*w,t.length)," of ",t.length," users"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.z,{onClick:()=>N(Math.max(1,y-1)),disabled:1===y,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:(0,a.jsx)(en.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("span",{className:"text-white px-3 py-1",children:["Page ",y," of ",_]}),(0,a.jsx)(u.z,{onClick:()=>N(Math.min(_,y+1)),disabled:y===_,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:(0,a.jsx)(eu.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(h.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsxs)(h.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,a.jsx)("div",{className:"flex-1 max-w-md",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(ep.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(p.I,{id:"search-input",placeholder:"Search users by name, email, university...",value:n,onChange:e=>c(e.target.value),className:"pl-10 bg-white/5 border-white/20 text-white placeholder-gray-400"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(u.z,{onClick:()=>j(!b),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[(0,a.jsx)(eg.Z,{className:"h-4 w-4 mr-2"}),"Advanced Filters",b?(0,a.jsx)(M.Z,{className:"h-4 w-4 ml-2"}):(0,a.jsx)(F.Z,{className:"h-4 w-4 ml-2"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 border border-white/20 rounded-lg p-1",children:[(0,a.jsx)(u.z,{onClick:()=>f("table"),variant:"table"===g?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,a.jsx)(ef.Z,{className:"h-4 w-4"})}),(0,a.jsx)(u.z,{onClick:()=>f("grid"),variant:"grid"===g?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,a.jsx)(eb.Z,{className:"h-4 w-4"})})]}),m.size>0&&(0,a.jsxs)(u.z,{variant:"outline",size:"sm",className:"border-purple-500 text-purple-400 hover:bg-purple-500/10",children:[(0,a.jsx)(ej.Z,{className:"h-4 w-4 mr-2"}),"Bulk Actions (",m.size,")"]})]})]}),(0,a.jsx)(i.M,{children:b&&(0,a.jsx)(l.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-6 pt-6 border-t border-white/10",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Gender"}),(0,a.jsxs)(J,{value:d.gender,onValueChange:e=>o({...d,gender:e}),children:[(0,a.jsx)(G,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(q,{})}),(0,a.jsxs)(W,{children:[(0,a.jsx)(H,{value:"all",children:"All Genders"}),(0,a.jsx)(H,{value:"male",children:"Male"}),(0,a.jsx)(H,{value:"female",children:"Female"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Status"}),(0,a.jsxs)(J,{value:d.status,onValueChange:e=>o({...d,status:e}),children:[(0,a.jsx)(G,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(q,{})}),(0,a.jsxs)(W,{children:[(0,a.jsx)(H,{value:"all",children:"All Status"}),(0,a.jsx)(H,{value:"active",children:"Active"}),(0,a.jsx)(H,{value:"suspended",children:"Suspended"}),(0,a.jsx)(H,{value:"banned",children:"Banned"}),(0,a.jsx)(H,{value:"pending",children:"Pending"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Verification"}),(0,a.jsxs)(J,{value:d.verification,onValueChange:e=>o({...d,verification:e}),children:[(0,a.jsx)(G,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(q,{})}),(0,a.jsxs)(W,{children:[(0,a.jsx)(H,{value:"all",children:"All Verification"}),(0,a.jsx)(H,{value:"verified",children:"Verified"}),(0,a.jsx)(H,{value:"pending",children:"Pending"}),(0,a.jsx)(H,{value:"rejected",children:"Rejected"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Subscription"}),(0,a.jsxs)(J,{value:d.subscription,onValueChange:e=>o({...d,subscription:e}),children:[(0,a.jsx)(G,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(q,{})}),(0,a.jsxs)(W,{children:[(0,a.jsx)(H,{value:"all",children:"All Subscriptions"}),(0,a.jsx)(H,{value:"basic",children:"Basic"}),(0,a.jsx)(H,{value:"premium",children:"Premium"}),(0,a.jsx)(H,{value:"none",children:"No Subscription"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Payment Status"}),(0,a.jsxs)(J,{value:d.payment,onValueChange:e=>o({...d,payment:e}),children:[(0,a.jsx)(G,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(q,{})}),(0,a.jsxs)(W,{children:[(0,a.jsx)(H,{value:"all",children:"All Payments"}),(0,a.jsx)(H,{value:"confirmed",children:"Confirmed"}),(0,a.jsx)(H,{value:"review",children:"Under Review"}),(0,a.jsx)(H,{value:"none",children:"No Payment"})]})]})]})]})})})]})}),(0,a.jsx)(h.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(h.aY,{className:"p-0",children:"table"===g?(0,a.jsx)(eq,{users:s,selectedUsers:m,onUserSelect:k,onSelectAll:C,onUserDetail:S,onPaymentDetail:P,onDeleteUser:E}):(0,a.jsx)(eG,{users:s,selectedUsers:m,onUserSelect:k,onUserDetail:S,onPaymentDetail:P,onDeleteUser:E})})})]})}function eq(e){let{users:s,selectedUsers:t,onUserSelect:r,onSelectAll:l,onUserDetail:i,onPaymentDetail:n,onDeleteUser:c}=e;return(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-4",children:(0,a.jsx)("input",{type:"checkbox",checked:s.length>0&&s.every(e=>t.has(e.id)),onChange:e=>l(e.target.checked),className:"rounded border-white/20 bg-white/5 text-gray-400"})}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"User"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Status"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Subscription"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Payment"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Joined"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:s.map(e=>(0,a.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("input",{type:"checkbox",checked:t.has(e.id),onChange:s=>r(e.id,s.target.checked),className:"rounded border-white/20 bg-white/5 text-gray-400"})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(f.qE,{className:"h-10 w-10",children:[(0,a.jsx)(f.F$,{src:e.profile_photo}),(0,a.jsx)(f.Q5,{children:e.full_name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.full_name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.email}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.university})]})]})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(g.C,{variant:"secondary",className:"".concat("active"===e.status?"bg-green-500/20 text-green-400 border-green-500/50":"suspended"===e.status?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"banned"===e.status?"bg-red-500/20 text-red-400 border-red-500/50":"bg-gray-500/20 text-gray-400 border-gray-500/50"),children:e.status}),(0,a.jsx)(g.C,{variant:"secondary",className:"".concat("verified"===e.verification_status?"bg-blue-500/20 text-blue-400 border-blue-500/50":"pending"===e.verification_status?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"bg-red-500/20 text-red-400 border-red-500/50"),children:e.verification_status})]})}),(0,a.jsx)("td",{className:"p-4",children:e.subscription_type?(0,a.jsxs)(g.C,{variant:"secondary",className:"bg-purple-500/20 text-purple-400 border-purple-500/50",children:[(0,a.jsx)(ey.Z,{className:"h-3 w-3 mr-1"}),e.subscription_type]}):(0,a.jsx)("span",{className:"text-gray-400",children:"No subscription"})}),(0,a.jsx)("td",{className:"p-4",children:e.payment_confirmed?(0,a.jsxs)(g.C,{className:"bg-green-500/20 text-green-400 border-green-500/50",children:[(0,a.jsx)(eN.Z,{className:"h-3 w-3 mr-1"}),"Confirmed"]}):e.payment_proof_url?(0,a.jsxs)(u.z,{onClick:()=>n(e),variant:"outline",size:"sm",className:"border-yellow-500 text-yellow-400 hover:bg-yellow-500/10",children:[(0,a.jsx)(ew.Z,{className:"h-3 w-3 mr-1"}),"Review"]}):(0,a.jsx)("span",{className:"text-gray-400",children:"No payment"})}),(0,a.jsxs)("td",{className:"p-4",children:[(0,a.jsx)("p",{className:"text-white text-sm",children:new Date(e.created_at).toLocaleDateString()}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:new Date(e.created_at).toLocaleTimeString()})]}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(u.z,{onClick:()=>i(e),variant:"outline",size:"sm",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",children:[(0,a.jsx)(ex.Z,{className:"h-3 w-3 mr-1"}),"View Profile"]}),(0,a.jsxs)(E,{children:[(0,a.jsx)(z,{asChild:!0,children:(0,a.jsxs)(u.z,{variant:"outline",size:"sm",className:"border-red-500 text-red-400 hover:bg-red-500/10",children:[(0,a.jsx)(ev.Z,{className:"h-3 w-3 mr-1"}),"Delete"]})}),(0,a.jsxs)(R,{className:"bg-gray-900 border-gray-700",children:[(0,a.jsxs)(D,{children:[(0,a.jsx)(T,{className:"text-white",children:"Delete User"}),(0,a.jsxs)(I,{className:"text-gray-400",children:["Are you sure you want to permanently delete ",e.full_name,"? This action cannot be undone."]})]}),(0,a.jsxs)(O,{children:[(0,a.jsx)(L,{className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),(0,a.jsx)(V,{onClick:()=>c(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete User"})]})]})]})]})})]},e.id))})]})})}function eG(e){let{users:s,selectedUsers:t,onUserSelect:r,onUserDetail:i,onPaymentDetail:n,onDeleteUser:c}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 p-6",children:s.map(e=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-white/20 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.has(e.id),onChange:s=>r(e.id,s.target.checked),className:"rounded border-white/20 bg-white/5 text-gray-400"}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)(u.z,{onClick:()=>i(e),variant:"outline",size:"sm",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10 h-7 px-2",children:(0,a.jsx)(ex.Z,{className:"h-3 w-3"})}),(0,a.jsxs)(E,{children:[(0,a.jsx)(z,{asChild:!0,children:(0,a.jsx)(u.z,{variant:"outline",size:"sm",className:"border-red-500 text-red-400 hover:bg-red-500/10 h-7 px-2",children:(0,a.jsx)(ev.Z,{className:"h-3 w-3"})})}),(0,a.jsxs)(R,{className:"bg-gray-900 border-gray-700",children:[(0,a.jsxs)(D,{children:[(0,a.jsx)(T,{className:"text-white",children:"Delete User"}),(0,a.jsxs)(I,{className:"text-gray-400",children:["Are you sure you want to permanently delete ",e.full_name,"? This action cannot be undone."]})]}),(0,a.jsxs)(O,{children:[(0,a.jsx)(L,{className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),(0,a.jsx)(V,{onClick:()=>c(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete User"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsxs)(f.qE,{className:"h-16 w-16 mx-auto mb-3",children:[(0,a.jsx)(f.F$,{src:e.profile_photo}),(0,a.jsx)(f.Q5,{children:e.full_name.charAt(0)})]}),(0,a.jsx)("h3",{className:"text-white font-medium",children:e.full_name}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.age," years"]}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:e.university})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Status:"}),(0,a.jsx)(g.C,{variant:"secondary",className:"".concat("active"===e.status?"bg-green-500/20 text-green-400 border-green-500/50":"suspended"===e.status?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"banned"===e.status?"bg-red-500/20 text-red-400 border-red-500/50":"bg-gray-500/20 text-gray-400 border-gray-500/50"),children:e.status})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Payment:"}),e.payment_confirmed?(0,a.jsxs)(g.C,{className:"bg-green-500/20 text-green-400 border-green-500/50 text-xs",children:[(0,a.jsx)(eN.Z,{className:"h-2 w-2 mr-1"}),"Confirmed"]}):e.payment_proof_url?(0,a.jsx)(u.z,{onClick:()=>n(e),variant:"outline",size:"sm",className:"border-yellow-500 text-yellow-400 hover:bg-yellow-500/10 text-xs h-6",children:"Review"}):(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"None"})]})]})]},e.id))})}function eQ(e){let{users:s,onConfirmPayment:t,paymentLoading:r,setSelectedPaymentProof:l}=e,i=s.filter(e=>e.payment_proof_url&&!e.payment_confirmed),n=s.filter(e=>e.payment_confirmed),c=s.filter(e=>"basic"===e.subscription_type&&e.payment_confirmed),d=s.filter(e=>"premium"===e.subscription_type&&e.payment_confirmed);console.log("Total users count:",s.length),console.log("Premium users with confirmed payment:",d.length),console.log("Basic users with confirmed payment:",c.length),console.log("Sample users:",s.slice(0,5).map(e=>({email:e.email,subscription_type:e.subscription_type,payment_confirmed:e.payment_confirmed})));let o=n.reduce((e,s)=>"basic"===s.subscription_type?e+99:"premium"===s.subscription_type?e+249:e,0);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[(0,a.jsx)(h.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(h.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Pending Reviews"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-400 mt-1",children:i.length})]}),(0,a.jsx)(ew.Z,{className:"h-8 w-8 text-yellow-400/60"})]})})}),(0,a.jsx)(h.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(h.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Confirmed Payments"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-400 mt-1",children:n.length})]}),(0,a.jsx)(eN.Z,{className:"h-8 w-8 text-green-400/60"})]})})}),(0,a.jsx)(h.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(h.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Paid Basic Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-400 mt-1",children:c.length})]}),(0,a.jsx)(ec.Z,{className:"h-8 w-8 text-blue-400/60"})]})})}),(0,a.jsx)(h.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(h.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Paid Premium Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-400 mt-1",children:d.length})]}),(0,a.jsx)(ey.Z,{className:"h-8 w-8 text-purple-400/60"})]})})}),(0,a.jsx)(h.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(h.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-emerald-400 mt-1",children:["₹",o.toLocaleString()]})]}),(0,a.jsx)(e_.Z,{className:"h-8 w-8 text-emerald-400/60"})]})})})]}),(0,a.jsxs)(h.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[(0,a.jsx)(h.Ol,{children:(0,a.jsxs)(h.ll,{className:"text-white flex items-center",children:[(0,a.jsx)(ew.Z,{className:"h-5 w-5 mr-2"}),"Pending Payment Reviews (",i.length,")"]})}),(0,a.jsx)(h.aY,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[i.map(e=>(0,a.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(f.qE,{className:"h-16 w-16",children:[(0,a.jsx)(f.F$,{src:e.profile_photo}),(0,a.jsx)(f.Q5,{children:e.full_name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium text-lg",children:e.full_name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.email}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.university}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)(g.C,{className:"bg-purple-500/20 text-purple-400",children:[e.subscription_type," plan - ₹","basic"===e.subscription_type?"99":"249"]})})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsxs)(u.z,{onClick:()=>t(e.id,"basic"===e.subscription_type?99:249),disabled:r===e.id,className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[r===e.id?(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,a.jsx)(eN.Z,{className:"h-4 w-4 mr-2"}),r===e.id?"Processing...":"Confirm Payment"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-white font-medium mb-3",children:"Payment Proof"}),e.payment_proof_url?(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 text-center",children:[(0,a.jsxs)(u.z,{onClick:()=>l({url:e.payment_proof_url?eM(e.payment_proof_url):null,user:e.full_name}),variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10 w-full",children:[(0,a.jsx)(ex.Z,{className:"h-4 w-4 mr-2"}),"View Payment Proof"]}),(0,a.jsx)("p",{className:"text-gray-400 text-xs mt-2",children:"Click to view full proof image"})]}):(0,a.jsx)("div",{className:"bg-gray-500/20 border border-gray-500/30 rounded-lg p-6 text-center",children:(0,a.jsx)("p",{className:"text-gray-400",children:"No payment proof uploaded"})})]})]})},e.id)),0===i.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(eN.Z,{className:"h-12 w-12 text-green-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-white font-medium",children:"No pending payment reviews"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"All payments have been processed"})]})]})})]})]})}function e$(e){let{boysRegistrationEnabled:s,setBoysRegistrationEnabled:t,systemMaintenanceMode:r,setSystemMaintenanceMode:l}=e;return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(h.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[(0,a.jsx)(h.Ol,{children:(0,a.jsx)(h.ll,{className:"text-white",children:"System Controls"})}),(0,a.jsxs)(h.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:"Boys Registration"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Control whether new male users can register"})]}),(0,a.jsxs)(u.z,{onClick:async()=>{try{let e=await fetch("/api/admin/system-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggle_boys_registration"})}),s=await e.json();s.success?(t(s.new_value),alert(s.message)):alert(s.error||"Failed to toggle boys registration")}catch(e){console.error("Error toggling boys registration:",e),alert("An error occurred while updating the setting")}},variant:"outline",className:"".concat(s?"border-green-500 text-green-400":"border-red-500 text-red-400"),children:[s?(0,a.jsx)(ek.Z,{className:"h-4 w-4 mr-2"}):(0,a.jsx)(eC.Z,{className:"h-4 w-4 mr-2"}),s?"Enabled":"Disabled"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:"Maintenance Mode"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Enable maintenance mode for system updates"})]}),(0,a.jsxs)(u.z,{onClick:()=>l(!r),variant:"outline",className:"".concat(r?"border-yellow-500 text-yellow-400":"border-green-500 text-green-400"),children:[r?(0,a.jsx)(eS.Z,{className:"h-4 w-4 mr-2"}):(0,a.jsx)(eN.Z,{className:"h-4 w-4 mr-2"}),r?"Maintenance":"Operational"]})]})]})]})})}function eW(){return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(h.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[(0,a.jsx)(h.Ol,{children:(0,a.jsx)(h.ll,{className:"text-white",children:"System Logs"})}),(0,a.jsx)(h.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,a.jsx)("span",{className:"text-white",children:"User registration successful"}),(0,a.jsx)("span",{className:"text-gray-400 text-sm ml-auto",children:"2 minutes ago"})]})}),(0,a.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),(0,a.jsx)("span",{className:"text-white",children:"Payment confirmed for user"}),(0,a.jsx)("span",{className:"text-gray-400 text-sm ml-auto",children:"5 minutes ago"})]})}),(0,a.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),(0,a.jsx)("span",{className:"text-white",children:"Admin login detected"}),(0,a.jsx)("span",{className:"text-gray-400 text-sm ml-auto",children:"10 minutes ago"})]})})]})})]})})}function eX(e){var s;let{user:t,open:l,onOpenChange:i,adminNotes:n,newNote:c,setNewNote:d,newNoteType:o,setNewNoteType:m,isAddingNote:x,editingNoteId:b,editingNoteText:y,setEditingNoteId:w,setEditingNoteText:v,onAddNote:S,onUpdateNote:P,onDeleteNote:Z,onConfirmPayment:U,onSuspendUser:A,onBanUser:Y,onDeleteUser:F,onEditUser:M,onVerifyUser:B,onResetPassword:Q,setSelectedFullPhoto:$}=e,[X,K]=(0,r.useState)(!1),[es,et]=(0,r.useState)({}),[ea,er]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&et({name:t.name||"",email:t.email||"",phone:t.phone||"",college:t.college||"",year:t.year||"",course:t.course||"",branch:t.branch||"",age:t.age||"",height:t.height||"",location:t.location||"",interests:t.interests||"",relationship_status:t.relationship_status||"",instagram:t.instagram||"",subscription_type:t.subscription_type||"basic",is_payment_verified:t.is_payment_verified||!1,points:t.points||0,is_active:!1!==t.is_active})},[t]);let el=async()=>{er(!0);try{let e=await M(t.id,es);e&&K(!1)}catch(e){console.error("Error updating user:",e)}finally{er(!1)}};return t?(0,a.jsx)(N,{open:l,onOpenChange:i,children:(0,a.jsxs)(_,{className:"max-w-7xl max-h-[95vh] bg-black/95 backdrop-blur-xl border border-gray-800",children:[(0,a.jsx)(k,{className:"border-b border-gray-800 pb-4",children:(0,a.jsxs)(C,{className:"text-2xl font-bold text-white flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eP.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{children:["User Profile: ",t.full_name]}),(0,a.jsx)("p",{className:"text-sm text-gray-400 font-normal",children:"Complete user management and information"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 py-6 max-h-[75vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(h.Zb,{className:"bg-gray-900/80 border-gray-800 shadow-2xl",children:(0,a.jsxs)(h.aY,{className:"p-8 text-center",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)(f.qE,{className:"h-48 w-48 mx-auto cursor-pointer ring-4 ring-blue-500/20 hover:ring-blue-500/40 transition-all duration-300",onClick:()=>t.profile_photo&&$({url:t.profile_photo,name:t.full_name}),children:[(0,a.jsx)(f.F$,{src:t.profile_photo,className:"object-cover"}),(0,a.jsx)(f.Q5,{className:"text-6xl bg-gradient-to-br from-gray-700 to-gray-800 text-white",children:t.full_name.charAt(0)})]}),t.profile_photo&&(0,a.jsx)("p",{className:"text-gray-400 text-xs mt-3",children:"Click to view full size"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:t.full_name}),(0,a.jsxs)("p",{className:"text-gray-400 text-lg",children:[t.age," years old • ",t.gender]}),(0,a.jsx)("p",{className:"text-blue-400 font-medium",children:t.university})]})]})})}),(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,a.jsxs)(h.Zb,{className:"bg-gray-900/80 border-gray-800 shadow-xl",children:[(0,a.jsx)(h.Ol,{className:"border-b border-gray-800",children:(0,a.jsxs)(h.ll,{className:"text-white text-xl flex items-center",children:[(0,a.jsx)(eZ.Z,{className:"h-5 w-5 mr-3 text-blue-400"}),"Contact Information"]})}),(0,a.jsxs)(h.aY,{className:"p-6 space-y-5",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-5",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Email Address"}),X?(0,a.jsx)(p.I,{value:es.email,onChange:e=>et({...es,email:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eZ.Z,{className:"h-4 w-4 text-blue-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.email})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Full Name"}),X?(0,a.jsx)(p.I,{value:es.name,onChange:e=>et({...es,name:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eP.Z,{className:"h-4 w-4 text-blue-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.name||t.full_name})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"College"}),X?(0,a.jsx)(p.I,{value:es.college,onChange:e=>et({...es,college:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eE.Z,{className:"h-4 w-4 text-purple-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.college||t.university})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Year of Study"}),X?(0,a.jsx)(p.I,{value:es.year,onChange:e=>et({...es,year:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ez.Z,{className:"h-4 w-4 text-green-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.year||t.year_of_study||"Not specified"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Phone Number"}),X?(0,a.jsx)(p.I,{value:es.phone,onChange:e=>et({...es,phone:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eU.Z,{className:"h-4 w-4 text-orange-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.phone||t.phone_number||"Not provided"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Instagram"}),X?(0,a.jsx)(p.I,{value:es.instagram,onChange:e=>et({...es,instagram:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white",placeholder:"@username"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eA.Z,{className:"h-4 w-4 text-pink-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.instagram?"@".concat(t.instagram):"Not provided"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Age"}),X?(0,a.jsx)(p.I,{type:"number",value:es.age,onChange:e=>et({...es,age:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eR.Z,{className:"h-4 w-4 text-yellow-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.age||"Not specified"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Height"}),X?(0,a.jsx)(p.I,{value:es.height,onChange:e=>et({...es,height:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white",placeholder:"e.g., 5'8"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eD.Z,{className:"h-4 w-4 text-green-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.height||"Not specified"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 pt-4 border-t border-gray-800",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Bio"}),X?(0,a.jsx)(ee.g,{value:es.interests,onChange:e=>et({...es,interests:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white min-h-[100px]",placeholder:"Tell us about yourself..."}):(0,a.jsx)("div",{className:"bg-gray-800/50 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-white",children:t.bio||t.interests||"No bio provided"})})]})]})]}),(0,a.jsxs)(h.Zb,{className:"bg-gray-900/80 border-gray-800 shadow-xl",children:[(0,a.jsx)(h.Ol,{className:"border-b border-gray-800",children:(0,a.jsxs)(h.ll,{className:"text-white text-xl flex items-center",children:[(0,a.jsx)(ed.Z,{className:"h-5 w-5 mr-3 text-green-400"}),"Subscription & Payment"]})}),(0,a.jsx)(h.aY,{className:"p-6 space-y-6",children:t.subscription_type?(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-purple-500/10 border border-purple-500/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(ey.Z,{className:"h-6 w-6 text-purple-400"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-white font-semibold",children:[(null===(s=t.subscription_type)||void 0===s?void 0:s.toUpperCase())||"FREE"," Plan"]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Premium subscription active"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-purple-400 font-bold text-xl",children:["₹","basic"===t.subscription_type?"99":"249"]}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:"one-time"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400 font-medium",children:"Payment Status"}),t.payment_confirmed?(0,a.jsxs)(g.C,{className:"bg-green-500/20 text-green-400 border-green-500/50 px-4 py-2",children:[(0,a.jsx)(eN.Z,{className:"h-4 w-4 mr-2"}),"CONFIRMED"]}):t.payment_proof_url?(0,a.jsxs)(g.C,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/50 px-4 py-2",children:[(0,a.jsx)(ew.Z,{className:"h-4 w-4 mr-2"}),"PENDING REVIEW"]}):(0,a.jsxs)(g.C,{className:"bg-gray-500/20 text-gray-400 border-gray-500/50 px-4 py-2",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"NO PAYMENT"]})]}),t.payment_proof_url&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Payment Proof"}),(0,a.jsx)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-white",children:"Payment screenshot uploaded"}),(0,a.jsxs)(u.z,{onClick:()=>{let e=t.payment_proof_url?eM(t.payment_proof_url):null;e&&window.open(e,"_blank")},variant:"outline",size:"sm",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",children:[(0,a.jsx)(ex.Z,{className:"h-4 w-4 mr-2"}),"View Proof"]})]})}),!t.payment_confirmed&&(0,a.jsxs)(u.z,{onClick:()=>U(t.id,"basic"===t.subscription_type?99:249),className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3",children:[(0,a.jsx)(eN.Z,{className:"h-5 w-5 mr-2"}),"Confirm Payment (₹","basic"===t.subscription_type?"99":"249",")"]})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(j.Z,{className:"h-8 w-8 text-gray-400"})}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"No subscription"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"User has not subscribed to any plan"})]})})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,a.jsxs)(h.Zb,{className:"bg-gray-900/80 border-gray-800 shadow-xl",children:[(0,a.jsx)(h.Ol,{className:"border-b border-gray-800",children:(0,a.jsxs)(h.ll,{className:"text-white text-xl flex items-center",children:[(0,a.jsx)(eo.Z,{className:"h-5 w-5 mr-3 text-red-400"}),"Admin Actions"]})}),(0,a.jsx)(h.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,a.jsxs)(u.z,{onClick:()=>K(!X),variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10 justify-start",children:[(0,a.jsx)(eO.Z,{className:"h-4 w-4 mr-3"}),X?"Cancel Edit":"Edit Profile"]}),X&&(0,a.jsxs)(u.z,{onClick:el,disabled:ea,className:"bg-green-600 hover:bg-green-700 text-white justify-start",children:[(0,a.jsx)(eT.Z,{className:"h-4 w-4 mr-3"}),ea?"Saving...":"Save Changes"]}),(0,a.jsxs)(E,{children:[(0,a.jsx)(z,{asChild:!0,children:(0,a.jsxs)(u.z,{variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/10 justify-start",children:[(0,a.jsx)(ev.Z,{className:"h-4 w-4 mr-3"}),"Delete User"]})}),(0,a.jsxs)(R,{className:"bg-gray-900 border-gray-700",children:[(0,a.jsxs)(D,{children:[(0,a.jsx)(T,{className:"text-white",children:"Delete User"}),(0,a.jsxs)(I,{className:"text-gray-400",children:["Are you sure you want to permanently delete ",t.full_name,"? This action cannot be undone."]})]}),(0,a.jsxs)(O,{children:[(0,a.jsx)(L,{className:"border-gray-600 text-gray-400 hover:bg-gray-700",children:"Cancel"}),(0,a.jsx)(V,{onClick:()=>F(t.id),className:"bg-red-600 hover:bg-red-700",children:"Delete User"})]})]})]})]})})]}),(0,a.jsxs)(h.Zb,{className:"bg-gray-900/80 border-gray-800 shadow-xl",children:[(0,a.jsx)(h.Ol,{className:"border-b border-gray-800",children:(0,a.jsxs)(h.ll,{className:"text-white text-xl flex items-center",children:[(0,a.jsx)(eI.Z,{className:"h-5 w-5 mr-3 text-yellow-400"}),"Admin Notes"]})}),(0,a.jsxs)(h.aY,{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(J,{value:o,onValueChange:m,children:[(0,a.jsx)(G,{className:"bg-gray-800/50 border-gray-700 text-white",children:(0,a.jsx)(q,{})}),(0,a.jsxs)(W,{className:"bg-gray-900 border-gray-700",children:[(0,a.jsx)(H,{value:"note",children:"Note"}),(0,a.jsx)(H,{value:"warning",children:"Warning"}),(0,a.jsx)(H,{value:"system",children:"System"})]})]}),(0,a.jsx)(ee.g,{placeholder:"Add a note about this user...",value:c,onChange:e=>d(e.target.value),className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 min-h-[80px]"}),(0,a.jsxs)(u.z,{onClick:()=>S(t.id,c,o),disabled:!c.trim()||x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[(0,a.jsx)(eV.Z,{className:"h-4 w-4 mr-2"}),x?"Adding...":"Add Note"]})]}),(0,a.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:n.length>0?n.map(e=>{var s;return(0,a.jsxs)("div",{className:"bg-gray-800/30 border border-gray-700 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)(g.C,{className:"".concat("warning"===e.type?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"system"===e.type?"bg-blue-500/20 text-blue-400 border-blue-500/50":"bg-gray-500/20 text-gray-400 border-gray-500/50"),children:(null===(s=e.type)||void 0===s?void 0:s.toUpperCase())||"NOTE"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,a.jsx)("p",{className:"text-white text-sm leading-relaxed whitespace-pre-wrap",children:e.note}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-3 pt-2 border-t border-gray-700",children:[(0,a.jsxs)("span",{children:["By: ",e.admin_email]}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleTimeString()})]})]},e.id)}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(eI.Z,{className:"h-12 w-12 text-gray-600 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-400",children:"No admin notes"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Add the first note above"})]})})]})]})]})]})]})}):null}function eH(e){let{photo:s,open:t,onOpenChange:r}=e;return s?(0,a.jsx)(N,{open:t,onOpenChange:r,children:(0,a.jsxs)(_,{className:"max-w-4xl max-h-[90vh] bg-black/95 backdrop-blur-xl border border-gray-800 p-0",children:[(0,a.jsx)(k,{className:"px-6 py-4 border-b border-gray-800",children:(0,a.jsxs)(C,{className:"text-xl font-bold text-white flex items-center space-x-2",children:[(0,a.jsx)(eP.Z,{className:"h-5 w-5 text-blue-400"}),(0,a.jsxs)("span",{children:[s.name," - Profile Photo"]})]})}),(0,a.jsx)("div",{className:"p-6 flex items-center justify-center",children:(0,a.jsx)("div",{className:"relative max-w-full max-h-[70vh] overflow-hidden rounded-lg",children:(0,a.jsx)(m(),{src:s.url,alt:"".concat(s.name," Profile Photo"),width:800,height:800,className:"object-contain max-w-full max-h-full",unoptimized:!0})})})]})}):null}function eK(e){let{user:s,open:t,onOpenChange:l,onConfirmPayment:i}=e,[n,c]=(0,r.useState)(!1);if(!(null==s?void 0:s.payment_proof_url))return null;let d=async()=>{c(!0);try{await i(s.id,"basic"===s.subscription_type?99:249),l(!1)}catch(e){console.error("Error confirming payment:",e)}finally{c(!1)}};return(0,a.jsx)(N,{open:t,onOpenChange:l,children:(0,a.jsxs)(_,{className:"max-w-4xl max-h-[90vh] bg-gray-900/95 backdrop-blur-xl border border-gray-700",children:[(0,a.jsx)(k,{children:(0,a.jsxs)(C,{className:"text-xl font-bold text-white flex items-center space-x-2",children:[(0,a.jsx)(ed.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsxs)("span",{children:["Payment Verification: ",s.full_name]})]})}),(0,a.jsx)("div",{className:"py-6 space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-4",children:"Payment Details"}),(0,a.jsxs)("div",{className:"space-y-3 bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"User:"}),(0,a.jsx)("span",{className:"text-white",children:s.full_name})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Plan:"}),(0,a.jsxs)("span",{className:"text-white",children:[s.subscription_type," Plan"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Amount:"}),(0,a.jsxs)("span",{className:"text-white",children:["₹","basic"===s.subscription_type?"99":"249"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Submitted:"}),(0,a.jsx)("span",{className:"text-white",children:s.payment_date?new Date(s.payment_date).toLocaleString():"Unknown"})]})]}),(0,a.jsx)("div",{className:"mt-6 flex items-center space-x-3",children:(0,a.jsxs)(u.z,{onClick:d,disabled:n,className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50",children:[(0,a.jsx)(eN.Z,{className:"h-4 w-4 mr-2"}),n?"Confirming...":"Confirm Payment"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-4",children:"Payment Proof"}),(0,a.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,a.jsx)(m(),{src:(s.payment_proof_url?eM(s.payment_proof_url):null)||"",alt:"Payment Proof",width:500,height:400,className:"w-full h-auto max-h-96 object-contain rounded-lg"})})]})]})})]})})}function e0(e){let{open:s,onOpenChange:t,selectedUsers:l,onBulkAction:i}=e,[n,c]=(0,r.useState)(""),[d,o]=(0,r.useState)(""),m=[{value:"verify",label:"Verify Users",icon:eN.Z,color:"text-blue-400"},{value:"suspend",label:"Suspend Users",icon:eL.Z,color:"text-yellow-400"},{value:"ban",label:"Ban Users",icon:eY.Z,color:"text-red-400"},{value:"delete",label:"Delete Users",icon:ev.Z,color:"text-red-500"},{value:"export",label:"Export Data",icon:eF.Z,color:"text-green-400"}];return(0,a.jsx)(N,{open:s,onOpenChange:t,children:(0,a.jsxs)(_,{className:"max-w-md bg-gray-900/95 backdrop-blur-xl border border-gray-700",children:[(0,a.jsx)(k,{children:(0,a.jsxs)(C,{className:"text-xl font-bold text-white",children:["Bulk Actions (",l.size," users)"]})}),(0,a.jsxs)("div",{className:"py-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Select Action"}),(0,a.jsxs)(J,{value:n,onValueChange:c,children:[(0,a.jsx)(G,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(q,{placeholder:"Choose an action"})}),(0,a.jsx)(W,{children:m.map(e=>(0,a.jsx)(H,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e.icon,{className:"h-4 w-4 ".concat(e.color)}),(0,a.jsx)("span",{children:e.label})]})},e.value))})]})]}),("suspend"===n||"ban"===n||"delete"===n)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Reason"}),(0,a.jsx)(ee.g,{placeholder:"Enter reason for this action...",value:d,onChange:e=>o(e.target.value),className:"bg-white/5 border-white/20 text-white placeholder-gray-400"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 pt-4",children:[(0,a.jsx)(u.z,{onClick:()=>{n&&(i(n,l,{reason:d}),t(!1),c(""),o(""))},disabled:!n||"verify"!==n&&"export"!==n&&!d.trim(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white",children:"Execute Action"}),(0,a.jsx)(u.z,{onClick:()=>t(!1),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"})]})]})]})})}function e4(){return(0,a.jsx)(eB,{})}},6673:function(e,s,t){"use strict";t.d(s,{z:function(){return d}});var a=t(57437),r=t(2265),l=t(96061),i=t(39311),n=t(68177);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"gradient-primary text-white hover:scale-105 glow",glass:"glass text-white hover:bg-white/20 border border-white/20",outline:"border border-white/30 text-white hover:bg-white/10",ghost:"text-white hover:bg-white/10",premium:"gradient-premium text-white hover:scale-105 glow shadow-lg"},size:{default:"h-12 px-6 py-3",sm:"h-9 rounded-md px-3",lg:"h-14 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=(0,r.forwardRef)((e,s)=>{let{className:t,variant:r,size:l,...d}=e;return(0,a.jsx)(n.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-block",children:(0,a.jsx)("button",{className:(0,i.cn)(c({variant:r,size:l,className:t})),ref:s,...d})})});d.displayName="Button"},70804:function(e,s,t){"use strict";t.d(s,{Ol:function(){return c},Zb:function(){return n},aY:function(){return m},ll:function(){return d}});var a=t(57437),r=t(2265),l=t(39311),i=t(68177);let n=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-block w-full",children:(0,a.jsx)("div",{ref:s,className:(0,l.cn)("glass rounded-xl border border-white/20 shadow-lg backdrop-blur-md p-6",t),...r})})});n.displayName="Card";let c=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});c.displayName="CardHeader";let d=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight text-white font-poppins",t),...r})});d.displayName="CardTitle";let o=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-white/70",t),...r})});o.displayName="CardDescription";let m=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});m.displayName="CardContent";let x=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});x.displayName="CardFooter"},58783:function(e,s,t){"use strict";t.d(s,{I:function(){return n}});var a=t(57437),r=t(2265),l=t(39311),i=t(68177);let n=r.forwardRef((e,s)=>{let{className:t,type:r,...n}=e;return(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,ease:"easeOut"},className:"w-full relative",children:[(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-14 w-full rounded-xl glass-card-dark backdrop-blur-xl px-6 py-4 text-lg text-white placeholder:text-white/40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent disabled:cursor-not-allowed disabled:opacity-50 border border-white/10 hover:border-white/20 focus:border-white/30 transition-all duration-300 shadow-lg hover:shadow-xl focus:shadow-2xl bg-white/[0.02] hover:bg-white/[0.05] focus:bg-white/[0.08]",t),ref:s,...n}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-primary/20 to-purple-500/20 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 -z-10 blur-xl"})]})});n.displayName="Input"},28213:function(e,s,t){"use strict";t.d(s,{C:function(){return n}});var a=t(57437);t(2265);var r=t(96061),l=t(39311);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...r})}},99716:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return n},nU:function(){return o}});var a=t(57437),r=t(2265),l=t(17094),i=t(39311);let n=l.fC,c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.aV,{ref:s,className:(0,i.cn)("inline-flex h-12 items-center justify-center rounded-lg glass backdrop-blur-md p-1 text-white/70",t),...r})});c.displayName=l.aV.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});d.displayName=l.xz.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=l.VY.displayName},83114:function(e,s,t){"use strict";t.d(s,{g:function(){return n}});var a=t(57437),r=t(2265),l=t(39311),i=t(68177);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full",children:(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-lg glass backdrop-blur-md px-4 py-2 text-sm text-white placeholder:text-white/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 border border-white/20 hover:border-white/30 transition-colors resize-none",t),ref:s,...r})})});n.displayName="Textarea"},37309:function(e,s,t){"use strict";t.d(s,{F$:function(){return c},Q5:function(){return d},qE:function(){return n}});var a=t(57437),r=t(2265),l=t(61465),i=t(39311);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.fC,{ref:s,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});n.displayName=l.fC.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.Ee,{ref:s,className:(0,i.cn)("aspect-square h-full w-full",t),...r})});c.displayName=l.Ee.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.NY,{ref:s,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});d.displayName=l.NY.displayName},93023:function(e,s,t){"use strict";t.d(s,{d:function(){return c},z:function(){return d}});var a=t(57437),r=t(2265),l=t(67256),i=t(96061),n=t(39311);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:d=!1,...o}=e,m=d?l.g7:"button";return(0,a.jsx)(m,{className:(0,n.cn)(c({variant:r,size:i,className:t})),ref:s,...o})});d.displayName="Button"},6763:function(e,s,t){"use strict";t.d(s,{O:function(){return c}});var a=t(37440),r=t(62601);let l="https://xdhtrwaghahigmbojotu.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhkaHRyd2FnaGFoaWdtYm9qb3R1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5Njk1OTYsImV4cCI6MjA3MTU0NTU5Nn0.ItDXVqjGSI-DaRCCbTCiWbopMnhXLGQiA3DMgBEzS4s",n=r.env.SUPABASE_SERVICE_ROLE_KEY;if(!l)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL environment variable");if(!i)throw Error("Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable");let c=(0,a.eI)(l,i);n?(0,a.eI)(l,n,{auth:{autoRefreshToken:!1,persistSession:!1}}):(console.warn("SUPABASE_SERVICE_ROLE_KEY not found, some admin operations may not work"),(0,a.eI)(l,i))},39311:function(e,s,t){"use strict";t.d(s,{cn:function(){return l}});var a=t(57042),r=t(74769);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}}},function(e){e.O(0,[749,492,440,515,691,256,971,864,744],function(){return e(e.s=85254)}),_N_E=e.O()}]);