(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{36450:function(e,s,t){Promise.resolve().then(t.bind(t,29867))},29867:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return sx}});var a=t(57437),r=t(2265),l=t(68177),i=t(91393),n=t(82749),c=t(24033),d=t(6763),o=t(16691),m=t.n(o),x=t(86110),h=t(93023),u=t(29155),g=t(37309),p=t(28712),b=t(82549),f=t(39311);let j=p.fC;p.xz;let N=p.h_;p.x8;let y=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(p.aV,{ref:s,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});y.displayName=p.aV.displayName;let w=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(N,{children:[(0,a.jsx)(y,{}),(0,a.jsxs)(p.VY,{ref:s,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[r,(0,a.jsxs)(p.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});w.displayName=p.VY.displayName;let v=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};v.displayName="DialogHeader";let C=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(p.Dx,{ref:s,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});C.displayName=p.Dx.displayName;let _=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(p.dk,{ref:s,className:(0,f.cn)("text-sm text-muted-foreground",t),...r})});_.displayName=p.dk.displayName;var k=t(52506);let S=k.fC,Z=k.xz,A=k.h_,P=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(k.aV,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});P.displayName=k.aV.displayName;let E=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsxs)(A,{children:[(0,a.jsx)(P,{}),(0,a.jsx)(k.VY,{ref:s,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});E.displayName=k.VY.displayName;let U=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};U.displayName="AlertDialogHeader";let z=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};z.displayName="AlertDialogFooter";let R=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(k.Dx,{ref:s,className:(0,f.cn)("text-lg font-semibold",t),...r})});R.displayName=k.Dx.displayName;let T=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(k.dk,{ref:s,className:(0,f.cn)("text-sm text-muted-foreground",t),...r})});T.displayName=k.dk.displayName;let D=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(k.aU,{ref:s,className:(0,f.cn)((0,h.d)(),t),...r})});D.displayName=k.aU.displayName;let L=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(k.$j,{ref:s,className:(0,f.cn)((0,h.d)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});L.displayName=k.$j.displayName;var M=t(2275),O=t(83523),I=t(9224),F=t(62442);let V=M.fC;M.ZA;let Y=M.B4,B=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(M.xz,{ref:s,className:(0,f.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,a.jsx)(M.JO,{asChild:!0,children:(0,a.jsx)(O.Z,{className:"h-4 w-4 opacity-50"})})]})});B.displayName=M.xz.displayName;let J=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(M.u_,{ref:s,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(I.Z,{className:"h-4 w-4"})})});J.displayName=M.u_.displayName;let q=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(M.$G,{ref:s,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(O.Z,{className:"h-4 w-4"})})});q.displayName=M.$G.displayName;let Q=r.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...i}=e;return(0,a.jsx)(M.h_,{children:(0,a.jsxs)(M.VY,{ref:s,className:(0,f.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...i,children:[(0,a.jsx)(J,{}),(0,a.jsx)(M.l_,{className:(0,f.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(q,{})]})})});Q.displayName=M.VY.displayName;let $=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(M.__,{ref:s,className:(0,f.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})});$.displayName=M.__.displayName;let H=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(M.ck,{ref:s,className:(0,f.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(M.wU,{children:(0,a.jsx)(F.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(M.eT,{children:r})]})});H.displayName=M.ck.displayName;let W=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(M.Z0,{ref:s,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",t),...r})});W.displayName=M.Z0.displayName;let G=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,f.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});G.displayName="Input";let X=r.forwardRef((e,s)=>{let{className:t,value:r,max:l=100,...i}=e;return(0,a.jsx)("div",{ref:s,className:(0,f.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,a.jsx)("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-Math.min(Math.max((r||0)/l*100,0),100),"%)")}})})});X.displayName="Progress";var K=t(64280),ee=t(41827),es=t(69806),et=t(86532),ea=t(49168),er=t(25750),el=t(66654),ei=t(6141),en=t(17810),ec=t(4631),ed=t(73056),eo=t(99848),em=t(9883),ex=t(84958),eh=t(47957),eu=t(74530),eg=t(68291),ep=t(15432);function eb(){let[e,s]=(0,r.useState)([]),[t,n]=(0,r.useState)([]),[c,d]=(0,r.useState)({premiumUsers:0,basicUsers:0,assignedUsers:0,waitingUsers:0,matchedUsers:0}),[o,m]=(0,r.useState)(!0),[g,p]=(0,r.useState)(!1),[b,f]=(0,r.useState)("all"),[N,y]=(0,r.useState)(null),[_,k]=(0,r.useState)(!1),[S,Z]=(0,r.useState)(1),[A,P]=(0,r.useState)(!1),[E,U]=(0,r.useState)(null),[z,R]=(0,r.useState)(""),[T,D]=(0,r.useState)("all"),[L,M]=(0,r.useState)("all"),[O,I]=(0,r.useState)("all"),[F,J]=(0,r.useState)(!1),[q,$]=(0,r.useState)(""),[W,X]=(0,r.useState)("all"),[eo,em]=(0,r.useState)(""),ex=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e||g||p(!0);let t=await fetch("/api/admin/matches?planType=".concat(b));if(t.ok){let e=await t.json();s(e.maleUsers||[]),n(e.femaleUsers||[]),d(e.statistics||{premiumUsers:0,basicUsers:0,assignedUsers:0,waitingUsers:0,matchedUsers:0})}else console.error("Failed to fetch matches data")}catch(e){console.error("Error fetching matches data:",e)}finally{m(!1),p(!1)}},[b,g]);(0,r.useEffect)(()=>{ex()},[ex]),(0,r.useEffect)(()=>{o||ex(!0)},[b]);let eh=(0,r.useMemo)(()=>e.filter(e=>(!z||!!e.full_name.toLowerCase().includes(z.toLowerCase())||!!e.email.toLowerCase().includes(z.toLowerCase())||!!e.university.toLowerCase().includes(z.toLowerCase()))&&("all"===L||e.subscription_type===L)&&("all"===T||e.status===T)&&("all"===O||("has_assignments"!==O||0!==e.assignedCount)&&("no_assignments"!==O||!(e.assignedCount>0))&&("full_assignments"!==O||!(e.assignedCount<e.maxAssignments))&&("partial_assignments"!==O||0!==e.assignedCount&&!(e.assignedCount>=e.maxAssignments)))&&("all"===W||e.university===W)),[e,z,L,T,O,W]),eu=(0,r.useMemo)(()=>t.filter(e=>!!(!q||e.full_name.toLowerCase().includes(q.toLowerCase())||e.email.toLowerCase().includes(q.toLowerCase())||e.university.toLowerCase().includes(q.toLowerCase()))&&("all"===W||e.university===W)),[t,q,W]),eg=(0,r.useMemo)(()=>{let s=[...e,...t].map(e=>e.university);return Array.from(new Set(s)).sort()},[e,t]),ep=async(e,s)=>{try{P(!0);let t=await fetch("/api/admin/matches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"assign_profile",maleUserId:e,femaleUserId:s,data:{round:1}})}),a=await t.json();a.success?(await ex(!0),k(!1),alert("Profile assigned successfully!")):alert(a.error||"Failed to assign profile")}catch(e){console.error("Error assigning profile:",e),alert("An error occurred while assigning profile")}finally{P(!1)}},eb=async(e,s,t)=>{try{U("".concat(e,"-").concat(s));let a=await fetch("/api/admin/matches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,maleUserId:s,femaleUserId:t})}),r=await a.json();r.success?(await ex(!0),alert(r.message||"Action completed successfully!")):alert(r.error||"Action failed")}catch(s){console.error("Error performing ".concat(e,":"),s),alert("An error occurred while performing action")}finally{U(null)}},eN=(e,s)=>{y(e),Z(s),em(""),k(!0)},ey=e=>{let s=e.assignments.map(e=>e.female_user_id),t=e.assignments.filter(e=>"disengaged"===e.status).map(e=>e.female_user_id);return eu.filter(e=>!(s.includes(e.id)||t.includes(e.id))&&(!eo||!!e.full_name.toLowerCase().includes(eo.toLowerCase())||!!e.email.toLowerCase().includes(eo.toLowerCase())||!!e.university.toLowerCase().includes(eo.toLowerCase())||!!e.bio.toLowerCase().includes(eo.toLowerCase())))};return o?(0,a.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-gray-600 border-t-white rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white text-lg font-medium",children:"Loading Matches Panel..."})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Matches Management"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Assign and manage profile matches for premium and basic users"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(V,{value:b,onValueChange:e=>f(e),children:[(0,a.jsx)(B,{className:"w-48 bg-white/5 border-white/20 text-white",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)(Q,{children:[(0,a.jsx)(H,{value:"all",children:"All Plans"}),(0,a.jsx)(H,{value:"premium",children:"Premium (₹249)"}),(0,a.jsx)(H,{value:"basic",children:"Basic (₹99)"})]})]}),(0,a.jsxs)(h.z,{onClick:()=>ex(!0),disabled:g,variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[(0,a.jsx)(K.Z,{className:"h-4 w-4 mr-2 ".concat(g?"animate-spin":"")}),"Refresh"]})]})]}),(0,a.jsx)(x.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(x.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(ee.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(G,{placeholder:"Search male users by name, email, or university...",value:z,onChange:e=>R(e.target.value),className:"pl-10 bg-white/5 border-white/20 text-white placeholder-gray-400"}),z&&(0,a.jsx)("button",{onClick:()=>R(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:(0,a.jsx)(es.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)(h.z,{onClick:()=>J(!F),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[(0,a.jsx)(et.Z,{className:"h-4 w-4 mr-2"}),"Filters",("all"!==T||"all"!==L||"all"!==O||"all"!==W)&&(0,a.jsx)(u.C,{className:"ml-2 bg-blue-500/20 text-blue-400 border-blue-500/50",children:"Active"})]}),(z||"all"!==T||"all"!==L||"all"!==O||"all"!==W||q||eo)&&(0,a.jsxs)(h.z,{onClick:()=>{R(""),$(""),D("all"),M("all"),I("all"),X("all"),em("")},variant:"outline",size:"sm",className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:[(0,a.jsx)(es.Z,{className:"h-4 w-4 mr-2"}),"Clear All"]})]}),(0,a.jsx)(i.M,{children:F&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 border-t border-white/10 pt-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400 mb-2 block",children:"Status"}),(0,a.jsxs)(V,{value:T,onValueChange:D,children:[(0,a.jsx)(B,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)(Q,{children:[(0,a.jsx)(H,{value:"all",children:"All Statuses"}),(0,a.jsx)(H,{value:"waiting",children:"Waiting"}),(0,a.jsx)(H,{value:"assigned",children:"Assigned"}),(0,a.jsx)(H,{value:"temporary_match",children:"Temporary Match"}),(0,a.jsx)(H,{value:"permanently_matched",children:"Permanently Matched"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400 mb-2 block",children:"Subscription"}),(0,a.jsxs)(V,{value:L,onValueChange:M,children:[(0,a.jsx)(B,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)(Q,{children:[(0,a.jsx)(H,{value:"all",children:"All Plans"}),(0,a.jsx)(H,{value:"premium",children:"Premium (₹249)"}),(0,a.jsx)(H,{value:"basic",children:"Basic (₹99)"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400 mb-2 block",children:"Assignments"}),(0,a.jsxs)(V,{value:O,onValueChange:I,children:[(0,a.jsx)(B,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)(Q,{children:[(0,a.jsx)(H,{value:"all",children:"All Assignment States"}),(0,a.jsx)(H,{value:"no_assignments",children:"No Assignments"}),(0,a.jsx)(H,{value:"partial_assignments",children:"Partial Assignments"}),(0,a.jsx)(H,{value:"full_assignments",children:"Full Assignments"}),(0,a.jsx)(H,{value:"has_assignments",children:"Has Assignments"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400 mb-2 block",children:"University"}),(0,a.jsxs)(V,{value:W,onValueChange:X,children:[(0,a.jsx)(B,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)(Q,{children:[(0,a.jsx)(H,{value:"all",children:"All Universities"}),eg.map(e=>(0,a.jsx)(H,{value:e,children:e},e))]})]})]})]}),(0,a.jsxs)("div",{className:"border-t border-white/10 pt-4",children:[(0,a.jsx)("label",{className:"text-sm text-gray-400 mb-2 block",children:"Search Female Users (for assignment)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(ee.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(G,{placeholder:"Search female users by name, email, or university...",value:q,onChange:e=>$(e.target.value),className:"pl-10 bg-white/5 border-white/20 text-white placeholder-gray-400"}),q&&(0,a.jsx)("button",{onClick:()=>$(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:(0,a.jsx)(es.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-300",children:["Showing ",(0,a.jsx)("span",{className:"text-white font-medium",children:eh.length})," of ",(0,a.jsx)("span",{className:"text-white font-medium",children:e.length})," male users",eu.length!==t.length&&(0,a.jsxs)("span",{className:"ml-2",children:["• ",(0,a.jsx)("span",{className:"text-white font-medium",children:eu.length})," of ",(0,a.jsx)("span",{className:"text-white font-medium",children:t.length})," female users"]})]}),(z||"all"!==T||"all"!==L||"all"!==O||"all"!==W||q||eo)&&(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(u.C,{className:"bg-blue-500/20 text-blue-400 border-blue-500/50",children:"Filters Active"})})]})]})})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[(0,a.jsx)(x.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(x.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Premium Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-400 mt-1",children:c.premiumUsers})]}),(0,a.jsx)(ea.Z,{className:"h-8 w-8 text-purple-400/60"})]})})}),(0,a.jsx)(x.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(x.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Basic Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-400 mt-1",children:c.basicUsers})]}),(0,a.jsx)(er.Z,{className:"h-8 w-8 text-blue-400/60"})]})})}),(0,a.jsx)(x.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(x.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Assigned Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-400 mt-1",children:c.assignedUsers})]}),(0,a.jsx)(el.Z,{className:"h-8 w-8 text-green-400/60"})]})})}),(0,a.jsx)(x.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(x.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Waiting Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-400 mt-1",children:c.waitingUsers})]}),(0,a.jsx)(ei.Z,{className:"h-8 w-8 text-yellow-400/60"})]})})}),(0,a.jsx)(x.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(x.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Matched Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-pink-400 mt-1",children:c.matchedUsers})]}),(0,a.jsx)(en.Z,{className:"h-8 w-8 text-pink-400/60"})]})})})]}),("all"===b||"premium"===b)&&(0,a.jsxs)(x.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[(0,a.jsxs)(x.Ol,{children:[(0,a.jsxs)(x.ll,{className:"text-white flex items-center",children:[(0,a.jsx)(ea.Z,{className:"h-6 w-6 mr-3 text-purple-400"}),"Premium Users (₹249) - ",eh.filter(e=>"premium"===e.subscription_type).length,(0,a.jsxs)("div",{className:"ml-4 space-x-2",children:[(0,a.jsx)(u.C,{className:"bg-purple-500/20 text-purple-400 border-purple-500/50",children:"Round 1: 2 Options"}),(0,a.jsx)(u.C,{className:"bg-purple-600/20 text-purple-300 border-purple-600/50",children:"Round 2: 3 Options"})]})]}),(0,a.jsx)("div",{className:"text-gray-400 text-sm mt-2",children:"\uD83D\uDCCB Premium users get 2 profiles in Round 1, then 3 profiles in Round 2. \uD83C\uDFAF User selects 1 profile → 48hr timer starts → Other profiles hidden. ⚠️ Disengage option available with warning."})]}),(0,a.jsx)(x.aY,{children:(0,a.jsx)(ef,{users:eh.filter(e=>"premium"===e.subscription_type),onAssignProfile:eN,onUserAction:eb,actionLoading:E})})]}),("all"===b||"basic"===b)&&(0,a.jsxs)(x.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[(0,a.jsxs)(x.Ol,{children:[(0,a.jsxs)(x.ll,{className:"text-white flex items-center",children:[(0,a.jsx)(er.Z,{className:"h-6 w-6 mr-3 text-blue-400"}),"Basic Users (₹99) - ",eh.filter(e=>"basic"===e.subscription_type).length,(0,a.jsxs)("div",{className:"ml-4 space-x-2",children:[(0,a.jsx)(u.C,{className:"bg-blue-500/20 text-blue-400 border-blue-500/50",children:"Round 1: 1 Option"}),(0,a.jsx)(u.C,{className:"bg-blue-600/20 text-blue-300 border-blue-600/50",children:"Round 2: 1 Option"})]})]}),(0,a.jsx)("div",{className:"text-gray-400 text-sm mt-2",children:"\uD83D\uDCCB Basic users get 1 profile per round. \uD83C\uDFAF User selects profile → 48hr timer starts. ⚠️ Disengage option available with warning."})]}),(0,a.jsx)(x.aY,{children:(0,a.jsx)(ej,{users:eh.filter(e=>"basic"===e.subscription_type),onAssignProfile:eN,onUserAction:eb,actionLoading:E})})]}),(0,a.jsx)(j,{open:_,onOpenChange:k,children:(0,a.jsxs)(w,{className:"max-w-6xl max-h-[90vh] bg-gray-900/95 backdrop-blur-xl border border-gray-700 overflow-y-auto",children:[(0,a.jsxs)(v,{children:[(0,a.jsxs)(C,{className:"text-xl font-bold text-white flex items-center space-x-2",children:[(0,a.jsx)(el.Z,{className:"h-5 w-5 text-blue-400"}),(0,a.jsxs)("span",{children:["Assign Female Profile - Slot ",S]})]}),N&&(0,a.jsxs)("div",{className:"text-gray-400 text-sm",children:["Assigning to: ",N.full_name," (",N.subscription_type," plan)"]})]}),N&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(ee.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(G,{placeholder:"Search female profiles by name, email, university, or bio...",value:eo,onChange:e=>em(e.target.value),className:"pl-10 bg-white/5 border-white/20 text-white placeholder-gray-400"}),eo&&(0,a.jsx)("button",{onClick:()=>em(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:(0,a.jsx)(es.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,a.jsx)("span",{className:"text-white font-medium",children:ey(N).length}),eo?" matching profiles":" available profiles"]})]}),eo&&0===ey(N).length&&(0,a.jsx)("div",{className:"mt-3 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(ec.Z,{className:"h-4 w-4 text-yellow-400 mr-2"}),(0,a.jsx)("span",{className:"text-yellow-300 text-sm",children:"No profiles match your search. Try different keywords or clear the search."})]})}),eo&&(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-400",children:"\uD83D\uDCA1 Tip: Search by name, university, interests in bio, or any keyword"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:ey(N).map(e=>(0,a.jsx)(e_,{female:e,onAssign:()=>ep(N.id,e.id),loading:A},e.id))}),0===ey(N).length&&!eo&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(ed.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-white font-medium",children:"No available female profiles"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"All female profiles have been assigned or disengaged by this user"})]})]})]})})]})}function ef(e){let{users:s,onAssignProfile:t,onUserAction:r,actionLoading:l}=e;return(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"User Details"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Round Info"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Assign Slot 1"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Assign Slot 2"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Assign Slot 3"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Selected/Timer"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Status"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:s.map((e,s)=>(0,a.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:s+1}),(0,a.jsxs)(g.qE,{className:"h-12 w-12",children:[(0,a.jsx)(g.F$,{src:e.profile_photo}),(0,a.jsx)(g.Q5,{children:e.full_name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.full_name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.email}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:e.university}),(0,a.jsx)("div",{className:"flex items-center space-x-2 mt-1",children:(0,a.jsxs)(u.C,{className:"bg-purple-500/20 text-purple-400 border-purple-500/50 text-xs",children:[(0,a.jsx)(ea.Z,{className:"h-2 w-2 mr-1"}),"Premium"]})})]})]})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(eN,{user:e})}),1===e.current_round?(0,a.jsxs)(a.Fragment,{children:[[1,2].map(s=>(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(ey,{user:e,slot:s,onAssign:()=>t(e,s),onAction:r,actionLoading:l})},s)),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Round 2 Slot"})})]}):(0,a.jsx)(a.Fragment,{children:[1,2,3].map(s=>(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(ey,{user:e,slot:s,onAssign:()=>t(e,s),onAction:r,actionLoading:l})},s))}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(ew,{user:e,onUserAction:r,actionLoading:l})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(ev,{user:e})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(eC,{user:e,onAction:r,actionLoading:l})})]},e.id))})]}),0===s.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(ea.Z,{className:"h-12 w-12 text-purple-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-white font-medium",children:"No premium users found"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Premium users will appear here once they confirm payment"})]})]})}function ej(e){let{users:s,onAssignProfile:t,onUserAction:r,actionLoading:l}=e;return(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"User Details"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Round Info"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Assign Slot"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Selected/Timer"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Status"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:s.map((e,s)=>(0,a.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:s+1}),(0,a.jsxs)(g.qE,{className:"h-12 w-12",children:[(0,a.jsx)(g.F$,{src:e.profile_photo}),(0,a.jsx)(g.Q5,{children:e.full_name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.full_name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.email}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:e.university}),(0,a.jsx)("div",{className:"flex items-center space-x-2 mt-1",children:(0,a.jsxs)(u.C,{className:"bg-blue-500/20 text-blue-400 border-blue-500/50 text-xs",children:[(0,a.jsx)(er.Z,{className:"h-2 w-2 mr-1"}),"Basic"]})})]})]})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(eN,{user:e})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(ey,{user:e,slot:1,onAssign:()=>t(e,1),onAction:r,actionLoading:l})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(ew,{user:e,onUserAction:r,actionLoading:l})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(ev,{user:e})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(eC,{user:e,onAction:r,actionLoading:l})})]},e.id))})]}),0===s.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(er.Z,{className:"h-12 w-12 text-blue-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-white font-medium",children:"No basic users found"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Basic users will appear here once they confirm payment"})]})]})}function eN(e){let{user:s}=e;return(()=>{let e="premium"===s.subscription_type?1===s.current_round?2:3:1;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(u.C,{className:"text-xs ".concat(1===s.current_round?"bg-blue-500/20 text-blue-400 border-blue-500/50":"bg-green-500/20 text-green-400 border-green-500/50"),children:["Round ",s.current_round]}),(0,a.jsxs)(u.C,{className:"bg-gray-500/20 text-gray-400 border-gray-500/50 text-xs",children:["Max ",e]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:["R1: ",s.round_1_completed?"✅":"⏳"," | R2: ",s.round_2_completed?"✅":2===s.current_round?"⏳":"⭕"]}),s.roundInfo.canProgressToRound2&&(0,a.jsx)("div",{className:"text-xs text-yellow-400",children:"\uD83D\uDD04 Can progress to R2"})]})})()}function ey(e){var s,t;let{user:r,slot:l,onAssign:i,onAction:n,actionLoading:c}=e,d=r.assignments.filter(e=>e.round_number===r.current_round&&"assigned"===e.status),o=d[l-1];return r.selectedAssignment&&r.hasActiveTimer?r.selectedAssignment.id===(null==o?void 0:o.id)?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),(0,a.jsxs)(g.qE,{className:"h-8 w-8",children:[(0,a.jsx)(g.F$,{src:null===(s=r.selectedAssignment.female_user)||void 0===s?void 0:s.profile_photo}),(0,a.jsx)(g.Q5,{children:"S"})]}),(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsx)("div",{className:"text-yellow-400 font-medium",children:"Selected"}),(0,a.jsx)("div",{className:"text-gray-400",children:"Timer Active"})]})]}):(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Hidden (Timer active)"}):o?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(g.qE,{className:"h-8 w-8",children:[(0,a.jsx)(g.F$,{src:null===(t=o.female_user)||void 0===t?void 0:t.profile_photo}),(0,a.jsx)(g.Q5,{children:"F"})]}),(0,a.jsxs)(h.z,{onClick:()=>n("select_profile",r.id,o.female_user_id),disabled:c==="select_profile-".concat(r.id)||r.hasActiveTimer,variant:"outline",size:"sm",className:"border-green-500 text-green-400 hover:bg-green-500/10",children:[(0,a.jsx)(eo.Z,{className:"h-3 w-3 mr-1"}),"Select"]})]}):r.availableSlots>0&&l<=r.maxAssignments?(0,a.jsxs)(h.z,{onClick:i,variant:"outline",size:"sm",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",disabled:r.hasActiveTimer,children:[(0,a.jsx)(em.Z,{className:"h-3 w-3 mr-1"}),"Assign"]}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:l>r.maxAssignments?"N/A":"Empty"})}function ew(e){var s,t,l,i,n;let{user:c,onUserAction:d,actionLoading:o}=e,[m,x]=(0,r.useState)("");return((0,r.useEffect)(()=>{if(c.hasActiveTimer&&c.decisionExpiresAt){let e=setInterval(()=>{let s=new Date().getTime(),t=new Date(c.decisionExpiresAt).getTime(),a=t-s;a>0?x("".concat(Math.floor(a/36e5),"h ").concat(Math.floor(a%36e5/6e4),"m ").concat(Math.floor(a%6e4/1e3),"s")):(x("EXPIRED"),clearInterval(e))},1e3);return()=>clearInterval(e)}},[c.hasActiveTimer,c.decisionExpiresAt]),c.permanentMatch)?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(g.qE,{className:"h-8 w-8",children:[(0,a.jsx)(g.F$,{src:null===(s=c.permanentMatch.female_user)||void 0===s?void 0:s.profile_photo}),(0,a.jsx)(g.Q5,{children:"M"})]}),(0,a.jsxs)(u.C,{className:"bg-pink-500/20 text-pink-400 border-pink-500/50",children:[(0,a.jsx)(en.Z,{className:"h-2 w-2 mr-1"}),"Matched"]})]}):c.currentTempMatch?(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(g.qE,{className:"h-8 w-8",children:[(0,a.jsx)(g.F$,{src:null===(t=c.currentTempMatch.female_user)||void 0===t?void 0:t.profile_photo}),(0,a.jsx)(g.Q5,{children:"T"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-white text-sm font-medium",children:null===(l=c.currentTempMatch.female_user)||void 0===l?void 0:l.full_name}),(0,a.jsxs)(u.C,{className:"bg-green-500/20 text-green-400 border-green-500/50 text-xs",children:[(0,a.jsx)(ex.Z,{className:"h-2 w-2 mr-1"}),"Auto Match Process"]})]})]})}):c.selectedAssignment&&c.hasActiveTimer?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(g.qE,{className:"h-10 w-10",children:[(0,a.jsx)(g.F$,{src:null===(i=c.selectedAssignment.female_user)||void 0===i?void 0:i.profile_photo}),(0,a.jsx)(g.Q5,{children:"S"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-white text-sm font-medium",children:null===(n=c.selectedAssignment.female_user)||void 0===n?void 0:n.full_name}),(0,a.jsxs)(u.C,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/50 text-xs",children:[(0,a.jsx)(ex.Z,{className:"h-2 w-2 mr-1"}),"Decision Timer Active"]})]})]}),(0,a.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-yellow-400 text-xs font-medium",children:"Timer: Auto-confirm if no disengage"}),(0,a.jsx)("div",{className:"text-yellow-300 text-sm font-mono",children:m})]}),(0,a.jsx)(X,{value:c.timeRemaining?Math.max(0,c.timeRemaining/1728e5*100):0,className:"h-2"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)(h.z,{onClick:()=>d("confirm_match",c.id,c.selectedAssignment.female_user_id),disabled:o==="confirm_match-".concat(c.id),size:"sm",className:"bg-green-600 hover:bg-green-700 text-white text-xs",children:[(0,a.jsx)(en.Z,{className:"h-3 w-3 mr-1"}),"Confirm Match"]}),(0,a.jsxs)(S,{children:[(0,a.jsx)(Z,{asChild:!0,children:(0,a.jsxs)(h.z,{variant:"outline",size:"sm",className:"border-red-500 text-red-400 hover:bg-red-500/10 text-xs",children:[(0,a.jsx)(ed.Z,{className:"h-3 w-3 mr-1"}),"Disengage"]})}),(0,a.jsxs)(E,{className:"bg-gray-900 border-gray-700",children:[(0,a.jsxs)(U,{children:[(0,a.jsx)(R,{className:"text-white",children:"⚠️ Confirm Disengagement"}),(0,a.jsx)(T,{className:"text-gray-400",children:"Are you sure you want to disengage? This will stop the timer and show other profiles again."})]}),(0,a.jsxs)(z,{children:[(0,a.jsx)(L,{className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),(0,a.jsx)(D,{onClick:()=>d("disengage_profile",c.id,c.selectedAssignment.female_user_id),className:"bg-red-600 hover:bg-red-700",children:"Yes, Disengage"})]})]})]})]})]}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"No selection"})}function ev(e){let{user:s}=e;return(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(u.C,{className:(e=>{switch(e){case"permanently_matched":return"bg-pink-500/20 text-pink-400 border-pink-500/50";case"temporary_match":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/50";case"deciding":return"bg-orange-500/20 text-orange-400 border-orange-500/50";case"assigned":return"bg-green-500/20 text-green-400 border-green-500/50";default:return"bg-gray-500/20 text-gray-400 border-gray-500/50"}})(s.status),children:[(e=>{switch(e){case"permanently_matched":return(0,a.jsx)(en.Z,{className:"h-3 w-3 mr-1"});case"temporary_match":return(0,a.jsx)(ex.Z,{className:"h-3 w-3 mr-1"});case"deciding":return(0,a.jsx)(eh.Z,{className:"h-3 w-3 mr-1"});case"assigned":return(0,a.jsx)(eu.Z,{className:"h-3 w-3 mr-1"});case"waiting":return(0,a.jsx)(ei.Z,{className:"h-3 w-3 mr-1"});default:return(0,a.jsx)(ec.Z,{className:"h-3 w-3 mr-1"})}})(s.status),(e=>{switch(e){case"permanently_matched":return"Permanently Matched";case"temporary_match":return"Temporary Match";case"deciding":return"Making Decision";case"assigned":return"Has Assignments";case"waiting":return"Waiting for Assignment";default:return"Unknown Status"}})(s.status)]}),s.hasActiveTimer&&s.decisionExpiresAt&&(0,a.jsxs)("div",{className:"text-xs text-yellow-400",children:[(0,a.jsx)(ex.Z,{className:"h-3 w-3 inline mr-1"}),"Expires: ",new Date(s.decisionExpiresAt).toLocaleString()]}),(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:[s.assignedCount,"/",s.maxAssignments," assigned"]})]})}function eC(e){let{user:s,onAction:t,actionLoading:r}=e;return(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[s.roundInfo.canProgressToRound2&&(0,a.jsxs)(h.z,{onClick:()=>t("progress_to_round_2",s.id),disabled:r==="progress_to_round_2-".concat(s.id),variant:"outline",size:"sm",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",children:[(0,a.jsx)(eg.Z,{className:"h-3 w-3 mr-1"}),"Round 2"]}),s.currentTempMatch&&!s.hasActiveTimer&&(0,a.jsxs)(h.z,{onClick:()=>t("confirm_match",s.id,s.currentTempMatch.female_user_id),disabled:r==="confirm_match-".concat(s.id),variant:"outline",size:"sm",className:"border-pink-500 text-pink-400 hover:bg-pink-500/10",children:[(0,a.jsx)(en.Z,{className:"h-3 w-3 mr-1"}),"Confirm"]}),(0,a.jsxs)(S,{children:[(0,a.jsx)(Z,{asChild:!0,children:(0,a.jsxs)(h.z,{variant:"outline",size:"sm",className:"border-red-500 text-red-400 hover:bg-red-500/10",children:[(0,a.jsx)(ep.Z,{className:"h-3 w-3 mr-1"}),"Reset"]})}),(0,a.jsxs)(E,{className:"bg-gray-900 border-gray-700",children:[(0,a.jsxs)(U,{children:[(0,a.jsx)(R,{className:"text-white",children:"Reset User History"}),(0,a.jsx)(T,{className:"text-gray-400",children:"This will permanently delete all assignments, matches, and reset the user to Round 1. This action cannot be undone."})]}),(0,a.jsxs)(z,{children:[(0,a.jsx)(L,{className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),(0,a.jsx)(D,{onClick:()=>t("clear_history",s.id),className:"bg-red-600 hover:bg-red-700",children:"Reset User"})]})]})]})]})}function e_(e){let{female:s,onAssign:t,loading:r}=e;return(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-white/20 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsxs)(g.qE,{className:"h-16 w-16 mx-auto mb-3",children:[(0,a.jsx)(g.F$,{src:s.profile_photo}),(0,a.jsx)(g.Q5,{children:s.full_name.charAt(0)})]}),(0,a.jsx)("h3",{className:"text-white font-medium",children:s.full_name}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:[s.age," years"]}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:s.university})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Currently Assigned:"}),(0,a.jsx)(u.C,{className:"bg-blue-500/20 text-blue-400 border-blue-500/50",children:s.currentlyAssignedCount})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Selected Count:"}),(0,a.jsx)(u.C,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/50",children:s.selectedCount})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Permanent Matches:"}),(0,a.jsx)(u.C,{className:"bg-pink-500/20 text-pink-400 border-pink-500/50",children:s.permanentMatchCount})]})]}),(0,a.jsxs)(h.z,{onClick:t,disabled:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[r?(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,a.jsx)(em.Z,{className:"h-4 w-4 mr-2"}),r?"Assigning...":"Assign Profile"]})]})}var ek=t(99716),eS=t(70804),eZ=t(6673),eA=t(58783),eP=t(28213),eE=t(83114),eU=t(49036),ez=t(90998),eR=t(97332),eT=t(51841),eD=t(95099),eL=t(73067),eM=t(71738),eO=t(29409),eI=t(76637),eF=t(99670),eV=t(53711),eY=t(42482),eB=t(4689),eJ=t(71813),eq=t(9534),eQ=t(45367),e$=t(41298),eH=t(236),eW=t(86161),eG=t(67972),eX=t(1295),eK=t(33344),e0=t(9865),e4=t(12741),e2=t(36539),e1=t(28203),e5=t(71357),e3=t(53589),e6=t(92295),e8=t(5026),e9=t(61195),e7=t(35817);let se=e=>{if(!e)return null;if(e.startsWith("http")||e.startsWith("https"))return e;let{data:s}=d.O.storage.from("payment-proofs").getPublicUrl(e);return s.publicUrl};function ss(){let{data:e}=(0,n.useSession)(),s=(0,c.useRouter)(),[t,i]=(0,r.useState)([]),[d,o]=(0,r.useState)(!0),[x,h]=(0,r.useState)(!1),[u,g]=(0,r.useState)(""),[p,b]=(0,r.useState)(""),[f,N]=(0,r.useState)({gender:"all",status:"all",verification:"all",subscription:"all",payment:"all",university:"",age_range:{min:18,max:30},date_range:{start:"",end:""},sort_by:"created_at",sort_order:"desc"}),[y,_]=(0,r.useState)("users"),[k,S]=(0,r.useState)(null),[Z,A]=(0,r.useState)(!1),[P,E]=(0,r.useState)(!1),[U,z]=(0,r.useState)(!1),[R,T]=(0,r.useState)(null),[D,L]=(0,r.useState)(null),[M,O]=(0,r.useState)(new Set),[I,F]=(0,r.useState)("table"),[V,Y]=(0,r.useState)(!1),[B,J]=(0,r.useState)(!1),[q,Q]=(0,r.useState)(null),[$,H]=(0,r.useState)(1),[W,G]=(0,r.useState)(25),[X,ee]=(0,r.useState)(0),[es,et]=(0,r.useState)([]),[ea,el]=(0,r.useState)(""),[ei,ec]=(0,r.useState)("system"),[ed,eo]=(0,r.useState)(!1),[em,ex]=(0,r.useState)(null),[eh,eu]=(0,r.useState)(""),[eg,ep]=(0,r.useState)(!0),[ef,ej]=(0,r.useState)(!1),[eN,ey]=(0,r.useState)(!1),[ew,ev]=(0,r.useState)(null),[eC,e_]=(0,r.useState)(0),[eS,eA]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=setTimeout(()=>{d&&(console.warn("Loading timeout reached, forcing loading to false"),o(!1))},1e4);return()=>clearTimeout(e)},[d]);let eP=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{let s=Date.now();if(!e&&eC&&s-eC<12e4&&t.length>0){console.log("Using cached data, skipping fetch");return}let a=new URLSearchParams;a.append("page",$.toString()),a.append("limit",W.toString()),a.append("search",p),Object.entries(f).forEach(e=>{let[s,t]=e;"string"==typeof t&&t?a.append(s,t):"object"==typeof t&&null!==t&&a.append(s,JSON.stringify(t))});let r=await fetch("/api/admin/users?".concat(a));if(r.ok){let e=await r.json();i(e.users||[]),ee(e.total||0),ev(new Date),e_(s),console.log("Data fetched successfully at",new Date().toLocaleTimeString())}else throw console.error("Failed to fetch users:",r.status,r.statusText),Error("API responded with ".concat(r.status))}catch(e){console.error("Error fetching users:",e),i([]),ee(0)}},[$,W,p,f,eC,t.length]),eE=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return eP(e)},[eP]);(0,r.useCallback)(async()=>{try{let e=await fetch("/api/admin/system-settings");if(e.ok){let s=await e.json();s.success&&(ep(s.settings.boys_registration_enabled),ej(s.settings.maintenance_mode))}else console.error("Failed to fetch system settings:",e.status)}catch(e){console.error("Error fetching system settings:",e),ep(!0),ej(!1)}},[]);let eY=(0,r.useCallback)(async()=>{h(!0);try{await eE(!0)}finally{h(!1)}},[eE]),eB=(0,r.useCallback)(async()=>{console.log("Initializing admin panel..."),o(!0);try{console.log("Starting parallel fetch operations...");try{let e=await fetch("/api/admin/system-settings");if(e.ok){let s=await e.json();s.success&&(ep(s.settings.boys_registration_enabled),ej(s.settings.maintenance_mode))}}catch(e){console.error("Error fetching system settings:",e)}try{let e=await fetch("/api/admin/users?page=1&limit=10");if(e.ok){let s=await e.json();i(s.users||[]),ee(s.total||0),ev(new Date),e_(Date.now())}}catch(e){console.error("Error fetching users:",e),i([]),ee(0)}console.log("Admin panel initialization completed successfully")}catch(e){console.error("Failed to initialize admin panel:",e)}finally{o(!1),console.log("Loading state cleared")}},[]);(0,r.useEffect)(()=>{var t,a;if(console.log("Session check running:",{session:null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.email}),!(null==e?void 0:null===(a=e.user)||void 0===a?void 0:a.email)){console.log("No session found, redirecting to login"),s.push("/");return}if("cufy.online@gmail.com"!==e.user.email){console.log("Not admin user, redirecting to dashboard"),s.push("/dashboard");return}console.log("Admin user confirmed, initializing panel"),eB()},[e,s,eB]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{b(u),H(1)},1200);return()=>clearTimeout(e)},[u]);let eJ=async e=>{try{let s=await fetch("/api/admin/notes?user_id=".concat(e));if(s.ok){let e=await s.json();et(e)}}catch(e){console.error("Error fetching admin notes:",e)}},eq=async(e,s,t)=>{try{let a=await fetch("/api/admin/user-actions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,action:s,data:t})});if(a.ok)return await eE(),!0;return!1}catch(e){return console.error("Error performing user action:",e),!1}},eQ=async(e,s)=>{try{L(e),console.log("Confirming payment for user:",e,"amount:",s);let t=await fetch("/api/admin/payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,action:"confirm"})}),a=await t.json();if(console.log("Payment confirmation result:",a),t.ok&&a.success)return alert("Payment confirmed successfully!"),await eE(),!0;return alert(a.error||"Failed to confirm payment. Please try again."),!1}catch(e){return console.error("Error confirming payment:",e),alert("Error confirming payment. Please try again."),!1}finally{L(null)}},e$=async(e,s,t)=>await eq(e,"suspend",{reason:s,duration:t}),eH=async(e,s)=>await eq(e,"ban",{reason:s}),eW=async e=>{try{let s=await fetch("/api/admin/users/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})}),t=await s.json();if(t.success)return await eE(),alert("User deleted successfully!"),!0;return alert(t.error||"Failed to delete user"),!1}catch(e){return console.error("Error deleting user:",e),alert("An error occurred while deleting the user"),!1}},eG=async(s,t)=>{try{var a;let r=null==e?void 0:null===(a=e.user)||void 0===a?void 0:a.email;if(!r)return alert("Admin authentication required"),!1;let l=await fetch("/api/admin/users/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s,adminEmail:r,updates:t})}),i=await l.json();if(i.user)return await eE(),alert("User updated successfully!"),!0;return alert(i.error||"Failed to update user"),!1}catch(e){return console.error("Error updating user:",e),alert("An error occurred while updating the user"),!1}},eX=async e=>await eq(e,"verify"),eK=async e=>await eq(e,"reset_password"),e0=async(e,s,t)=>{try{let a=await fetch("/api/admin/bulk-actions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,userIds:Array.from(s),data:t})});if(a.ok)return await eE(),O(new Set),!0;return!1}catch(e){return console.error("Error performing bulk action:",e),!1}},e4=async(e,s,t)=>{eo(!0);try{let a=await fetch("/api/admin/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,note:s,type:t})});a.ok&&(await eJ(e),el(""),ec("system"))}catch(e){console.error("Error adding admin note:",e)}finally{eo(!1)}},e2=async(e,s)=>{try{let t=await fetch("/api/admin/notes/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:s})});t.ok&&k&&(await eJ(k.id),ex(null),eu(""))}catch(e){console.error("Error updating admin note:",e)}},e1=async e=>{try{let s=await fetch("/api/admin/notes/".concat(e),{method:"DELETE"});s.ok&&k&&await eJ(k.id)}catch(e){console.error("Error deleting admin note:",e)}},e5=(0,r.useMemo)(()=>t.filter(e=>{if(u){var s,t;let a=u.toLowerCase(),r=e.full_name.toLowerCase().includes(a)||e.email.toLowerCase().includes(a)||e.university.toLowerCase().includes(a)||(null===(s=e.phone_number)||void 0===s?void 0:s.toLowerCase().includes(a))||(null===(t=e.instagram)||void 0===t?void 0:t.toLowerCase().includes(a));if(!r)return!1}return("all"===f.gender||e.gender===f.gender)&&("all"===f.status||e.status===f.status)&&("all"===f.verification||e.verification_status===f.verification)&&("all"===f.subscription||("none"!==f.subscription||!e.subscription_type)&&("none"===f.subscription||e.subscription_type===f.subscription))&&("all"===f.payment||("confirmed"!==f.payment||!!e.payment_confirmed)&&("review"!==f.payment||!!e.payment_proof_url&&!e.payment_confirmed)&&("none"!==f.payment||!e.payment_confirmed&&!e.payment_proof_url))&&(!f.university||!!e.university.toLowerCase().includes(f.university.toLowerCase()))&&!(e.age<f.age_range.min)&&!(e.age>f.age_range.max)}),[t,u,f]),e3=(0,r.useMemo)(()=>{let e=($-1)*W;return e5.slice(e,e+W)},[e5,$,W]),e6=Math.ceil(e5.length/W);(0,r.useEffect)(()=>{let e=()=>{eA(!document.hidden)};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),(0,r.useEffect)(()=>{if(!eN||!eS)return;let e=setInterval(()=>{d||x||!eS||(h(!0),eE(!0).finally(()=>h(!1)))},12e4);return()=>clearInterval(e)},[eN,d,x,eE,eS]),(0,r.useEffect)(()=>{let e=e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"f":var s;e.preventDefault(),null===(s=document.getElementById("search-input"))||void 0===s||s.focus();break;case"r":e.preventDefault(),eY();break;case"a":e.preventDefault(),e.shiftKey&&O(new Set(e5.map(e=>e.id)))}"Escape"===e.key&&(O(new Set),A(!1),E(!1))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[e5,eY]);let e8=async e=>{S(e),await eJ(e.id),A(!0)};return d?(0,a.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-gray-600 border-t-white rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white text-lg font-medium",children:"Loading Admin Panel..."}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Initializing dashboard components"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-black ".concat(B?"fixed inset-0 z-50":""),children:[(0,a.jsx)(l.E.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-black/95 backdrop-blur-xl border-b border-gray-800 sticky top-0 z-40 shadow-2xl",children:(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg border border-gray-700",children:(0,a.jsx)(eU.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Admin Panel"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Professional user management system"})]})]}),ew&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,a.jsx)(ez.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Last updated: ",ew.toLocaleTimeString()]}),x&&(0,a.jsx)("div",{className:"w-3 h-3 border border-purple-400 border-t-transparent rounded-full animate-spin"})]}),eC&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-green-400",children:[(0,a.jsx)(eR.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Cache: ",Math.round((Date.now()-eC)/1e3),"s ago"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(eZ.z,{onClick:()=>ey(!eN),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10 ".concat(eN?"bg-green-500/20 border-green-500":"bg-gray-500/20 border-gray-500"),children:[(0,a.jsx)(ez.Z,{className:"h-4 w-4 mr-2"}),"Real-time ",eN?"ON":"OFF (Performance Mode)"]}),(0,a.jsxs)(eZ.z,{onClick:eY,disabled:x,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[(0,a.jsx)(K.Z,{className:"h-4 w-4 mr-2 ".concat(x?"animate-spin":"")}),"Refresh"]}),(0,a.jsx)(eZ.z,{onClick:()=>J(!B),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:B?(0,a.jsx)(eT.Z,{className:"h-4 w-4"}):(0,a.jsx)(eD.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(eZ.z,{onClick:()=>(0,n.signOut)({callbackUrl:"/"}),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[(0,a.jsx)(eL.Z,{className:"h-4 w-4 mr-2"}),"Exit Admin"]})]})]})})}),(0,a.jsx)("div",{className:"px-6 py-6",children:(0,a.jsxs)(ek.mQ,{value:"dashboard"===y?"users":y,onValueChange:_,className:"w-full",children:[(0,a.jsxs)(ek.dr,{className:"grid w-full grid-cols-5 bg-black/90 backdrop-blur-xl border border-gray-800 mb-6",children:[(0,a.jsxs)(ek.SP,{value:"users",className:"data-[state=active]:bg-gray-800 text-white",children:[(0,a.jsx)(er.Z,{className:"h-4 w-4 mr-2"}),"Users (",X,")"]}),(0,a.jsxs)(ek.SP,{value:"matches",className:"data-[state=active]:bg-gray-800 text-white",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4 mr-2"}),"Matches"]}),(0,a.jsxs)(ek.SP,{value:"payments",className:"data-[state=active]:bg-gray-800 text-white",children:[(0,a.jsx)(eM.Z,{className:"h-4 w-4 mr-2"}),"Payments"]}),(0,a.jsxs)(ek.SP,{value:"system",className:"data-[state=active]:bg-gray-800 text-white",children:[(0,a.jsx)(eO.Z,{className:"h-4 w-4 mr-2"}),"System"]}),(0,a.jsxs)(ek.SP,{value:"logs",className:"data-[state=active]:bg-gray-800 text-white",children:[(0,a.jsx)(eI.Z,{className:"h-4 w-4 mr-2"}),"Logs"]})]}),(0,a.jsx)(ek.nU,{value:"users",children:(0,a.jsx)(st,{users:e3,filteredUsers:e5,totalUsers:X,searchTerm:u,setSearchTerm:g,filters:f,setFilters:N,selectedUsers:M,setSelectedUsers:O,viewMode:I,setViewMode:F,showAdvancedFilters:V,setShowAdvancedFilters:Y,currentPage:$,setCurrentPage:H,usersPerPage:W,setUsersPerPage:G,totalPages:e6,onUserSelect:(e,s)=>{let t=new Set(M);s?t.add(e):t.delete(e),O(t)},onSelectAll:e=>{e?O(new Set(e3.map(e=>e.id))):O(new Set)},onUserDetail:e8,onPaymentDetail:e=>{S(e),E(!0)},onBulkAction:e0,onDeleteUser:eW})}),(0,a.jsx)(ek.nU,{value:"matches",children:(0,a.jsx)(eb,{})}),(0,a.jsx)(ek.nU,{value:"payments",children:(0,a.jsx)(sl,{users:t,onConfirmPayment:eQ,paymentLoading:D,setSelectedPaymentProof:T})}),(0,a.jsx)(ek.nU,{value:"system",children:(0,a.jsx)(si,{boysRegistrationEnabled:eg,setBoysRegistrationEnabled:ep,systemMaintenanceMode:ef,setSystemMaintenanceMode:ej})}),(0,a.jsx)(ek.nU,{value:"logs",children:(0,a.jsx)(sn,{})})]})}),(0,a.jsx)(sc,{user:k,open:Z,onOpenChange:A,adminNotes:es,newNote:ea,setNewNote:el,newNoteType:ei,setNewNoteType:ec,isAddingNote:ed,editingNoteId:em,editingNoteText:eh,setEditingNoteId:ex,setEditingNoteText:eu,onAddNote:e4,onUpdateNote:e2,onDeleteNote:e1,onConfirmPayment:eQ,onSuspendUser:e$,onBanUser:eH,onDeleteUser:eW,onEditUser:eG,onVerifyUser:eX,onResetPassword:eK,setSelectedFullPhoto:Q}),(0,a.jsx)(so,{user:k,open:P,onOpenChange:E,onConfirmPayment:eQ}),(0,a.jsx)(sm,{open:U,onOpenChange:z,selectedUsers:M,onBulkAction:e0}),(0,a.jsx)(j,{open:!!R,onOpenChange:()=>T(null),children:(0,a.jsxs)(w,{className:"max-w-4xl max-h-[90vh] bg-gray-900/95 backdrop-blur-xl border border-gray-700",children:[(0,a.jsx)(v,{children:(0,a.jsxs)(C,{className:"text-xl font-bold text-white flex items-center space-x-2",children:[(0,a.jsx)(eF.Z,{className:"h-5 w-5 text-blue-400"}),(0,a.jsxs)("span",{children:["Payment Proof - ",null==R?void 0:R.user]})]})}),(0,a.jsx)("div",{className:"flex items-center justify-center p-4 bg-black/50 rounded-lg",children:(null==R?void 0:R.url)&&(0,a.jsx)(m(),{src:R.url,alt:"Payment Proof",width:800,height:600,className:"max-w-full max-h-[70vh] object-contain rounded-lg",style:{width:"auto",height:"auto"}})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsxs)(eZ.z,{onClick:()=>window.open(null==R?void 0:R.url,"_blank"),variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",children:[(0,a.jsx)(eV.Z,{className:"h-4 w-4 mr-2"}),"Open in New Tab"]}),(0,a.jsx)(eZ.z,{onClick:()=>T(null),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Close"})]})]})}),(0,a.jsx)(sd,{photo:q,open:!!q,onOpenChange:()=>Q(null)})]})}function st(e){let{users:s,filteredUsers:t,totalUsers:r,searchTerm:n,setSearchTerm:c,filters:d,setFilters:o,selectedUsers:m,setSelectedUsers:x,viewMode:h,setViewMode:u,showAdvancedFilters:g,setShowAdvancedFilters:p,currentPage:b,setCurrentPage:f,usersPerPage:j,setUsersPerPage:N,totalPages:y,onUserSelect:w,onSelectAll:v,onUserDetail:C,onPaymentDetail:_,onBulkAction:k,onDeleteUser:S}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between bg-black/40 backdrop-blur-xl border border-white/10 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"text-white text-sm",children:["Showing ",(b-1)*j+1," to ",Math.min(b*j,t.length)," of ",t.length," users"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eZ.z,{onClick:()=>f(Math.max(1,b-1)),disabled:1===b,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:(0,a.jsx)(eL.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("span",{className:"text-white px-3 py-1",children:["Page ",b," of ",y]}),(0,a.jsx)(eZ.z,{onClick:()=>f(Math.min(y,b+1)),disabled:b===y,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:(0,a.jsx)(eg.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(eS.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsxs)(eS.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,a.jsx)("div",{className:"flex-1 max-w-md",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(ee.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(eA.I,{id:"search-input",placeholder:"Search users by name, email, university...",value:n,onChange:e=>c(e.target.value),className:"pl-10 bg-white/5 border-white/20 text-white placeholder-gray-400"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(eZ.z,{onClick:()=>p(!g),variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[(0,a.jsx)(eY.Z,{className:"h-4 w-4 mr-2"}),"Advanced Filters",g?(0,a.jsx)(I.Z,{className:"h-4 w-4 ml-2"}):(0,a.jsx)(O.Z,{className:"h-4 w-4 ml-2"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 border border-white/20 rounded-lg p-1",children:[(0,a.jsx)(eZ.z,{onClick:()=>u("table"),variant:"table"===h?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,a.jsx)(eB.Z,{className:"h-4 w-4"})}),(0,a.jsx)(eZ.z,{onClick:()=>u("grid"),variant:"grid"===h?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,a.jsx)(eJ.Z,{className:"h-4 w-4"})})]}),m.size>0&&(0,a.jsxs)(eZ.z,{variant:"outline",size:"sm",className:"border-purple-500 text-purple-400 hover:bg-purple-500/10",children:[(0,a.jsx)(eq.Z,{className:"h-4 w-4 mr-2"}),"Bulk Actions (",m.size,")"]})]})]}),(0,a.jsx)(i.M,{children:g&&(0,a.jsx)(l.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-6 pt-6 border-t border-white/10",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Gender"}),(0,a.jsxs)(V,{value:d.gender,onValueChange:e=>o({...d,gender:e}),children:[(0,a.jsx)(B,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)(Q,{children:[(0,a.jsx)(H,{value:"all",children:"All Genders"}),(0,a.jsx)(H,{value:"male",children:"Male"}),(0,a.jsx)(H,{value:"female",children:"Female"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Status"}),(0,a.jsxs)(V,{value:d.status,onValueChange:e=>o({...d,status:e}),children:[(0,a.jsx)(B,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)(Q,{children:[(0,a.jsx)(H,{value:"all",children:"All Status"}),(0,a.jsx)(H,{value:"active",children:"Active"}),(0,a.jsx)(H,{value:"suspended",children:"Suspended"}),(0,a.jsx)(H,{value:"banned",children:"Banned"}),(0,a.jsx)(H,{value:"pending",children:"Pending"}),(0,a.jsx)(H,{value:"Match Found",children:"Match Found"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Verification"}),(0,a.jsxs)(V,{value:d.verification,onValueChange:e=>o({...d,verification:e}),children:[(0,a.jsx)(B,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)(Q,{children:[(0,a.jsx)(H,{value:"all",children:"All Verification"}),(0,a.jsx)(H,{value:"verified",children:"Verified"}),(0,a.jsx)(H,{value:"pending",children:"Pending"}),(0,a.jsx)(H,{value:"rejected",children:"Rejected"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Subscription"}),(0,a.jsxs)(V,{value:d.subscription,onValueChange:e=>o({...d,subscription:e}),children:[(0,a.jsx)(B,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)(Q,{children:[(0,a.jsx)(H,{value:"all",children:"All Subscriptions"}),(0,a.jsx)(H,{value:"basic",children:"Basic"}),(0,a.jsx)(H,{value:"premium",children:"Premium"}),(0,a.jsx)(H,{value:"none",children:"No Subscription"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Payment Status"}),(0,a.jsxs)(V,{value:d.payment,onValueChange:e=>o({...d,payment:e}),children:[(0,a.jsx)(B,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)(Q,{children:[(0,a.jsx)(H,{value:"all",children:"All Payments"}),(0,a.jsx)(H,{value:"confirmed",children:"Confirmed"}),(0,a.jsx)(H,{value:"review",children:"Under Review"}),(0,a.jsx)(H,{value:"none",children:"No Payment"})]})]})]})]})})})]})}),(0,a.jsx)(eS.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(eS.aY,{className:"p-0",children:"table"===h?(0,a.jsx)(sa,{users:s,selectedUsers:m,onUserSelect:w,onSelectAll:v,onUserDetail:C,onPaymentDetail:_,onDeleteUser:S}):(0,a.jsx)(sr,{users:s,selectedUsers:m,onUserSelect:w,onUserDetail:C,onPaymentDetail:_,onDeleteUser:S})})})]})}function sa(e){let{users:s,selectedUsers:t,onUserSelect:r,onSelectAll:l,onUserDetail:i,onPaymentDetail:n,onDeleteUser:c}=e;return(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-white/5 border-b border-white/10",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-4",children:(0,a.jsx)("input",{type:"checkbox",checked:s.length>0&&s.every(e=>t.has(e.id)),onChange:e=>l(e.target.checked),className:"rounded border-white/20 bg-white/5 text-gray-400"})}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"User"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Status"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Subscription"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Payment"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Joined"}),(0,a.jsx)("th",{className:"text-left p-4 text-white font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:s.map(e=>(0,a.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("input",{type:"checkbox",checked:t.has(e.id),onChange:s=>r(e.id,s.target.checked),className:"rounded border-white/20 bg-white/5 text-gray-400"})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(g.qE,{className:"h-10 w-10",children:[(0,a.jsx)(g.F$,{src:e.profile_photo}),(0,a.jsx)(g.Q5,{children:e.full_name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.full_name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.email}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.university})]})]})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(eP.C,{variant:"secondary",className:"".concat("active"===e.status?"bg-green-500/20 text-green-400 border-green-500/50":"suspended"===e.status?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"banned"===e.status?"bg-red-500/20 text-red-400 border-red-500/50":"Match Found"===e.status?"bg-emerald-500/20 text-emerald-400 border-emerald-500/50":"bg-gray-500/20 text-gray-400 border-gray-500/50"),children:["Match Found"===e.status&&(0,a.jsx)(en.Z,{className:"h-3 w-3 mr-1"}),e.status]}),(0,a.jsx)(eP.C,{variant:"secondary",className:"".concat("verified"===e.verification_status?"bg-blue-500/20 text-blue-400 border-blue-500/50":"pending"===e.verification_status?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"bg-red-500/20 text-red-400 border-red-500/50"),children:e.verification_status})]})}),(0,a.jsx)("td",{className:"p-4",children:e.subscription_type?(0,a.jsxs)(eP.C,{variant:"secondary",className:"bg-purple-500/20 text-purple-400 border-purple-500/50",children:[(0,a.jsx)(ea.Z,{className:"h-3 w-3 mr-1"}),e.subscription_type]}):(0,a.jsx)("span",{className:"text-gray-400",children:"No subscription"})}),(0,a.jsx)("td",{className:"p-4",children:e.payment_confirmed?(0,a.jsxs)(eP.C,{className:"bg-green-500/20 text-green-400 border-green-500/50",children:[(0,a.jsx)(eu.Z,{className:"h-3 w-3 mr-1"}),"Confirmed"]}):e.payment_proof_url?(0,a.jsxs)(eZ.z,{onClick:()=>n(e),variant:"outline",size:"sm",className:"border-yellow-500 text-yellow-400 hover:bg-yellow-500/10",children:[(0,a.jsx)(ei.Z,{className:"h-3 w-3 mr-1"}),"Review"]}):(0,a.jsx)("span",{className:"text-gray-400",children:"No payment"})}),(0,a.jsxs)("td",{className:"p-4",children:[(0,a.jsx)("p",{className:"text-white text-sm",children:new Date(e.created_at).toLocaleDateString()}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:new Date(e.created_at).toLocaleTimeString()})]}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(eZ.z,{onClick:()=>i(e),variant:"outline",size:"sm",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",children:[(0,a.jsx)(eF.Z,{className:"h-3 w-3 mr-1"}),"View Profile"]}),(0,a.jsxs)(S,{children:[(0,a.jsx)(Z,{asChild:!0,children:(0,a.jsxs)(eZ.z,{variant:"outline",size:"sm",className:"border-red-500 text-red-400 hover:bg-red-500/10",children:[(0,a.jsx)(eQ.Z,{className:"h-3 w-3 mr-1"}),"Delete"]})}),(0,a.jsxs)(E,{className:"bg-gray-900 border-gray-700",children:[(0,a.jsxs)(U,{children:[(0,a.jsx)(R,{className:"text-white",children:"Delete User"}),(0,a.jsxs)(T,{className:"text-gray-400",children:["Are you sure you want to permanently delete ",e.full_name,"? This action cannot be undone."]})]}),(0,a.jsxs)(z,{children:[(0,a.jsx)(L,{className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),(0,a.jsx)(D,{onClick:()=>c(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete User"})]})]})]})]})})]},e.id))})]})})}function sr(e){let{users:s,selectedUsers:t,onUserSelect:r,onUserDetail:i,onPaymentDetail:n,onDeleteUser:c}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 p-6",children:s.map(e=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-white/20 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.has(e.id),onChange:s=>r(e.id,s.target.checked),className:"rounded border-white/20 bg-white/5 text-gray-400"}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)(eZ.z,{onClick:()=>i(e),variant:"outline",size:"sm",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10 h-7 px-2",children:(0,a.jsx)(eF.Z,{className:"h-3 w-3"})}),(0,a.jsxs)(S,{children:[(0,a.jsx)(Z,{asChild:!0,children:(0,a.jsx)(eZ.z,{variant:"outline",size:"sm",className:"border-red-500 text-red-400 hover:bg-red-500/10 h-7 px-2",children:(0,a.jsx)(eQ.Z,{className:"h-3 w-3"})})}),(0,a.jsxs)(E,{className:"bg-gray-900 border-gray-700",children:[(0,a.jsxs)(U,{children:[(0,a.jsx)(R,{className:"text-white",children:"Delete User"}),(0,a.jsxs)(T,{className:"text-gray-400",children:["Are you sure you want to permanently delete ",e.full_name,"? This action cannot be undone."]})]}),(0,a.jsxs)(z,{children:[(0,a.jsx)(L,{className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),(0,a.jsx)(D,{onClick:()=>c(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete User"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsxs)(g.qE,{className:"h-16 w-16 mx-auto mb-3",children:[(0,a.jsx)(g.F$,{src:e.profile_photo}),(0,a.jsx)(g.Q5,{children:e.full_name.charAt(0)})]}),(0,a.jsx)("h3",{className:"text-white font-medium",children:e.full_name}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.age," years"]}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:e.university})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Status:"}),(0,a.jsxs)(eP.C,{variant:"secondary",className:"".concat("active"===e.status?"bg-green-500/20 text-green-400 border-green-500/50":"suspended"===e.status?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"banned"===e.status?"bg-red-500/20 text-red-400 border-red-500/50":"Match Found"===e.status?"bg-emerald-500/20 text-emerald-400 border-emerald-500/50":"bg-gray-500/20 text-gray-400 border-gray-500/50"),children:["Match Found"===e.status&&(0,a.jsx)(en.Z,{className:"h-2 w-2 mr-1"}),e.status]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Payment:"}),e.payment_confirmed?(0,a.jsxs)(eP.C,{className:"bg-green-500/20 text-green-400 border-green-500/50 text-xs",children:[(0,a.jsx)(eu.Z,{className:"h-2 w-2 mr-1"}),"Confirmed"]}):e.payment_proof_url?(0,a.jsx)(eZ.z,{onClick:()=>n(e),variant:"outline",size:"sm",className:"border-yellow-500 text-yellow-400 hover:bg-yellow-500/10 text-xs h-6",children:"Review"}):(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"None"})]})]})]},e.id))})}function sl(e){let{users:s,onConfirmPayment:t,paymentLoading:r,setSelectedPaymentProof:l}=e,i=s.filter(e=>e.payment_proof_url&&!e.payment_confirmed),n=s.filter(e=>e.payment_confirmed),c=s.filter(e=>"basic"===e.subscription_type&&e.payment_confirmed),d=s.filter(e=>"premium"===e.subscription_type&&e.payment_confirmed);console.log("Total users count:",s.length),console.log("Premium users with confirmed payment:",d.length),console.log("Basic users with confirmed payment:",c.length),console.log("Sample users:",s.slice(0,5).map(e=>({email:e.email,subscription_type:e.subscription_type,payment_confirmed:e.payment_confirmed})));let o=n.reduce((e,s)=>"basic"===s.subscription_type?e+99:"premium"===s.subscription_type?e+249:e,0);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[(0,a.jsx)(eS.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(eS.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Pending Reviews"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-400 mt-1",children:i.length})]}),(0,a.jsx)(ei.Z,{className:"h-8 w-8 text-yellow-400/60"})]})})}),(0,a.jsx)(eS.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(eS.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Confirmed Payments"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-400 mt-1",children:n.length})]}),(0,a.jsx)(eu.Z,{className:"h-8 w-8 text-green-400/60"})]})})}),(0,a.jsx)(eS.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(eS.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Paid Basic Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-400 mt-1",children:c.length})]}),(0,a.jsx)(er.Z,{className:"h-8 w-8 text-blue-400/60"})]})})}),(0,a.jsx)(eS.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(eS.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Paid Premium Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-400 mt-1",children:d.length})]}),(0,a.jsx)(ea.Z,{className:"h-8 w-8 text-purple-400/60"})]})})}),(0,a.jsx)(eS.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:(0,a.jsx)(eS.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-emerald-400 mt-1",children:["₹",o.toLocaleString()]})]}),(0,a.jsx)(e$.Z,{className:"h-8 w-8 text-emerald-400/60"})]})})})]}),(0,a.jsxs)(eS.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[(0,a.jsx)(eS.Ol,{children:(0,a.jsxs)(eS.ll,{className:"text-white flex items-center",children:[(0,a.jsx)(ei.Z,{className:"h-5 w-5 mr-2"}),"Pending Payment Reviews (",i.length,")"]})}),(0,a.jsx)(eS.aY,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[i.map(e=>(0,a.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(g.qE,{className:"h-16 w-16",children:[(0,a.jsx)(g.F$,{src:e.profile_photo}),(0,a.jsx)(g.Q5,{children:e.full_name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium text-lg",children:e.full_name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.email}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.university}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)(eP.C,{className:"bg-purple-500/20 text-purple-400",children:[e.subscription_type," plan - ₹","basic"===e.subscription_type?"99":"249"]})})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsxs)(eZ.z,{onClick:()=>t(e.id,"basic"===e.subscription_type?99:249),disabled:r===e.id,className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[r===e.id?(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,a.jsx)(eu.Z,{className:"h-4 w-4 mr-2"}),r===e.id?"Processing...":"Confirm Payment"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-white font-medium mb-3",children:"Payment Proof"}),e.payment_proof_url?(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 text-center",children:[(0,a.jsxs)(eZ.z,{onClick:()=>l({url:e.payment_proof_url?se(e.payment_proof_url):null,user:e.full_name}),variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10 w-full",children:[(0,a.jsx)(eF.Z,{className:"h-4 w-4 mr-2"}),"View Payment Proof"]}),(0,a.jsx)("p",{className:"text-gray-400 text-xs mt-2",children:"Click to view full proof image"})]}):(0,a.jsx)("div",{className:"bg-gray-500/20 border border-gray-500/30 rounded-lg p-6 text-center",children:(0,a.jsx)("p",{className:"text-gray-400",children:"No payment proof uploaded"})})]})]})},e.id)),0===i.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(eu.Z,{className:"h-12 w-12 text-green-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-white font-medium",children:"No pending payment reviews"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"All payments have been processed"})]})]})})]})]})}function si(e){let{boysRegistrationEnabled:s,setBoysRegistrationEnabled:t,systemMaintenanceMode:r,setSystemMaintenanceMode:l}=e;return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(eS.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[(0,a.jsx)(eS.Ol,{children:(0,a.jsx)(eS.ll,{className:"text-white",children:"System Controls"})}),(0,a.jsxs)(eS.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:"Boys Registration"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Control whether new male users can register"})]}),(0,a.jsxs)(eZ.z,{onClick:async()=>{try{let e=await fetch("/api/admin/system-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggle_boys_registration"})}),s=await e.json();s.success?(t(s.new_value),alert(s.message)):alert(s.error||"Failed to toggle boys registration")}catch(e){console.error("Error toggling boys registration:",e),alert("An error occurred while updating the setting")}},variant:"outline",className:"".concat(s?"border-green-500 text-green-400":"border-red-500 text-red-400"),children:[s?(0,a.jsx)(eH.Z,{className:"h-4 w-4 mr-2"}):(0,a.jsx)(eW.Z,{className:"h-4 w-4 mr-2"}),s?"Enabled":"Disabled"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:"Maintenance Mode"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Enable maintenance mode for system updates"})]}),(0,a.jsxs)(eZ.z,{onClick:()=>l(!r),variant:"outline",className:"".concat(r?"border-yellow-500 text-yellow-400":"border-green-500 text-green-400"),children:[r?(0,a.jsx)(ec.Z,{className:"h-4 w-4 mr-2"}):(0,a.jsx)(eu.Z,{className:"h-4 w-4 mr-2"}),r?"Maintenance":"Operational"]})]})]})]})})}function sn(){return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(eS.Zb,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[(0,a.jsx)(eS.Ol,{children:(0,a.jsx)(eS.ll,{className:"text-white",children:"System Logs"})}),(0,a.jsx)(eS.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,a.jsx)("span",{className:"text-white",children:"User registration successful"}),(0,a.jsx)("span",{className:"text-gray-400 text-sm ml-auto",children:"2 minutes ago"})]})}),(0,a.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),(0,a.jsx)("span",{className:"text-white",children:"Payment confirmed for user"}),(0,a.jsx)("span",{className:"text-gray-400 text-sm ml-auto",children:"5 minutes ago"})]})}),(0,a.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),(0,a.jsx)("span",{className:"text-white",children:"Admin login detected"}),(0,a.jsx)("span",{className:"text-gray-400 text-sm ml-auto",children:"10 minutes ago"})]})})]})})]})})}function sc(e){var s;let{user:t,open:l,onOpenChange:i,adminNotes:n,newNote:c,setNewNote:d,newNoteType:o,setNewNoteType:m,isAddingNote:x,editingNoteId:h,editingNoteText:u,setEditingNoteId:p,setEditingNoteText:f,onAddNote:N,onUpdateNote:y,onDeleteNote:_,onConfirmPayment:k,onSuspendUser:A,onBanUser:P,onDeleteUser:M,onEditUser:O,onVerifyUser:I,onResetPassword:F,setSelectedFullPhoto:J}=e,[q,$]=(0,r.useState)(!1),[W,G]=(0,r.useState)({}),[X,K]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&G({name:t.name||"",email:t.email||"",phone:t.phone||"",college:t.college||"",year:t.year||"",course:t.course||"",branch:t.branch||"",age:t.age||"",height:t.height||"",location:t.location||"",interests:t.interests||"",relationship_status:t.relationship_status||"",instagram:t.instagram||"",subscription_type:t.subscription_type||"basic",is_payment_verified:t.is_payment_verified||!1,points:t.points||0,is_active:!1!==t.is_active})},[t]);let ee=async()=>{K(!0);try{let e=await O(t.id,W);e&&$(!1)}catch(e){console.error("Error updating user:",e)}finally{K(!1)}};return t?(0,a.jsx)(j,{open:l,onOpenChange:i,children:(0,a.jsxs)(w,{className:"max-w-7xl max-h-[95vh] bg-black/95 backdrop-blur-xl border border-gray-800",children:[(0,a.jsx)(v,{className:"border-b border-gray-800 pb-4",children:(0,a.jsxs)(C,{className:"text-2xl font-bold text-white flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eG.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{children:["User Profile: ",t.full_name]}),(0,a.jsx)("p",{className:"text-sm text-gray-400 font-normal",children:"Complete user management and information"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 py-6 max-h-[75vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(eS.Zb,{className:"bg-gray-900/80 border-gray-800 shadow-2xl",children:(0,a.jsxs)(eS.aY,{className:"p-8 text-center",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)(g.qE,{className:"h-48 w-48 mx-auto cursor-pointer ring-4 ring-blue-500/20 hover:ring-blue-500/40 transition-all duration-300",onClick:()=>t.profile_photo&&J({url:t.profile_photo,name:t.full_name}),children:[(0,a.jsx)(g.F$,{src:t.profile_photo,className:"object-cover"}),(0,a.jsx)(g.Q5,{className:"text-6xl bg-gradient-to-br from-gray-700 to-gray-800 text-white",children:t.full_name.charAt(0)})]}),t.profile_photo&&(0,a.jsx)("p",{className:"text-gray-400 text-xs mt-3",children:"Click to view full size"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:t.full_name}),(0,a.jsxs)("p",{className:"text-gray-400 text-lg",children:[t.age," years old • ",t.gender]}),(0,a.jsx)("p",{className:"text-blue-400 font-medium",children:t.university})]})]})})}),(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,a.jsxs)(eS.Zb,{className:"bg-gray-900/80 border-gray-800 shadow-xl",children:[(0,a.jsx)(eS.Ol,{className:"border-b border-gray-800",children:(0,a.jsxs)(eS.ll,{className:"text-white text-xl flex items-center",children:[(0,a.jsx)(eX.Z,{className:"h-5 w-5 mr-3 text-blue-400"}),"Contact Information"]})}),(0,a.jsxs)(eS.aY,{className:"p-6 space-y-5",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-5",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Email Address"}),q?(0,a.jsx)(eA.I,{value:W.email,onChange:e=>G({...W,email:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eX.Z,{className:"h-4 w-4 text-blue-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.email})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Full Name"}),q?(0,a.jsx)(eA.I,{value:W.name,onChange:e=>G({...W,name:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eG.Z,{className:"h-4 w-4 text-blue-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.name||t.full_name})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"College"}),q?(0,a.jsx)(eA.I,{value:W.college,onChange:e=>G({...W,college:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eK.Z,{className:"h-4 w-4 text-purple-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.college||t.university})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Year of Study"}),q?(0,a.jsx)(eA.I,{value:W.year,onChange:e=>G({...W,year:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e0.Z,{className:"h-4 w-4 text-green-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.year||t.year_of_study||"Not specified"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Phone Number"}),q?(0,a.jsx)(eA.I,{value:W.phone,onChange:e=>G({...W,phone:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e4.Z,{className:"h-4 w-4 text-orange-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.phone||t.phone_number||"Not provided"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Instagram"}),q?(0,a.jsx)(eA.I,{value:W.instagram,onChange:e=>G({...W,instagram:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white",placeholder:"@username"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e2.Z,{className:"h-4 w-4 text-pink-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.instagram?"@".concat(t.instagram):"Not provided"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Age"}),q?(0,a.jsx)(eA.I,{type:"number",value:W.age,onChange:e=>G({...W,age:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e1.Z,{className:"h-4 w-4 text-yellow-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.age||"Not specified"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Height"}),q?(0,a.jsx)(eA.I,{value:W.height,onChange:e=>G({...W,height:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white",placeholder:"e.g., 5'8"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e5.Z,{className:"h-4 w-4 text-green-400"}),(0,a.jsx)("p",{className:"text-white font-medium",children:t.height||"Not specified"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 pt-4 border-t border-gray-800",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Bio"}),q?(0,a.jsx)(eE.g,{value:W.interests,onChange:e=>G({...W,interests:e.target.value}),className:"bg-gray-800/50 border-gray-700 text-white min-h-[100px]",placeholder:"Tell us about yourself..."}):(0,a.jsx)("div",{className:"bg-gray-800/50 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-white",children:t.bio||t.interests||"No bio provided"})})]})]})]}),(0,a.jsxs)(eS.Zb,{className:"bg-gray-900/80 border-gray-800 shadow-xl",children:[(0,a.jsx)(eS.Ol,{className:"border-b border-gray-800",children:(0,a.jsxs)(eS.ll,{className:"text-white text-xl flex items-center",children:[(0,a.jsx)(eM.Z,{className:"h-5 w-5 mr-3 text-green-400"}),"Subscription & Payment"]})}),(0,a.jsx)(eS.aY,{className:"p-6 space-y-6",children:t.subscription_type?(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-purple-500/10 border border-purple-500/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(ea.Z,{className:"h-6 w-6 text-purple-400"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-white font-semibold",children:[(null===(s=t.subscription_type)||void 0===s?void 0:s.toUpperCase())||"FREE"," Plan"]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Premium subscription active"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-purple-400 font-bold text-xl",children:["₹","basic"===t.subscription_type?"99":"249"]}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:"one-time"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400 font-medium",children:"Payment Status"}),t.payment_confirmed?(0,a.jsxs)(eP.C,{className:"bg-green-500/20 text-green-400 border-green-500/50 px-4 py-2",children:[(0,a.jsx)(eu.Z,{className:"h-4 w-4 mr-2"}),"CONFIRMED"]}):t.payment_proof_url?(0,a.jsxs)(eP.C,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/50 px-4 py-2",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4 mr-2"}),"PENDING REVIEW"]}):(0,a.jsxs)(eP.C,{className:"bg-gray-500/20 text-gray-400 border-gray-500/50 px-4 py-2",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"NO PAYMENT"]})]}),t.payment_proof_url&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-gray-400 text-sm font-medium",children:"Payment Proof"}),(0,a.jsx)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-white",children:"Payment screenshot uploaded"}),(0,a.jsxs)(eZ.z,{onClick:()=>{let e=t.payment_proof_url?se(t.payment_proof_url):null;e&&window.open(e,"_blank")},variant:"outline",size:"sm",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",children:[(0,a.jsx)(eF.Z,{className:"h-4 w-4 mr-2"}),"View Proof"]})]})}),!t.payment_confirmed&&(0,a.jsxs)(eZ.z,{onClick:()=>k(t.id,"basic"===t.subscription_type?99:249),className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3",children:[(0,a.jsx)(eu.Z,{className:"h-5 w-5 mr-2"}),"Confirm Payment (₹","basic"===t.subscription_type?"99":"249",")"]})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(b.Z,{className:"h-8 w-8 text-gray-400"})}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"No subscription"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"User has not subscribed to any plan"})]})})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,a.jsxs)(eS.Zb,{className:"bg-gray-900/80 border-gray-800 shadow-xl",children:[(0,a.jsx)(eS.Ol,{className:"border-b border-gray-800",children:(0,a.jsxs)(eS.ll,{className:"text-white text-xl flex items-center",children:[(0,a.jsx)(eO.Z,{className:"h-5 w-5 mr-3 text-red-400"}),"Admin Actions"]})}),(0,a.jsx)(eS.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,a.jsxs)(eZ.z,{onClick:()=>$(!q),variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10 justify-start",children:[(0,a.jsx)(e3.Z,{className:"h-4 w-4 mr-3"}),q?"Cancel Edit":"Edit Profile"]}),q&&(0,a.jsxs)(eZ.z,{onClick:ee,disabled:X,className:"bg-green-600 hover:bg-green-700 text-white justify-start",children:[(0,a.jsx)(e6.Z,{className:"h-4 w-4 mr-3"}),X?"Saving...":"Save Changes"]}),(0,a.jsxs)(S,{children:[(0,a.jsx)(Z,{asChild:!0,children:(0,a.jsxs)(eZ.z,{variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/10 justify-start",children:[(0,a.jsx)(eQ.Z,{className:"h-4 w-4 mr-3"}),"Delete User"]})}),(0,a.jsxs)(E,{className:"bg-gray-900 border-gray-700",children:[(0,a.jsxs)(U,{children:[(0,a.jsx)(R,{className:"text-white",children:"Delete User"}),(0,a.jsxs)(T,{className:"text-gray-400",children:["Are you sure you want to permanently delete ",t.full_name,"? This action cannot be undone."]})]}),(0,a.jsxs)(z,{children:[(0,a.jsx)(L,{className:"border-gray-600 text-gray-400 hover:bg-gray-700",children:"Cancel"}),(0,a.jsx)(D,{onClick:()=>M(t.id),className:"bg-red-600 hover:bg-red-700",children:"Delete User"})]})]})]})]})})]}),(0,a.jsxs)(eS.Zb,{className:"bg-gray-900/80 border-gray-800 shadow-xl",children:[(0,a.jsx)(eS.Ol,{className:"border-b border-gray-800",children:(0,a.jsxs)(eS.ll,{className:"text-white text-xl flex items-center",children:[(0,a.jsx)(e8.Z,{className:"h-5 w-5 mr-3 text-yellow-400"}),"Admin Notes"]})}),(0,a.jsxs)(eS.aY,{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(V,{value:o,onValueChange:m,children:[(0,a.jsx)(B,{className:"bg-gray-800/50 border-gray-700 text-white",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)(Q,{className:"bg-gray-900 border-gray-700",children:[(0,a.jsx)(H,{value:"note",children:"Note"}),(0,a.jsx)(H,{value:"warning",children:"Warning"}),(0,a.jsx)(H,{value:"system",children:"System"})]})]}),(0,a.jsx)(eE.g,{placeholder:"Add a note about this user...",value:c,onChange:e=>d(e.target.value),className:"bg-gray-800/50 border-gray-700 text-white placeholder-gray-400 min-h-[80px]"}),(0,a.jsxs)(eZ.z,{onClick:()=>N(t.id,c,o),disabled:!c.trim()||x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4 mr-2"}),x?"Adding...":"Add Note"]})]}),(0,a.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:n.length>0?n.map(e=>{var s;return(0,a.jsxs)("div",{className:"bg-gray-800/30 border border-gray-700 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)(eP.C,{className:"".concat("warning"===e.type?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"system"===e.type?"bg-blue-500/20 text-blue-400 border-blue-500/50":"bg-gray-500/20 text-gray-400 border-gray-500/50"),children:(null===(s=e.type)||void 0===s?void 0:s.toUpperCase())||"NOTE"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,a.jsx)("p",{className:"text-white text-sm leading-relaxed whitespace-pre-wrap",children:e.note}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-3 pt-2 border-t border-gray-700",children:[(0,a.jsxs)("span",{children:["By: ",e.admin_email]}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleTimeString()})]})]},e.id)}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(e8.Z,{className:"h-12 w-12 text-gray-600 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-400",children:"No admin notes"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Add the first note above"})]})})]})]})]})]})]})}):null}function sd(e){let{photo:s,open:t,onOpenChange:r}=e;return s?(0,a.jsx)(j,{open:t,onOpenChange:r,children:(0,a.jsxs)(w,{className:"max-w-4xl max-h-[90vh] bg-black/95 backdrop-blur-xl border border-gray-800 p-0",children:[(0,a.jsx)(v,{className:"px-6 py-4 border-b border-gray-800",children:(0,a.jsxs)(C,{className:"text-xl font-bold text-white flex items-center space-x-2",children:[(0,a.jsx)(eG.Z,{className:"h-5 w-5 text-blue-400"}),(0,a.jsxs)("span",{children:[s.name," - Profile Photo"]})]})}),(0,a.jsx)("div",{className:"p-6 flex items-center justify-center",children:(0,a.jsx)("div",{className:"relative max-w-full max-h-[70vh] overflow-hidden rounded-lg",children:(0,a.jsx)(m(),{src:s.url,alt:"".concat(s.name," Profile Photo"),width:800,height:800,className:"object-contain max-w-full max-h-full",unoptimized:!0})})})]})}):null}function so(e){let{user:s,open:t,onOpenChange:l,onConfirmPayment:i}=e,[n,c]=(0,r.useState)(!1);if(!(null==s?void 0:s.payment_proof_url))return null;let d=async()=>{c(!0);try{await i(s.id,"basic"===s.subscription_type?99:249),l(!1)}catch(e){console.error("Error confirming payment:",e)}finally{c(!1)}};return(0,a.jsx)(j,{open:t,onOpenChange:l,children:(0,a.jsxs)(w,{className:"max-w-4xl max-h-[90vh] bg-gray-900/95 backdrop-blur-xl border border-gray-700",children:[(0,a.jsx)(v,{children:(0,a.jsxs)(C,{className:"text-xl font-bold text-white flex items-center space-x-2",children:[(0,a.jsx)(eM.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsxs)("span",{children:["Payment Verification: ",s.full_name]})]})}),(0,a.jsx)("div",{className:"py-6 space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-4",children:"Payment Details"}),(0,a.jsxs)("div",{className:"space-y-3 bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"User:"}),(0,a.jsx)("span",{className:"text-white",children:s.full_name})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Plan:"}),(0,a.jsxs)("span",{className:"text-white",children:[s.subscription_type," Plan"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Amount:"}),(0,a.jsxs)("span",{className:"text-white",children:["₹","basic"===s.subscription_type?"99":"249"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Submitted:"}),(0,a.jsx)("span",{className:"text-white",children:s.payment_date?new Date(s.payment_date).toLocaleString():"Unknown"})]})]}),(0,a.jsx)("div",{className:"mt-6 flex items-center space-x-3",children:(0,a.jsxs)(eZ.z,{onClick:d,disabled:n,className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50",children:[(0,a.jsx)(eu.Z,{className:"h-4 w-4 mr-2"}),n?"Confirming...":"Confirm Payment"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-4",children:"Payment Proof"}),(0,a.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,a.jsx)(m(),{src:(s.payment_proof_url?se(s.payment_proof_url):null)||"",alt:"Payment Proof",width:500,height:400,className:"w-full h-auto max-h-96 object-contain rounded-lg"})})]})]})})]})})}function sm(e){let{open:s,onOpenChange:t,selectedUsers:l,onBulkAction:i}=e,[n,c]=(0,r.useState)(""),[d,o]=(0,r.useState)(""),m=[{value:"verify",label:"Verify Users",icon:eu.Z,color:"text-blue-400"},{value:"suspend",label:"Suspend Users",icon:e9.Z,color:"text-yellow-400"},{value:"ban",label:"Ban Users",icon:ed.Z,color:"text-red-400"},{value:"delete",label:"Delete Users",icon:eQ.Z,color:"text-red-500"},{value:"export",label:"Export Data",icon:e7.Z,color:"text-green-400"}];return(0,a.jsx)(j,{open:s,onOpenChange:t,children:(0,a.jsxs)(w,{className:"max-w-md bg-gray-900/95 backdrop-blur-xl border border-gray-700",children:[(0,a.jsx)(v,{children:(0,a.jsxs)(C,{className:"text-xl font-bold text-white",children:["Bulk Actions (",l.size," users)"]})}),(0,a.jsxs)("div",{className:"py-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Select Action"}),(0,a.jsxs)(V,{value:n,onValueChange:c,children:[(0,a.jsx)(B,{className:"bg-white/5 border-white/20 text-white",children:(0,a.jsx)(Y,{placeholder:"Choose an action"})}),(0,a.jsx)(Q,{children:m.map(e=>(0,a.jsx)(H,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(e.icon,{className:"h-4 w-4 ".concat(e.color)}),(0,a.jsx)("span",{children:e.label})]})},e.value))})]})]}),("suspend"===n||"ban"===n||"delete"===n)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Reason"}),(0,a.jsx)(eE.g,{placeholder:"Enter reason for this action...",value:d,onChange:e=>o(e.target.value),className:"bg-white/5 border-white/20 text-white placeholder-gray-400"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 pt-4",children:[(0,a.jsx)(eZ.z,{onClick:()=>{n&&(i(n,l,{reason:d}),t(!1),c(""),o(""))},disabled:!n||"verify"!==n&&"export"!==n&&!d.trim(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white",children:"Execute Action"}),(0,a.jsx)(eZ.z,{onClick:()=>t(!1),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"})]})]})]})})}function sx(){return(0,a.jsx)(ss,{})}},6673:function(e,s,t){"use strict";t.d(s,{z:function(){return d}});var a=t(57437),r=t(2265),l=t(96061),i=t(39311),n=t(68177);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"gradient-primary text-white hover:scale-105 glow",glass:"glass text-white hover:bg-white/20 border border-white/20",outline:"border border-white/30 text-white hover:bg-white/10",ghost:"text-white hover:bg-white/10",premium:"gradient-premium text-white hover:scale-105 glow shadow-lg"},size:{default:"h-12 px-6 py-3",sm:"h-9 rounded-md px-3",lg:"h-14 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=(0,r.forwardRef)((e,s)=>{let{className:t,variant:r,size:l,...d}=e;return(0,a.jsx)(n.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-block",children:(0,a.jsx)("button",{className:(0,i.cn)(c({variant:r,size:l,className:t})),ref:s,...d})})});d.displayName="Button"},70804:function(e,s,t){"use strict";t.d(s,{Ol:function(){return c},Zb:function(){return n},aY:function(){return m},ll:function(){return d}});var a=t(57437),r=t(2265),l=t(39311),i=t(68177);let n=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-block w-full",children:(0,a.jsx)("div",{ref:s,className:(0,l.cn)("glass rounded-xl border border-white/20 shadow-lg backdrop-blur-md p-6",t),...r})})});n.displayName="Card";let c=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});c.displayName="CardHeader";let d=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight text-white font-poppins",t),...r})});d.displayName="CardTitle";let o=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-white/70",t),...r})});o.displayName="CardDescription";let m=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});m.displayName="CardContent";let x=(0,r.forwardRef)((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});x.displayName="CardFooter"},58783:function(e,s,t){"use strict";t.d(s,{I:function(){return n}});var a=t(57437),r=t(2265),l=t(39311),i=t(68177);let n=r.forwardRef((e,s)=>{let{className:t,type:r,...n}=e;return(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,ease:"easeOut"},className:"w-full relative",children:[(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-14 w-full rounded-xl glass-card-dark backdrop-blur-xl px-6 py-4 text-lg text-white placeholder:text-white/40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent disabled:cursor-not-allowed disabled:opacity-50 border border-white/10 hover:border-white/20 focus:border-white/30 transition-all duration-300 shadow-lg hover:shadow-xl focus:shadow-2xl bg-white/[0.02] hover:bg-white/[0.05] focus:bg-white/[0.08]",t),ref:s,...n}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-primary/20 to-purple-500/20 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 -z-10 blur-xl"})]})});n.displayName="Input"},28213:function(e,s,t){"use strict";t.d(s,{C:function(){return n}});var a=t(57437);t(2265);var r=t(96061),l=t(39311);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...r})}},99716:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return n},nU:function(){return o}});var a=t(57437),r=t(2265),l=t(17094),i=t(39311);let n=l.fC,c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.aV,{ref:s,className:(0,i.cn)("inline-flex h-12 items-center justify-center rounded-lg glass backdrop-blur-md p-1 text-white/70",t),...r})});c.displayName=l.aV.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});d.displayName=l.xz.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=l.VY.displayName},83114:function(e,s,t){"use strict";t.d(s,{g:function(){return n}});var a=t(57437),r=t(2265),l=t(39311),i=t(68177);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full",children:(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-lg glass backdrop-blur-md px-4 py-2 text-sm text-white placeholder:text-white/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 border border-white/20 hover:border-white/30 transition-colors resize-none",t),ref:s,...r})})});n.displayName="Textarea"},37309:function(e,s,t){"use strict";t.d(s,{F$:function(){return c},Q5:function(){return d},qE:function(){return n}});var a=t(57437),r=t(2265),l=t(61465),i=t(39311);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.fC,{ref:s,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});n.displayName=l.fC.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.Ee,{ref:s,className:(0,i.cn)("aspect-square h-full w-full",t),...r})});c.displayName=l.Ee.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.NY,{ref:s,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});d.displayName=l.NY.displayName},29155:function(e,s,t){"use strict";t.d(s,{C:function(){return n}});var a=t(57437);t(2265);var r=t(96061),l=t(39311);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...r})}},93023:function(e,s,t){"use strict";t.d(s,{d:function(){return c},z:function(){return d}});var a=t(57437),r=t(2265),l=t(67256),i=t(96061),n=t(39311);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:d=!1,...o}=e,m=d?l.g7:"button";return(0,a.jsx)(m,{className:(0,n.cn)(c({variant:r,size:i,className:t})),ref:s,...o})});d.displayName="Button"},86110:function(e,s,t){"use strict";t.d(s,{Ol:function(){return n},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var a=t(57437),r=t(2265),l=t(39311);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});i.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},6763:function(e,s,t){"use strict";t.d(s,{O:function(){return c}});var a=t(37440),r=t(62601);let l="https://xdhtrwaghahigmbojotu.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhkaHRyd2FnaGFoaWdtYm9qb3R1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5Njk1OTYsImV4cCI6MjA3MTU0NTU5Nn0.ItDXVqjGSI-DaRCCbTCiWbopMnhXLGQiA3DMgBEzS4s",n=r.env.SUPABASE_SERVICE_ROLE_KEY;if(!l)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL environment variable");if(!i)throw Error("Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable");let c=(0,a.eI)(l,i);n?(0,a.eI)(l,n,{auth:{autoRefreshToken:!1,persistSession:!1}}):(console.warn("SUPABASE_SERVICE_ROLE_KEY not found, some admin operations may not work"),(0,a.eI)(l,i))},39311:function(e,s,t){"use strict";t.d(s,{cn:function(){return l}});var a=t(57042),r=t(74769);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}}},function(e){e.O(0,[749,492,440,513,691,477,971,864,744],function(){return e(e.s=36450)}),_N_E=e.O()}]);