(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{9168:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},2491:function(e,t,r){Promise.resolve().then(r.bind(r,385))},385:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(7437),a=r(2265),s=r(2749),l=r(4033),o=r(7759),i=r(8783),c=r(3114),u=r(804),d=r(9168),p=r(3999);function h(){let{data:e}=(0,s.useSession)(),t=(0,l.useRouter)(),[r,h]=(0,a.useState)(1),[m,x]=(0,a.useState)(!1),[g,y]=(0,a.useState)({fullName:"",phoneNumber:"",age:"",university:"",yearOfStudy:"",profilePhoto:null,bio:"",instagram:"",energyStyle:"",groupSetting:"",idealWeekend:[],communicationStyle:"",bestTrait:"",relationshipValues:[],loveLanguage:"",connectionStatement:"",lookingFor:"",story:""}),b=(e,t)=>{y(r=>({...r,[e]:t}))},N=async()=>{var r;if(!(null==e?void 0:null===(r=e.user)||void 0===r?void 0:r.email)){t.push("/");return}x(!0);try{let r={email:e.user.email,full_name:g.fullName,phone_number:g.phoneNumber,age:parseInt(g.age),university:g.university,year_of_study:g.yearOfStudy,profile_photo:g.profilePhoto,bio:g.bio,energy_style:g.energyStyle,group_setting:g.groupSetting,ideal_weekend:g.idealWeekend,communication_style:g.communicationStyle,best_trait:g.bestTrait,relationship_values:g.relationshipValues,love_language:g.loveLanguage,connection_statement:g.connectionStatement,gender:"male",...g.instagram&&{instagram:g.instagram}},n=await fetch("/api/user/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});n.ok?t.push("/subscription-selection"):console.error("Failed to create user profile")}catch(e){console.error("Error submitting form:",e)}finally{x(!1)}},f=()=>{switch(r){case 1:return""!==g.fullName.trim();case 2:return""!==g.phoneNumber.trim()&&10===g.phoneNumber.length;case 3:return""!==g.age;case 4:return""!==g.university.trim();case 5:return""!==g.yearOfStudy;case 6:return null!==g.profilePhoto;case 7:return""!==g.bio.trim();case 8:return""!==g.instagram.trim();case 9:return""!==g.energyStyle;case 10:return""!==g.groupSetting;case 11:return 2===g.idealWeekend.length;case 12:return""!==g.communicationStyle;case 13:return""!==g.bestTrait;case 14:return 3===g.relationshipValues.length;case 15:return""!==g.loveLanguage;case 16:return""!==g.connectionStatement.trim();default:return!0}};return(0,n.jsxs)("div",{className:"bg-dark min-h-screen relative overflow-hidden",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-dark-gradient-animated opacity-80"}),(0,n.jsx)("div",{className:"absolute inset-0 bg-cyber-pattern opacity-10"}),(0,n.jsx)("div",{className:"floating-orb orb-1"}),(0,n.jsx)("div",{className:"floating-orb orb-2"}),(0,n.jsx)("div",{className:"floating-orb orb-3"}),(0,n.jsx)("div",{className:"relative z-10",children:(()=>{switch(r){case 1:return(0,n.jsx)(o.Z,{step:r,totalSteps:16,title:"What's your name?",onNext:()=>h(2),onBack:()=>h(1),canGoNext:f(),isFirst:!0,theme:"purple",children:(0,n.jsx)(i.I,{placeholder:"Enter your full name",value:g.fullName,onChange:e=>b("fullName",e.target.value),onKeyDown:e=>{"Enter"===e.key&&""!==g.fullName.trim()&&(e.preventDefault(),h(2))},className:"text-center text-xl"})});case 2:return(0,n.jsxs)(o.Z,{step:r,totalSteps:16,title:"Your phone number?",onNext:()=>h(3),onBack:()=>h(1),canGoNext:f(),theme:"purple",children:[(0,n.jsx)(i.I,{type:"tel",placeholder:"9876543210 (10 digits)",value:g.phoneNumber,onChange:e=>{let t=e.target.value.replace(/\D/g,"").slice(0,10);b("phoneNumber",t)},onKeyDown:e=>{"Enter"===e.key&&10===g.phoneNumber.length&&(e.preventDefault(),h(3))},className:"text-center text-xl"}),(0,n.jsxs)("p",{className:"text-sm text-white/60 mt-2",children:[g.phoneNumber.length,"/10 digits"]})]});case 3:return(0,n.jsx)(o.Z,{step:r,totalSteps:16,title:"How old are you?",onNext:()=>h(4),onBack:()=>h(2),canGoNext:f(),theme:"purple",children:(0,n.jsxs)("select",{className:"w-full h-12 rounded-lg glass backdrop-blur-md px-4 py-2 text-white bg-transparent border border-white/20",value:g.age,onChange:e=>b("age",e.target.value),children:[(0,n.jsx)("option",{value:"",disabled:!0,children:"Select your age"}),Array.from({length:8},(e,t)=>t+18).map(e=>(0,n.jsx)("option",{value:e.toString(),className:"bg-gray-800",children:e},e))]})});case 4:return(0,n.jsx)(o.Z,{step:r,totalSteps:16,title:"Which university?",onNext:()=>h(5),onBack:()=>h(3),canGoNext:f(),theme:"purple",children:(0,n.jsx)(i.I,{placeholder:"e.g., IIT Delhi",value:g.university,onChange:e=>b("university",e.target.value),onKeyDown:e=>{"Enter"===e.key&&""!==g.university.trim()&&(e.preventDefault(),h(5))},className:"text-center text-xl"})});case 5:return(0,n.jsx)(o.Z,{step:r,totalSteps:16,title:"Year of study?",onNext:()=>h(6),onBack:()=>h(4),canGoNext:f(),theme:"purple",children:(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["1st Year","2nd Year","3rd Year","4th Year","Graduate"].map(e=>(0,n.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.yearOfStudy===e?"bg-gradient-to-r from-purple-500/20 to-indigo-500/20 border-purple-500":"hover:border-white/30"),onClick:()=>b("yearOfStudy",e),children:(0,n.jsx)("p",{className:"text-center font-medium",children:e})},e))})});case 6:return(0,n.jsx)(o.Z,{step:r,totalSteps:16,title:"Add your best photo",onNext:()=>h(7),onBack:()=>h(5),canGoNext:f(),theme:"purple",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(p.Z,{onImageUploaded:e=>b("profilePhoto",e),currentImage:g.profilePhoto||void 0,className:"mx-auto"}),(0,n.jsx)("p",{className:"text-sm text-white/60 mt-4",children:"First impressions matter! Upload your best photo."})]})});case 7:return(0,n.jsxs)(o.Z,{step:r,totalSteps:16,title:"Write a fun bio",onNext:()=>h(8),onBack:()=>h(6),canGoNext:f(),theme:"purple",children:[(0,n.jsx)(c.g,{placeholder:"Tell us something interesting about yourself in one line...",value:g.bio,onChange:e=>b("bio",e.target.value),className:"glass backdrop-blur-md border border-white/20 min-h-[100px]",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||""===g.bio.trim()||(e.preventDefault(),h(8))}}),(0,n.jsxs)("p",{className:"text-sm text-white/60 mt-2",children:[g.bio.length,"/200 characters"]})]});case 8:return(0,n.jsx)(o.Z,{step:r,totalSteps:16,title:"Your Instagram username",onNext:()=>h(9),onBack:()=>h(7),canGoNext:f(),theme:"purple",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(i.I,{placeholder:"@yourhandle (without @)",value:g.instagram,onChange:e=>{let t=e.target.value.replace("@","");b("instagram",t)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),h(9))},className:"text-center text-xl"}),(0,n.jsx)("p",{className:"text-sm text-white/60 text-center",children:"This helps matches connect with you easily!"})]})});case 9:return(0,n.jsx)(o.Z,{step:r,totalSteps:16,title:"Your energy style?",onNext:()=>h(10),onBack:()=>h(8),canGoNext:f(),theme:"purple",children:(0,n.jsx)("div",{className:"space-y-4",children:[{value:"high-energy",label:"High Energy",desc:"Always ready for adventure!"},{value:"thoughtful",label:"Thoughtful",desc:"I prefer meaningful conversations"},{value:"balanced",label:"Balanced",desc:"Mix of both depending on mood"}].map(e=>(0,n.jsxs)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.energyStyle===e.value?"bg-gradient-to-r from-purple-500/20 to-indigo-500/20 border-purple-500":"hover:border-white/30"),onClick:()=>b("energyStyle",e.value),children:[(0,n.jsx)("h3",{className:"font-semibold text-lg",children:e.label}),(0,n.jsx)("p",{className:"text-sm text-white/70",children:e.desc})]},e.value))})});case 10:return(0,n.jsx)(o.Z,{step:r,totalSteps:16,title:"In group settings, you typically:",onNext:()=>h(11),onBack:()=>h(9),canGoNext:f(),theme:"purple",children:(0,n.jsx)("div",{className:"space-y-4",children:["Lead conversations","Listen and contribute thoughtfully","Prefer one-on-one connections"].map(e=>(0,n.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.groupSetting===e?"bg-gradient-to-r from-purple-500/20 to-indigo-500/20 border-purple-500":"hover:border-white/30"),onClick:()=>b("groupSetting",e),children:(0,n.jsx)("p",{className:"text-center font-medium",children:e})},e))})});case 11:return(0,n.jsxs)(o.Z,{step:r,totalSteps:16,title:"Your ideal weekend includes: (select top 2)",onNext:()=>h(12),onBack:()=>h(10),canGoNext:f(),theme:"purple",children:[(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["Adventure","Learning","Relaxing","Socializing","Creating","Exercising"].map(e=>(0,n.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.idealWeekend.includes(e)?"bg-gradient-to-r from-purple-500/20 to-indigo-500/20 border-purple-500":"hover:border-white/30"),onClick:()=>{let t=g.idealWeekend;t.includes(e)?b("idealWeekend",t.filter(t=>t!==e)):t.length<2&&b("idealWeekend",[...t,e])},children:(0,n.jsx)("p",{className:"text-center font-medium",children:e})},e))}),(0,n.jsxs)("p",{className:"text-sm text-white/60 mt-4 text-center",children:["Selected: ",g.idealWeekend.length,"/2"]})]});case 12:return(0,n.jsx)(o.Z,{step:r,totalSteps:16,title:"You communicate through: (primary style)",onNext:()=>h(13),onBack:()=>h(11),canGoNext:f(),theme:"purple",children:(0,n.jsx)("div",{className:"space-y-4",children:["Words and deep talks","Actions and gestures","Shared experiences","Humor and playfulness"].map(e=>(0,n.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.communicationStyle===e?"bg-gradient-to-r from-purple-500/20 to-indigo-500/20 border-purple-500":"hover:border-white/30"),onClick:()=>b("communicationStyle",e),children:(0,n.jsx)("p",{className:"text-center font-medium",children:e})},e))})});case 13:return(0,n.jsx)(o.Z,{step:r,totalSteps:16,title:"Your friends would say your best trait is:",onNext:()=>h(14),onBack:()=>h(12),canGoNext:f(),theme:"purple",children:(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["Loyalty","Humor","Intelligence","Kindness","Ambition","Creativity","Reliability"].map(e=>(0,n.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.bestTrait===e?"bg-gradient-to-r from-purple-500/20 to-indigo-500/20 border-purple-500":"hover:border-white/30"),onClick:()=>b("bestTrait",e),children:(0,n.jsx)("p",{className:"text-center font-medium",children:e})},e))})});case 14:return(0,n.jsxs)(o.Z,{step:r,totalSteps:16,title:"In relationships, you value most: (rank top 3)",onNext:()=>h(15),onBack:()=>h(13),canGoNext:f(),theme:"purple",children:[(0,n.jsx)("div",{className:"space-y-4",children:["Growth together","Fun & laughter","Deep connection","Shared goals","Independence with closeness"].map(e=>(0,n.jsxs)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.relationshipValues.includes(e)?"bg-gradient-to-r from-purple-500/20 to-indigo-500/20 border-purple-500":"hover:border-white/30"),onClick:()=>{let t=g.relationshipValues;t.includes(e)?b("relationshipValues",t.filter(t=>t!==e)):t.length<3&&b("relationshipValues",[...t,e])},children:[(0,n.jsx)("p",{className:"text-center font-medium",children:e}),g.relationshipValues.includes(e)&&(0,n.jsxs)("p",{className:"text-center text-sm text-purple-400 mt-1",children:["#",g.relationshipValues.indexOf(e)+1]})]},e))}),(0,n.jsxs)("p",{className:"text-sm text-white/60 mt-4 text-center",children:["Selected: ",g.relationshipValues.length,"/3"]})]});case 15:return(0,n.jsx)(o.Z,{step:r,totalSteps:16,title:"Your love language is: (select primary)",onNext:()=>h(16),onBack:()=>h(14),canGoNext:f(),theme:"purple",children:(0,n.jsx)("div",{className:"space-y-4",children:["Quality time","Words of affirmation","Physical touch","Acts of service","Gifts"].map(e=>(0,n.jsx)(u.Zb,{className:"p-4 cursor-pointer transition-all hover:scale-105 ".concat(g.loveLanguage===e?"bg-gradient-to-r from-purple-500/20 to-indigo-500/20 border-purple-500":"hover:border-white/30"),onClick:()=>b("loveLanguage",e),children:(0,n.jsx)("p",{className:"text-center font-medium",children:e})},e))})});case 16:return(0,n.jsxs)(o.Z,{step:r,totalSteps:16,title:'Complete this: "I feel most connected to someone when..."',onNext:N,onBack:()=>h(15),canGoNext:f(),isLast:!0,theme:"purple",children:[(0,n.jsx)(c.g,{placeholder:"I feel most connected to someone when...",value:g.connectionStatement,onChange:e=>b("connectionStatement",e.target.value),className:"glass backdrop-blur-md border border-white/20 min-h-[120px]"}),(0,n.jsxs)("p",{className:"text-sm text-white/60 mt-2",children:[g.connectionStatement.length,"/300 characters"]}),(0,n.jsxs)("div",{className:"text-center mt-8",children:[(0,n.jsx)(d.Z,{className:"h-16 w-16 text-purple-500 mx-auto mb-4 fill-current"}),(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Ready to Connect!"}),(0,n.jsx)("p",{className:"text-white/70",children:"Your profile is set up. Time to find meaningful connections!"}),m&&(0,n.jsx)("p",{className:"text-purple-400 mt-4",children:"Saving your profile..."})]})]})}})()})]})}function m(){let{data:e}=(0,s.useSession)(),t=(0,l.useRouter)(),[r,o]=(0,a.useState)(!0),[i,c]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{if(!e){t.push("/");return}let r=async()=>{try{let e=await fetch("/api/user/check"),r=await e.json();if(r.exists&&r.user.name){t.push("/dashboard");return}c(!0)}catch(e){console.error("Error checking profile:",e),c(!0)}finally{o(!1)}};r()},[e,t]),r)?(0,n.jsx)("div",{className:"bg-dark min-h-screen flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-white",children:"Loading..."})}):i?(0,n.jsx)(h,{}):(0,n.jsx)("div",{className:"bg-dark min-h-screen flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-white",children:"Redirecting..."})})}}},function(e){e.O(0,[749,492,625,435,971,864,744],function(){return e(e.s=2491)}),_N_E=e.O()}]);