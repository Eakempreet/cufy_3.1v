(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70],{7810:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},2851:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r.Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},4863:function(e,t,a){Promise.resolve().then(a.bind(a,3036))},6115:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(7437),n=a(8177);function s(){return(0,r.jsxs)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[(0,r.jsx)(n.E.div,{className:"absolute w-64 h-64 rounded-full gradient-primary opacity-20 blur-3xl",animate:{x:[0,100,0],y:[0,-100,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"},style:{top:"20%",left:"10%"}}),(0,r.jsx)(n.E.div,{className:"absolute w-48 h-48 rounded-full bg-secondary/30 blur-2xl",animate:{x:[0,-80,0],y:[0,120,0],scale:[1.2,1,1.2]},transition:{duration:15,repeat:1/0,ease:"easeInOut",delay:2},style:{top:"60%",right:"15%"}}),(0,r.jsx)(n.E.div,{className:"absolute w-32 h-32 rounded-full gradient-premium opacity-30 blur-xl",animate:{x:[0,60,0],y:[0,-60,0],rotate:[0,360]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:4},style:{bottom:"20%",left:"20%"}}),(0,r.jsx)(n.E.div,{className:"absolute w-20 h-20 rounded-full bg-primary/20 blur-lg",animate:{y:[0,-30,0],opacity:[.2,.5,.2]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{top:"80%",right:"30%"}}),(0,r.jsx)(n.E.div,{className:"absolute w-24 h-24 rounded-full bg-secondary/25 blur-xl",animate:{x:[0,40,0],y:[0,-20,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:3},style:{top:"40%",left:"70%"}})]})}},6673:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var r=a(7437),n=a(2265),s=a(6061),i=a(9311),l=a(8177);let o=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"gradient-primary text-white hover:scale-105 glow",glass:"glass text-white hover:bg-white/20 border border-white/20",outline:"border border-white/30 text-white hover:bg-white/10",ghost:"text-white hover:bg-white/10",premium:"gradient-premium text-white hover:scale-105 glow shadow-lg"},size:{default:"h-12 px-6 py-3",sm:"h-9 rounded-md px-3",lg:"h-14 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=(0,n.forwardRef)((e,t)=>{let{className:a,variant:n,size:s,...c}=e;return(0,r.jsx)(l.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-block",children:(0,r.jsx)("button",{className:(0,i.cn)(o({variant:n,size:s,className:a})),ref:t,...c})})});c.displayName="Button"},804:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},Zb:function(){return l},aY:function(){return u},ll:function(){return c}});var r=a(7437),n=a(2265),s=a(9311),i=a(8177);let l=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-block w-full",children:(0,r.jsx)("div",{ref:t,className:(0,s.cn)("glass rounded-xl border border-white/20 shadow-lg backdrop-blur-md p-6",a),...n})})});l.displayName="Card";let o=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...n})});o.displayName="CardHeader";let c=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight text-white font-poppins",a),...n})});c.displayName="CardTitle";let d=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-white/70",a),...n})});d.displayName="CardDescription";let u=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...n})});u.displayName="CardContent";let m=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...n})});m.displayName="CardFooter"},3036:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var r=a(7437),n=a(2265),s=a(2749),i=a(4033),l=a(8177),o=a(6673),c=a(804),d=a(7810),u=a(2851),m=a(6115);function h(){var e;let{data:t,status:a}=(0,s.useSession)(),h=(0,i.useRouter)(),[f,x]=(0,n.useState)(!1),[p,b]=(0,n.useState)(!0),[g,y]=(0,n.useState)("");(0,n.useEffect)(()=>{"unauthenticated"===a&&h.push("/")},[a,h]),(0,n.useEffect)(()=>{let e=async()=>{try{let e=new Date().getTime(),t=await fetch("/api/registration-status?t=".concat(e),{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),a=await t.json();console.log("Gender selection registration status response:",a),b(!0===a.boys_registration_enabled),y(a.boys_registration_message||"Boys registration will open soon! Girls can join now.")}catch(e){console.error("Error checking registration status:",e)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[]);let v=async e=>{var a;if(null==t?void 0:null===(a=t.user)||void 0===a?void 0:a.email){if("male"===e&&!p)return;x(!0);try{let t=await fetch("/api/auth/user"),a=await t.json();a.exists?a.user.is_admin?h.push("/admin"):h.push("/dashboard"):h.push("male"===e?"/boys-onboarding":"/girls-onboarding")}catch(t){console.error("Error checking user:",t),h.push("male"===e?"/boys-onboarding":"/girls-onboarding")}finally{x(!1)}}};return t?(0,r.jsxs)("div",{className:"min-h-screen bg-dark relative flex items-center justify-center",children:[(0,r.jsx)(m.Z,{}),(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"container mx-auto px-6 text-center",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-6xl font-bold font-poppins mb-8",children:(0,r.jsx)("span",{className:"text-gradient",children:"Welcome to Cufy!"})}),(0,r.jsxs)("p",{className:"text-xl text-white/70 mb-12 max-w-2xl mx-auto",children:["Hi ",null===(e=t.user)||void 0===e?void 0:e.name,"! To get started, please select your gender:"]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 max-w-2xl mx-auto",children:[(0,r.jsx)(l.E.div,{whileHover:{scale:1.05},transition:{duration:.3},children:(0,r.jsxs)(c.Zb,{className:"p-8 cursor-pointer hover:border-pink-500/50 transition-all",onClick:()=>v("female"),children:[(0,r.jsx)(d.Z,{className:"h-16 w-16 text-pink-500 mx-auto mb-4 fill-current"}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Female"}),(0,r.jsx)(o.z,{className:"w-full bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600",disabled:f,children:"Continue as Female"})]})}),(0,r.jsx)(l.E.div,{whileHover:{scale:p?1.05:1},transition:{duration:.3},children:(0,r.jsxs)(c.Zb,{className:"p-8 transition-all ".concat(p?"cursor-pointer hover:border-purple-500/50":"cursor-not-allowed opacity-50 border-gray-600"),onClick:()=>p&&v("male"),children:[(0,r.jsx)(u.Z,{className:"h-16 w-16 mx-auto mb-4 fill-current ".concat(p?"text-purple-500":"text-gray-500")}),(0,r.jsx)("h3",{className:"text-2xl font-bold mb-4 ".concat(p?"text-white":"text-gray-400"),children:"Male"}),p?(0,r.jsx)(o.z,{className:"w-full bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600",disabled:f,children:"Continue as Male"}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(o.z,{className:"w-full bg-gray-600 text-gray-300 cursor-not-allowed",disabled:!0,children:"Not Available"}),(0,r.jsx)("p",{className:"text-sm text-amber-400 mt-3 font-medium",children:g})]})]})})]})]})]}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-pink-500 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}},9311:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var r=a(7042),n=a(4769);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}},4033:function(e,t,a){e.exports=a(290)}},function(e){e.O(0,[749,492,971,864,744],function(){return e(e.s=4863)}),_N_E=e.O()}]);